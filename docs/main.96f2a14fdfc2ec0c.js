(self.webpackChunktrabajodecampo=self.webpackChunktrabajodecampo||[]).push([[179],{339:(id,od,te)=>{"use strict";function st(t){return"function"==typeof t}function ic(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const oc=ic(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Ba(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class Yr{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(st(r))try{r()}catch(o){n=o instanceof oc?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Zr(o)}catch(c){n=n??[],c instanceof oc?n=[...n,...c.errors]:n.push(c)}}if(n)throw new oc(n)}}add(n){var e;if(n&&n!==this)if(this.closed)Zr(n);else{if(n instanceof Yr){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&Ba(e,n)}remove(n){const{_finalizers:e}=this;e&&Ba(e,n),n instanceof Yr&&n._removeParent(this)}}Yr.EMPTY=(()=>{const t=new Yr;return t.closed=!0,t})();const sd=Yr.EMPTY;function pr(t){return t instanceof Yr||t&&"closed"in t&&st(t.remove)&&st(t.add)&&st(t.unsubscribe)}function Zr(t){st(t)?t():t.unsubscribe()}const be={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ki={setTimeout(t,n,...e){const{delegate:r}=Ki;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=Ki;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Un(t){Ki.setTimeout(()=>{const{onUnhandledError:n}=be;if(!n)throw t;n(t)})}function jo(){}const zt=kn("C",void 0,void 0);function kn(t,n,e){return{kind:t,value:n,error:e}}let $e=null;function $t(t){if(be.useDeprecatedSynchronousErrorHandling){const n=!$e;if(n&&($e={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=$e;if($e=null,e)throw r}}else t()}class Yt extends Yr{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,pr(n)&&n.add(this)):this.destination=Yn}static create(n,e,r){return new Ji(n,e,r)}next(n){this.isStopped?Tt(function ad(t){return kn("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Tt(function sc(t){return kn("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Tt(zt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ue=Function.prototype.bind;function mt(t,n){return ue.call(t,n)}class le{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){rr(r)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){rr(r)}else rr(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){rr(e)}}}class Ji extends Yt{constructor(n,e,r){let i;if(super(),st(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&be.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&mt(n.next,o),error:n.error&&mt(n.error,o),complete:n.complete&&mt(n.complete,o)}):i=n}this.destination=new le(i)}}function rr(t){be.useDeprecatedSynchronousErrorHandling?function Ua(t){be.useDeprecatedSynchronousErrorHandling&&$e&&($e.errorThrown=!0,$e.error=t)}(t):Un(t)}function Tt(t,n){const{onStoppedNotification:e}=be;e&&Ki.setTimeout(()=>e(t,n))}const Yn={closed:!0,next:jo,error:function ze(t){throw t},complete:jo},X="function"==typeof Symbol&&Symbol.observable||"@@observable";function Zt(t){return t}function ys(t){return 0===t.length?Zt:1===t.length?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}let pt=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){const o=function xr(t){return t&&t instanceof Yt||function ld(t){return t&&st(t.next)&&st(t.error)&&st(t.complete)}(t)&&pr(t)}(e)?e:new Ji(e,r,i);return $t(()=>{const{operator:c,source:f}=this;o.add(c?c.call(o,f):f?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=eo(r))((i,o)=>{const c=new Ji({next:f=>{try{e(f)}catch(p){o(p),c.unsubscribe()}},error:o,complete:i});this.subscribe(c)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[X](){return this}pipe(...e){return ys(e)(this)}toPromise(e){return new(e=eo(e))((r,i)=>{let o;this.subscribe(c=>o=c,c=>i(c),()=>r(o))})}}return t.create=n=>new t(n),t})();function eo(t){var n;return null!==(n=t??be.Promise)&&void 0!==n?n:Promise}const Go=ic(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let je=(()=>{class t extends pt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new Qs(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Go}next(e){$t(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){$t(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){$t(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:o}=this;return r||i?sd:(this.currentObservers=null,o.push(e),new Yr(()=>{this.currentObservers=null,Ba(o,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){const e=new pt;return e.source=this,e}}return t.create=(n,e)=>new Qs(n,e),t})();class Qs extends je{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:sd}}function Me(t){return st(t?.lift)}function en(t){return n=>{if(Me(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ye(t,n,e,r,i){return new Ks(t,n,e,r,i)}class Ks extends Yt{constructor(n,e,r,i,o,c){super(n),this.onFinalize=o,this.shouldUnsubscribe=c,this._next=e?function(f){try{e(f)}catch(p){n.error(p)}}:super._next,this._error=i?function(f){try{i(f)}catch(p){n.error(p)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(f){n.error(f)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Be(t,n){return en((e,r)=>{let i=0;e.subscribe(Ye(r,o=>{r.next(t.call(n,o,i++))}))})}function wo(t){return this instanceof wo?(this.v=t,this):new wo(t)}function Do(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(t,n||[]),o=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(A){r[A]&&(i[A]=function(I){return new Promise(function(P,B){o.push([A,I,P,B])>1||f(A,I)})})}function f(A,I){try{!function p(A){A.value instanceof wo?Promise.resolve(A.value.v).then(m,y):D(o[0][2],A)}(r[A](I))}catch(P){D(o[0][3],P)}}function m(A){f("next",A)}function y(A){f("throw",A)}function D(A,I){A(I),o.shift(),o.length&&f(o[0][0],o[0][1])}}function fd(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function ea(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=t[o]&&function(c){return new Promise(function(f,p){!function i(o,c,f,p){Promise.resolve(p).then(function(m){o({value:m,done:f})},c)}(f,p,(c=t[o](c)).done,c.value)})}}}const zo=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function ja(t){return st(t?.then)}function uc(t){return st(t[X])}function yt(t){return Symbol.asyncIterator&&st(t?.[Symbol.asyncIterator])}function ta(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const dc=function pd(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ci(t){return st(t?.[dc])}function Ga(t){return Do(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:i}=yield wo(e.read());if(i)return yield wo(void 0);yield yield wo(r)}}finally{e.releaseLock()}})}function Eo(t){return st(t?.getReader)}function gn(t){if(t instanceof pt)return t;if(null!=t){if(uc(t))return function za(t){return new pt(n=>{const e=t[X]();if(st(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(zo(t))return function Oi(t){return new pt(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(ja(t))return function hp(t){return new pt(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,Un)})}(t);if(yt(t))return $a(t);if(ci(t))return function $o(t){return new pt(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(Eo(t))return function _i(t){return $a(Ga(t))}(t)}throw ta(t)}function $a(t){return new pt(n=>{(function Wo(t,n){var e,r,i,o;return function ac(t,n,e,r){return new(e||(e=Promise))(function(o,c){function f(y){try{m(r.next(y))}catch(D){c(D)}}function p(y){try{m(r.throw(y))}catch(D){c(D)}}function m(y){y.done?o(y.value):function i(o){return o instanceof e?o:new e(function(c){c(o)})}(y.value).then(f,p)}m((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=fd(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(c){i={error:c}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Pr(t,n,e,r=0,i=!1){const o=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function sn(t,n,e=1/0){return st(n)?sn((r,i)=>Be((o,c)=>n(r,o,i,c))(gn(t(r,i))),e):("number"==typeof n&&(e=n),en((r,i)=>function ye(t,n,e,r,i,o,c,f){const p=[];let m=0,y=0,D=!1;const A=()=>{D&&!p.length&&!m&&n.complete()},I=B=>m<r?P(B):p.push(B),P=B=>{o&&n.next(B),m++;let G=!1;gn(e(B,y++)).subscribe(Ye(n,z=>{i?.(z),o?I(z):n.next(z)},()=>{G=!0},void 0,()=>{if(G)try{for(m--;p.length&&m<r;){const z=p.shift();c?Pr(n,c,()=>P(z)):P(z)}A()}catch(z){n.error(z)}}))};return t.subscribe(Ye(n,I,()=>{D=!0,A()})),()=>{f?.()}}(r,i,t,e)))}function xo(t=1/0){return sn(Zt,t)}const wn=new pt(t=>t.complete());function na(t){return t&&st(t.schedule)}function Wa(t){return t[t.length-1]}function qa(t){return st(Wa(t))?t.pop():void 0}function ra(t){return na(Wa(t))?t.pop():void 0}function gd(t,n=0){return en((e,r)=>{e.subscribe(Ye(r,i=>Pr(r,t,()=>r.next(i),n),()=>Pr(r,t,()=>r.complete(),n),i=>Pr(r,t,()=>r.error(i),n)))})}function to(t,n=0){return en((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function _d(t,n){if(!t)throw new Error("Iterable cannot be null");return new pt(e=>{Pr(e,n,()=>{const r=t[Symbol.asyncIterator]();Pr(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function kt(t,n){return n?function bs(t,n){if(null!=t){if(uc(t))return function md(t,n){return gn(t).pipe(to(n),gd(n))}(t,n);if(zo(t))return function fc(t,n){return new pt(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(ja(t))return function Ao(t,n){return gn(t).pipe(to(n),gd(n))}(t,n);if(yt(t))return _d(t,n);if(ci(t))return function J(t,n){return new pt(e=>{let r;return Pr(e,n,()=>{r=t[dc](),Pr(e,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(c){return void e.error(c)}o?e.complete():e.next(i)},0,!0)}),()=>st(r?.return)&&r.return()})}(t,n);if(Eo(t))return function mn(t,n){return _d(Ga(t),n)}(t,n)}throw ta(t)}(t,n):gn(t)}function Dt(...t){const n=ra(t),e=function gp(t,n){return"number"==typeof Wa(t)?t.pop():n}(t,1/0),r=t;return r.length?1===r.length?gn(r[0]):xo(e)(kt(r,n)):wn}function at(t,n,...e){if(!0===n)return void t();if(!1===n)return;const r=new Ji({next:()=>{r.unsubscribe(),t()}});return n(...e).subscribe(r)}function Pt(t){for(let n in t)if(t[n]===Pt)return n;throw Error("Could not find renamed property on target object.")}function ia(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Lt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Lt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function _n(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const So=Pt({__forward_ref__:Pt});function dt(t){return t.__forward_ref__=dt,t.toString=function(){return Lt(this())},t}function ve(t){return Cs(t)?t():t}function Cs(t){return"function"==typeof t&&t.hasOwnProperty(So)&&t.__forward_ref__===dt}class ae extends Error{constructor(n,e){super(function Bt(t,n){return`NG0${Math.abs(t)}${n?": "+n.trim():""}`}(n,e)),this.code=n}}function Se(t){return"string"==typeof t?t:null==t?"":String(t)}function Ar(t,n){throw new ae(-201,!1)}function de(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}function ie(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ft(t){return{providers:t.providers||[],imports:t.imports||[]}}function Fi(t){return ws(t,To)||ws(t,Sr)}function ws(t,n){return t.hasOwnProperty(n)?t[n]:null}function gc(t){return t&&(t.hasOwnProperty(mc)||t.hasOwnProperty(wd))?t[mc]:null}const To=Pt({\u0275prov:Pt}),mc=Pt({\u0275inj:Pt}),Sr=Pt({ngInjectableDef:Pt}),wd=Pt({ngInjectorDef:Pt});var Le=(()=>((Le=Le||{})[Le.Default=0]="Default",Le[Le.Host=1]="Host",Le[Le.Self=2]="Self",Le[Le.SkipSelf=4]="SkipSelf",Le[Le.Optional=8]="Optional",Le))();let _c;function ui(t){const n=_c;return _c=t,n}function Dd(t,n,e){const r=Fi(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Le.Optional?null:void 0!==n?n:void Ar(Lt(t))}function no(t){return{toString:t}.toString()}var Lr=(()=>((Lr=Lr||{})[Lr.OnPush=0]="OnPush",Lr[Lr.Default=1]="Default",Lr))(),$=(()=>{return(t=$||($={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",$;var t})();const we=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Yo={},xt=[],Za=Pt({\u0275cmp:Pt}),vc=Pt({\u0275dir:Pt}),Ds=Pt({\u0275pipe:Pt}),Ln=Pt({\u0275mod:Pt}),vi=Pt({\u0275fac:Pt}),ki=Pt({__NG_ELEMENT_ID__:Pt});let Xa=0;function fe(t){return no(()=>{const e=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Lr.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||xt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||$.Emulated,id:"c"+Xa++,styles:t.styles||xt,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.dependencies,c=t.features;return i.inputs=yc(t.inputs,r),i.outputs=yc(t.outputs),c&&c.forEach(f=>f(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(Re).filter(xd):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(or).filter(xd):null,i})}function Re(t){return At(t)||vr(t)}function xd(t){return null!==t}function Te(t){return no(()=>({type:t.type,bootstrap:t.bootstrap||xt,declarations:t.declarations||xt,imports:t.imports||xt,exports:t.exports||xt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function yc(t,n){if(null==t)return Yo;const e={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),e[i]=r,n&&(n[i]=o)}return e}const me=fe;function Br(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function At(t){return t[Za]||null}function vr(t){return t[vc]||null}function or(t){return t[Ds]||null}function Ur(t,n){const e=t[Ln]||null;if(!e&&!0===n)throw new Error(`Type ${Lt(t)} does not have '\u0275mod' property.`);return e}const s=22,v=10;function x(t){return Array.isArray(t)&&"object"==typeof t[1]}function T(t){return Array.isArray(t)&&!0===t[1]}function R(t){return 0!=(8&t.flags)}function k(t){return 2==(2&t.flags)}function L(t){return 1==(1&t.flags)}function H(t){return null!==t.template}function W(t){return 0!=(256&t[2])}function la(t,n){return t.hasOwnProperty(vi)?t[vi]:null}class US{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function ar(){return x_}function x_(t){return t.type.prototype.ngOnChanges&&(t.setInput=HS),VS}function VS(){const t=S_(this),n=t?.current;if(n){const e=t.previous;if(e===Yo)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function HS(t,n,e,r){const i=S_(t)||function jS(t,n){return t[A_]=n}(t,{previous:Yo,current:null}),o=i.current||(i.current={}),c=i.previous,f=this.declaredInputs[e],p=c[f];o[f]=new US(p&&p.currentValue,n,c===Yo),t[r]=n}ar.ngInherit=!0;const A_="__ngSimpleChanges__";function S_(t){return t[A_]||null}function Zn(t){for(;Array.isArray(t);)t=t[0];return t}function Ad(t,n){return Zn(n[t])}function yi(t,n){return Zn(n[t.index])}function xp(t,n){return t.data[n]}function Ka(t,n){return t[n]}function bi(t,n){const e=n[t];return x(e)?e:e[0]}function Sd(t){return 64==(64&t[2])}function Ss(t,n){return null==n?null:t[n]}function T_(t){t[18]=0}function Ap(t,n){t[5]+=n;let e=t,r=t[3];for(;null!==r&&(1===n&&1===e[5]||-1===n&&0===e[5]);)r[5]+=n,e=r,r=r[3]}const Xe={lFrame:B_(null),bindingsEnabled:!0};function I_(){return Xe.bindingsEnabled}function ee(){return Xe.lFrame.lView}function bt(){return Xe.lFrame.tView}function Ee(t){return Xe.lFrame.contextLView=t,t[8]}function xe(t){return Xe.lFrame.contextLView=null,t}function lr(){let t=M_();for(;null!==t&&64===t.type;)t=t.parent;return t}function M_(){return Xe.lFrame.currentTNode}function bc(){const t=Xe.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function No(t,n){const e=Xe.lFrame;e.currentTNode=t,e.isParent=n}function Sp(){return Xe.lFrame.isParent}function Tp(){Xe.lFrame.isParent=!1}function ei(){const t=Xe.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Ko(){return Xe.lFrame.bindingIndex}function Ja(){return Xe.lFrame.bindingIndex++}function Jo(t){const n=Xe.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function F_(t){Xe.lFrame.inI18n=t}function rT(t,n){const e=Xe.lFrame;e.bindingIndex=e.bindingRootIndex=t,Np(n)}function Np(t){Xe.lFrame.currentDirectiveIndex=t}function k_(){return Xe.lFrame.currentQueryIndex}function Mp(t){Xe.lFrame.currentQueryIndex=t}function oT(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function P_(t,n,e){if(e&Le.SkipSelf){let i=n,o=t;for(;!(i=i.parent,null!==i||e&Le.Host||(i=oT(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;n=i,t=o}const r=Xe.lFrame=L_();return r.currentTNode=n,r.lView=t,!0}function Op(t){const n=L_(),e=t[1];Xe.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function L_(){const t=Xe.lFrame,n=null===t?null:t.child;return null===n?B_(t):n}function B_(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function U_(){const t=Xe.lFrame;return Xe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const V_=U_;function Rp(){const t=U_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ti(){return Xe.lFrame.selectedIndex}function Ts(t){Xe.lFrame.selectedIndex=t}function Dn(){const t=Xe.lFrame;return xp(t.tView,t.selectedIndex)}function Td(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const o=t.data[e].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:f,ngAfterViewInit:p,ngAfterViewChecked:m,ngOnDestroy:y}=o;c&&(t.contentHooks||(t.contentHooks=[])).push(-e,c),f&&((t.contentHooks||(t.contentHooks=[])).push(e,f),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,f)),p&&(t.viewHooks||(t.viewHooks=[])).push(-e,p),m&&((t.viewHooks||(t.viewHooks=[])).push(e,m),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,m)),null!=y&&(t.destroyHooks||(t.destroyHooks=[])).push(e,y)}}function Nd(t,n,e){H_(t,n,3,e)}function Id(t,n,e,r){(3&t[2])===e&&H_(t,n,e,r)}function Fp(t,n){let e=t[2];(3&e)===n&&(e&=2047,e+=1,t[2]=e)}function H_(t,n,e,r){const o=r??-1,c=n.length-1;let f=0;for(let p=void 0!==r?65535&t[18]:0;p<c;p++)if("number"==typeof n[p+1]){if(f=n[p],null!=r&&f>=r)break}else n[p]<0&&(t[18]+=65536),(f<o||-1==o)&&(pT(t,e,n,p),t[18]=(4294901760&t[18])+p+2),p++}function pT(t,n,e,r){const i=e[r]<0,o=e[r+1],f=t[i?-e[r]:e[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{o.call(f)}finally{}}}else try{o.call(f)}finally{}}class Cc{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function Md(t,n,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const o=e[r++],c=e[r++],f=e[r++];t.setAttribute(n,c,f,o)}else{const o=i,c=e[++r];G_(o)?t.setProperty(n,o,c):t.setAttribute(n,o,c),r++}}return r}function j_(t){return 3===t||4===t||6===t}function G_(t){return 64===t.charCodeAt(0)}function Od(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?e=i:0===e||z_(t,e,i,null,-1===e||2===e?n[++r]:null)}}return t}function z_(t,n,e,r,i){let o=0,c=t.length;if(-1===n)c=-1;else for(;o<t.length;){const f=t[o++];if("number"==typeof f){if(f===n){c=-1;break}if(f>n){c=o-1;break}}}for(;o<t.length;){const f=t[o];if("number"==typeof f)break;if(f===e){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==c&&(t.splice(c,0,n),o=c+1),t.splice(o++,0,e),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function $_(t){return-1!==t}function el(t){return 32767&t}function tl(t,n){let e=function yT(t){return t>>16}(t),r=n;for(;e>0;)r=r[15],e--;return r}let Pp=!0;function Rd(t){const n=Pp;return Pp=t,n}let bT=0;const Io={};function Dc(t,n){const e=Bp(t,n);if(-1!==e)return e;const r=n[1];r.firstCreatePass&&(t.injectorIndex=n.length,Lp(r.data,t),Lp(n,null),Lp(r.blueprint,null));const i=Fd(t,n),o=t.injectorIndex;if($_(i)){const c=el(i),f=tl(i,n),p=f[1].data;for(let m=0;m<8;m++)n[o+m]=f[c+m]|p[c+m]}return n[o+8]=i,o}function Lp(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Bp(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Fd(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;null!==i;){if(r=ev(i),null===r)return-1;if(e++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function kd(t,n,e){!function CT(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(ki)&&(r=e[ki]),null==r&&(r=e[ki]=bT++);const i=255&r;n.data[t+(i>>5)]|=1<<i}(t,n,e)}function Y_(t,n,e){if(e&Le.Optional||void 0!==t)return t;Ar()}function Z_(t,n,e,r){if(e&Le.Optional&&void 0===r&&(r=null),0==(e&(Le.Self|Le.Host))){const i=t[9],o=ui(void 0);try{return i?i.get(n,r,e&Le.Optional):Dd(n,r,e&Le.Optional)}finally{ui(o)}}return Y_(r,0,e)}function X_(t,n,e,r=Le.Default,i){if(null!==t){if(1024&n[2]){const c=function AT(t,n,e,r,i){let o=t,c=n;for(;null!==o&&null!==c&&1024&c[2]&&!(256&c[2]);){const f=Q_(o,c,e,r|Le.Self,Io);if(f!==Io)return f;let p=o.parent;if(!p){const m=c[21];if(m){const y=m.get(e,Io,r);if(y!==Io)return y}p=ev(c),c=c[15]}o=p}return i}(t,n,e,r,Io);if(c!==Io)return c}const o=Q_(t,n,e,r,Io);if(o!==Io)return o}return Z_(n,e,r,i)}function Q_(t,n,e,r,i){const o=function ET(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(ki)?t[ki]:void 0;return"number"==typeof n?n>=0?255&n:xT:n}(e);if("function"==typeof o){if(!P_(n,t,r))return r&Le.Host?Y_(i,0,r):Z_(n,e,r,i);try{const c=o(r);if(null!=c||r&Le.Optional)return c;Ar()}finally{V_()}}else if("number"==typeof o){let c=null,f=Bp(t,n),p=-1,m=r&Le.Host?n[16][6]:null;for((-1===f||r&Le.SkipSelf)&&(p=-1===f?Fd(t,n):n[f+8],-1!==p&&J_(r,!1)?(c=n[1],f=el(p),n=tl(p,n)):f=-1);-1!==f;){const y=n[1];if(K_(o,f,y.data)){const D=DT(f,n,e,c,r,m);if(D!==Io)return D}p=n[f+8],-1!==p&&J_(r,n[1].data[f+8]===m)&&K_(o,f,n)?(c=y,f=el(p),n=tl(p,n)):f=-1}}return i}function DT(t,n,e,r,i,o){const c=n[1],f=c.data[t+8],y=Pd(f,c,e,null==r?k(f)&&Pp:r!=c&&0!=(3&f.type),i&Le.Host&&o===f);return null!==y?Ec(n,c,y,f):Io}function Pd(t,n,e,r,i){const o=t.providerIndexes,c=n.data,f=1048575&o,p=t.directiveStart,y=o>>20,A=i?f+y:t.directiveEnd;for(let I=r?f:f+y;I<A;I++){const P=c[I];if(I<p&&e===P||I>=p&&P.type===e)return I}if(i){const I=c[p];if(I&&H(I)&&I.type===e)return p}return null}function Ec(t,n,e,r){let i=t[e];const o=n.data;if(function gT(t){return t instanceof Cc}(i)){const c=i;c.resolving&&function O(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new ae(-200,`Circular dependency in DI detected for ${t}${e}`)}(function V(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Se(t)}(o[e]));const f=Rd(c.canSeeViewProviders);c.resolving=!0;const p=c.injectImpl?ui(c.injectImpl):null;P_(t,r,Le.Default);try{i=t[e]=c.factory(void 0,o,t,r),n.firstCreatePass&&e>=r.directiveStart&&function hT(t,n,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){const c=x_(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,c),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,c)}i&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,i),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,o))}(e,o[e],n)}finally{null!==p&&ui(p),Rd(f),c.resolving=!1,V_()}}return i}function K_(t,n,e){return!!(e[n+(t>>5)]&1<<t)}function J_(t,n){return!(t&Le.Self||t&Le.Host&&n)}class nl{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return X_(this._tNode,this._lView,n,r,e)}}function xT(){return new nl(lr(),ee())}function Nt(t){return no(()=>{const n=t.prototype.constructor,e=n[vi]||Up(n),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[vi]||Up(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Up(t){return Cs(t)?()=>{const n=Up(ve(t));return n&&n()}:la(t)}function ev(t){const n=t[1],e=n.type;return 2===e?n.declTNode:1===e?t[6]:null}function Is(t){return function wT(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const o=e[i];if(j_(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(o===n)return e[i+1];i+=2}}}return null}(lr(),t)}const il="__parameters__";function sl(t,n,e){return no(()=>{const r=function Vp(t){return function(...e){if(t){const r=t(...e);for(const i in r)this[i]=r[i]}}}(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;const c=new i(...o);return f.annotation=c,f;function f(p,m,y){const D=p.hasOwnProperty(il)?p[il]:Object.defineProperty(p,il,{value:[]})[il];for(;D.length<=y;)D.push(null);return(D[y]=D[y]||[]).push(c),p}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Fe{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ie({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ci(t,n){void 0===n&&(n=t);for(let e=0;e<t.length;e++){let r=t[e];Array.isArray(r)?(n===t&&(n=t.slice(0,e)),Ci(r,n)):n!==t&&n.push(r)}return n}function es(t,n){t.forEach(e=>Array.isArray(e)?es(e,n):n(e))}function nv(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Ld(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Sc(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}function wi(t,n,e){let r=al(t,n);return r>=0?t[1|r]=e:(r=~r,function IT(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(1===i)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;)t[i]=t[i-2],i--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function jp(t,n){const e=al(t,n);if(e>=0)return t[1|e]}function al(t,n){return function ov(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){const o=r+(i-r>>1),c=t[o<<e];if(n===c)return o<<e;c>n?i=o:r=o+1}return~(i<<e)}(t,n,1)}const Tc={},zp="__NG_DI_FLAG__",Ud="ngTempTokenPath",BT=/\n/gm,sv="__source";let Nc;function ll(t){const n=Nc;return Nc=t,n}function VT(t,n=Le.Default){if(void 0===Nc)throw new ae(-203,!1);return null===Nc?Dd(t,void 0,n):Nc.get(t,n&Le.Optional?null:void 0,n)}function oe(t,n=Le.Default){return(function yp(){return _c}()||VT)(ve(t),n)}function jn(t,n=Le.Default){return"number"!=typeof n&&(n=0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)),oe(t,n)}function $p(t){const n=[];for(let e=0;e<t.length;e++){const r=ve(t[e]);if(Array.isArray(r)){if(0===r.length)throw new ae(900,!1);let i,o=Le.Default;for(let c=0;c<r.length;c++){const f=r[c],p=HT(f);"number"==typeof p?-1===p?i=f.token:o|=p:i=f}n.push(oe(i,o))}else n.push(oe(r))}return n}function Ic(t,n){return t[zp]=n,t.prototype[zp]=n,t}function HT(t){return t[zp]}const Mc=Ic(sl("Optional"),8),Oc=Ic(sl("SkipSelf"),4);var hi=(()=>((hi=hi||{})[hi.Important=1]="Important",hi[hi.DashCase=2]="DashCase",hi))();const nN=/^>|^->|<!--|-->|--!>|<!-$/g,rN=/(<|>)/;const Xp=new Map;let oN=0;const Kp="__ngContext__";function Hr(t,n){x(n)?(t[Kp]=n[20],function aN(t){Xp.set(t[20],t)}(n)):t[Kp]=n}let Jp;function eg(t,n){return Jp(t,n)}function Pc(t){const n=t[3];return T(n)?n[3]:n}function tg(t){return Sv(t[13])}function ng(t){return Sv(t[4])}function Sv(t){for(;null!==t&&!T(t);)t=t[4];return t}function ul(t,n,e,r,i){if(null!=r){let o,c=!1;T(r)?o=r:x(r)&&(c=!0,r=r[0]);const f=Zn(r);0===t&&null!==e?null==i?Rv(n,e,f):ca(n,e,f,i||null,!0):1===t&&null!==e?ca(n,e,f,i||null,!0):2===t?cg(n,f,c):3===t&&n.destroyNode(f),null!=o&&function ON(t,n,e,r,i){const o=e[7];o!==Zn(e)&&ul(n,t,r,o,i);for(let f=v;f<e.length;f++){const p=e[f];Lc(p[1],p,t,n,r,o)}}(n,t,o,e,i)}}function rg(t,n){return t.createText(n)}function Tv(t,n,e){t.setValue(n,e)}function bN(t,n){return t.createComment(function yv(t){return t.replace(nN,n=>n.replace(rN,"\u200b$1\u200b"))}(n))}function ig(t,n,e){return t.createElement(n,e)}function Nv(t,n){const e=t[9],r=e.indexOf(n),i=n[3];512&n[2]&&(n[2]&=-513,Ap(i,-1)),e.splice(r,1)}function og(t,n){if(t.length<=v)return;const e=v+n,r=t[e];if(r){const i=r[17];null!==i&&i!==t&&Nv(i,r),n>0&&(t[e-1][4]=r[4]);const o=Ld(t,v+n);!function CN(t,n){Lc(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(r[1],r);const c=o[19];null!==c&&c.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function Iv(t,n){if(!(128&n[2])){const e=n[11];e.destroyNode&&Lc(t,n,e,3,null,null),function EN(t){let n=t[13];if(!n)return sg(t[1],t);for(;n;){let e=null;if(x(n))e=n[13];else{const r=n[v];r&&(e=r)}if(!e){for(;n&&!n[4]&&n!==t;)x(n)&&sg(n[1],n),n=n[3];null===n&&(n=t),x(n)&&sg(n[1],n),e=n&&n[4]}n=e}}(n)}}function sg(t,n){if(!(128&n[2])){n[2]&=-65,n[2]|=128,function TN(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const i=n[e[r]];if(!(i instanceof Cc)){const o=e[r+1];if(Array.isArray(o))for(let c=0;c<o.length;c+=2){const f=i[o[c]],p=o[c+1];try{p.call(f)}finally{}}else try{o.call(i)}finally{}}}}(t,n),function SN(t,n){const e=t.cleanup,r=n[7];let i=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const c=e[o+1],f="function"==typeof c?c(n):Zn(n[c]),p=r[i=e[o+2]],m=e[o+3];"boolean"==typeof m?f.removeEventListener(e[o],p,m):m>=0?r[i=m]():r[i=-m].unsubscribe(),o+=2}else{const c=r[i=e[o+1]];e[o].call(c)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();n[7]=null}}(t,n),1===n[1].type&&n[11].destroy();const e=n[17];if(null!==e&&T(n[3])){e!==n[3]&&Nv(e,n);const r=n[19];null!==r&&r.detachView(t)}!function lN(t){Xp.delete(t[20])}(n)}}function Mv(t,n,e){return Ov(t,n.parent,e)}function Ov(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===$.None||i===$.Emulated)return null}return yi(r,e)}function ca(t,n,e,r,i){t.insertBefore(n,e,r,i)}function Rv(t,n,e){t.appendChild(n,e)}function Fv(t,n,e,r,i){null!==r?ca(t,n,e,r,i):Rv(t,n,e)}function jd(t,n){return t.parentNode(n)}function kv(t,n,e){return Lv(t,n,e)}function Pv(t,n,e){return 40&t.type?yi(t,e):null}let ag,$d,hg,Lv=Pv;function Bv(t,n){Lv=t,ag=n}function Gd(t,n,e,r){const i=Mv(t,r,n),o=n[11],f=kv(r.parent||n[6],r,n);if(null!=i)if(Array.isArray(e))for(let p=0;p<e.length;p++)Fv(o,i,e[p],f,!1);else Fv(o,i,e,f,!1);void 0!==ag&&ag(o,r,n,e,i)}function zd(t,n){if(null!==n){const e=n.type;if(3&e)return yi(n,t);if(4&e)return lg(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return zd(t,r);{const i=t[n.index];return T(i)?lg(-1,i):Zn(i)}}if(32&e)return eg(n,t)()||Zn(t[n.index]);{const r=Uv(t,n);return null!==r?Array.isArray(r)?r[0]:zd(Pc(t[16]),r):zd(t,n.next)}}return null}function Uv(t,n){return null!==n?t[16][6].projection[n.projection]:null}function lg(t,n){const e=v+t+1;if(e<n.length){const r=n[e],i=r[1].firstChild;if(null!==i)return zd(r,i)}return n[7]}function cg(t,n,e){const r=jd(t,n);r&&function NN(t,n,e,r){t.removeChild(n,e,r)}(t,r,n,e)}function ug(t,n,e,r,i,o,c){for(;null!=e;){const f=r[e.index],p=e.type;if(c&&0===n&&(f&&Hr(Zn(f),r),e.flags|=4),64!=(64&e.flags))if(8&p)ug(t,n,e.child,r,i,o,!1),ul(n,t,i,f,o);else if(32&p){const m=eg(e,r);let y;for(;y=m();)ul(n,t,i,y,o);ul(n,t,i,f,o)}else 16&p?Vv(t,n,r,e,i,o):ul(n,t,i,f,o);e=c?e.projectionNext:e.next}}function Lc(t,n,e,r,i,o){ug(e,r,t.firstChild,n,i,o,!1)}function Vv(t,n,e,r,i,o){const c=e[16],p=c[6].projection[r.projection];if(Array.isArray(p))for(let m=0;m<p.length;m++)ul(n,t,i,p[m],o);else ug(t,n,p,c[3],i,o,!0)}function Hv(t,n,e){t.setAttribute(n,"style",e)}function dg(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function ua(t){return function fg(){if(void 0===$d&&($d=null,we.trustedTypes))try{$d=we.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return $d}()?.createHTML(t)||t}class Wv{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ms(t){return t instanceof Wv?t.changingThisBreaksApplicationSecurity:t}class zN{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(ua(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class $N{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(n){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=ua(n),e;const r=this.inertDocument.createElement("body");return r.innerHTML=ua(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(n){const e=n.attributes;for(let i=e.length-1;0<i;i--){const c=e.item(i).name;("xmlns:ns1"===c||0===c.indexOf("ns1:"))&&n.removeAttribute(c)}let r=n.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const qN=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function gg(t){return(t=String(t)).match(qN)?t:"unsafe:"+t}function ts(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function Uc(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const Yv=ts("area,br,col,hr,img,wbr"),Zv=ts("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xv=ts("rp,rt"),mg=Uc(Yv,Uc(Zv,ts("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Uc(Xv,ts("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Uc(Xv,Zv)),_g=ts("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qv=Uc(_g,ts("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ts("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Xn=(()=>((Xn=Xn||{})[Xn.NONE=0]="NONE",Xn[Xn.HTML=1]="HTML",Xn[Xn.STYLE=2]="STYLE",Xn[Xn.SCRIPT=3]="SCRIPT",Xn[Xn.URL=4]="URL",Xn[Xn.RESOURCE_URL=5]="RESOURCE_URL",Xn))();function yg(t){const n=function Vc(){const t=ee();return t&&t[12]}();return n?n.sanitize(Xn.URL,t)||"":function Bc(t,n){const e=function GN(t){return t instanceof Wv&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===n}(t,"URL")?Ms(t):gg(Se(t))}const bg=new Fe("ENVIRONMENT_INITIALIZER"),ey=new Fe("INJECTOR",-1),ty=new Fe("INJECTOR_DEF_TYPES");class ny{get(n,e=Tc){if(e===Tc){const r=new Error(`NullInjectorError: No provider for ${Lt(n)}!`);throw r.name="NullInjectorError",r}return e}}function aI(...t){return{\u0275providers:ry(0,t)}}function ry(t,...n){const e=[],r=new Set;let i;return es(n,o=>{const c=o;Cg(c,e,[],r)&&(i||(i=[]),i.push(c))}),void 0!==i&&iy(i,e),e}function iy(t,n){for(let e=0;e<t.length;e++){const{providers:i}=t[e];es(i,o=>{n.push(o)})}}function Cg(t,n,e,r){if(!(t=ve(t)))return!1;let i=null,o=gc(t);const c=!o&&At(t);if(o||c){if(c&&!c.standalone)return!1;i=t}else{const p=t.ngModule;if(o=gc(p),!o)return!1;i=p}const f=r.has(i);if(c){if(f)return!1;if(r.add(i),c.dependencies){const p="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const m of p)Cg(m,n,e,r)}}else{if(!o)return!1;{if(null!=o.imports&&!f){let m;r.add(i);try{es(o.imports,y=>{Cg(y,n,e,r)&&(m||(m=[]),m.push(y))})}finally{}void 0!==m&&iy(m,n)}if(!f){const m=la(i)||(()=>new i);n.push({provide:i,useFactory:m,deps:xt},{provide:ty,useValue:i,multi:!0},{provide:bg,useValue:()=>oe(i),multi:!0})}const p=o.providers;null==p||f||es(p,y=>{n.push(y)})}}return i!==t&&void 0!==t.providers}const lI=Pt({provide:String,useValue:Pt});function wg(t){return null!==t&&"object"==typeof t&&lI in t}function da(t){return"function"==typeof t}const Dg=new Fe("Set Injector scope."),Yd={},uI={};let Eg;function Zd(){return void 0===Eg&&(Eg=new ny),Eg}class ns{}class ay extends ns{constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ag(n,c=>this.processProvider(c)),this.records.set(ey,dl(void 0,this)),i.has("environment")&&this.records.set(ns,dl(void 0,this));const o=this.records.get(Dg);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ty.multi,xt,Le.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}runInContext(n){this.assertNotDestroyed();const e=ll(this),r=ui(void 0);try{return n()}finally{ll(e),ui(r)}}get(n,e=Tc,r=Le.Default){this.assertNotDestroyed();const i=ll(this),o=ui(void 0);try{if(!(r&Le.SkipSelf)){let f=this.records.get(n);if(void 0===f){const p=function gI(t){return"function"==typeof t||"object"==typeof t&&t instanceof Fe}(n)&&Fi(n);f=p&&this.injectableDefInScope(p)?dl(xg(n),Yd):null,this.records.set(n,f)}if(null!=f)return this.hydrate(n,f)}return(r&Le.Self?Zd():this.parent).get(n,e=r&Le.Optional&&e===Tc?null:e)}catch(c){if("NullInjectorError"===c.name){if((c[Ud]=c[Ud]||[]).unshift(Lt(n)),i)throw c;return function jT(t,n,e,r){const i=t[Ud];throw n[sv]&&i.unshift(n[sv]),t.message=function GT(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Lt(n);if(Array.isArray(n))i=n.map(Lt).join(" -> ");else if("object"==typeof n){let o=[];for(let c in n)if(n.hasOwnProperty(c)){let f=n[c];o.push(c+":"+("string"==typeof f?JSON.stringify(f):Lt(f)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(BT,"\n  ")}`}("\n"+t.message,i,e,r),t.ngTokenPath=i,t[Ud]=null,t}(c,n,"R3InjectorError",this.source)}throw c}finally{ui(o),ll(i)}}resolveInjectorInitializers(){const n=ll(this),e=ui(void 0);try{const r=this.get(bg.multi,xt,Le.Self);for(const i of r)i()}finally{ll(n),ui(e)}}toString(){const n=[],e=this.records;for(const r of e.keys())n.push(Lt(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ae(205,!1)}processProvider(n){let e=da(n=ve(n))?n:ve(n&&n.provide);const r=function fI(t){return wg(t)?dl(void 0,t.useValue):dl(ly(t),Yd)}(n);if(da(n)||!0!==n.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=dl(void 0,Yd,!0),i.factory=()=>$p(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e){return e.value===Yd&&(e.value=uI,e.value=e.factory()),"object"==typeof e.value&&e.value&&function pI(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=ve(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function xg(t){const n=Fi(t),e=null!==n?n.factory:la(t);if(null!==e)return e;if(t instanceof Fe)throw new ae(204,!1);if(t instanceof Function)return function dI(t){const n=t.length;if(n>0)throw Sc(n,"?"),new ae(204,!1);const e=function Cd(t){const n=t&&(t[To]||t[Sr]);if(n){const e=function oa(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),n}return null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new ae(204,!1)}function ly(t,n,e){let r;if(da(t)){const i=ve(t);return la(i)||xg(i)}if(wg(t))r=()=>ve(t.useValue);else if(function sy(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...$p(t.deps||[]));else if(function oy(t){return!(!t||!t.useExisting)}(t))r=()=>oe(ve(t.useExisting));else{const i=ve(t&&(t.useClass||t.provide));if(!function hI(t){return!!t.deps}(t))return la(i)||xg(i);r=()=>new i(...$p(t.deps))}return r}function dl(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function mI(t){return!!t.\u0275providers}function Ag(t,n){for(const e of t)Array.isArray(e)?Ag(e,n):mI(e)?Ag(e.\u0275providers,n):n(e)}class cy{}class yI{resolveComponentFactory(n){throw function vI(t){const n=Error(`No component factory found for ${Lt(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let Hc=(()=>{class t{}return t.NULL=new yI,t})();function bI(){return fl(lr(),ee())}function fl(t,n){return new It(yi(t,n))}let It=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=bI,t})();function CI(t){return t instanceof It?t.nativeElement:t}class Sg{}let Di=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function wI(){const t=ee(),e=bi(lr().index,t);return(x(e)?e:t)[11]}(),t})(),DI=(()=>{class t{}return t.\u0275prov=ie({token:t,providedIn:"root",factory:()=>null}),t})();class jc{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const EI=new jc("14.2.12"),Tg={};function Ig(t){return t.ngOriginalError}class hl{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&Ig(n);for(;e&&Ig(e);)e=Ig(e);return e||null}}function rs(t){return t instanceof Function?t():t}function fy(t,n,e){let r=t.length;for(;;){const i=t.indexOf(n,e);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=n.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}e=i+1}}const hy="ng-template";function kI(t,n,e){let r=0;for(;r<t.length;){let i=t[r++];if(e&&"class"===i){if(i=t[r],-1!==fy(i.toLowerCase(),n,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===n)return!0;return!1}}return!1}function py(t){return 4===t.type&&t.value!==hy}function PI(t,n,e){return n===(4!==t.type||e?t.value:hy)}function LI(t,n,e){let r=4;const i=t.attrs||[],o=function VI(t){for(let n=0;n<t.length;n++)if(j_(t[n]))return n;return t.length}(i);let c=!1;for(let f=0;f<n.length;f++){const p=n[f];if("number"!=typeof p){if(!c)if(4&r){if(r=2|1&r,""!==p&&!PI(t,p,e)||""===p&&1===n.length){if(io(r))return!1;c=!0}}else{const m=8&r?p:n[++f];if(8&r&&null!==t.attrs){if(!kI(t.attrs,m,e)){if(io(r))return!1;c=!0}continue}const D=BI(8&r?"class":p,i,py(t),e);if(-1===D){if(io(r))return!1;c=!0;continue}if(""!==m){let A;A=D>o?"":i[D+1].toLowerCase();const I=8&r?A:null;if(I&&-1!==fy(I,m,0)||2&r&&m!==A){if(io(r))return!1;c=!0}}}}else{if(!c&&!io(r)&&!io(p))return!1;if(c&&io(p))continue;c=!1,r=p|1&r}}return io(r)||c}function io(t){return 0==(1&t)}function BI(t,n,e,r){if(null===n)return-1;let i=0;if(r||!e){let o=!1;for(;i<n.length;){const c=n[i];if(c===t)return i;if(3===c||6===c)o=!0;else{if(1===c||2===c){let f=n[++i];for(;"string"==typeof f;)f=n[++i];continue}if(4===c)break;if(0===c){i+=4;continue}}i+=o?1:2}return-1}return function HI(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function gy(t,n,e=!1){for(let r=0;r<n.length;r++)if(LI(t,n[r],e))return!0;return!1}function jI(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function my(t,n){return t?":not("+n.trim()+")":n}function GI(t){let n=t[0],e=1,r=2,i="",o=!1;for(;e<t.length;){let c=t[e];if("string"==typeof c)if(2&r){const f=t[++e];i+="["+c+(f.length>0?'="'+f+'"':"")+"]"}else 8&r?i+="."+c:4&r&&(i+=" "+c);else""!==i&&!io(c)&&(n+=my(o,i),i=""),r=c,o=o||!io(r);e++}return""!==i&&(n+=my(o,i)),n}const Qe={};function M(t){_y(bt(),ee(),ti()+t,!1)}function _y(t,n,e,r){if(!r)if(3==(3&n[2])){const o=t.preOrderCheckHooks;null!==o&&Nd(n,o,e)}else{const o=t.preOrderHooks;null!==o&&Id(n,o,0,e)}Ts(e)}function Cy(t,n=null,e=null,r){const i=wy(t,n,e,r);return i.resolveInjectorInitializers(),i}function wy(t,n=null,e=null,r,i=new Set){const o=[e||xt,aI(t)];return r=r||("object"==typeof t?void 0:Lt(t)),new ay(o,n||Zd(),r||null,i)}let St=(()=>{class t{static create(e,r){if(Array.isArray(e))return Cy({name:""},r,e,"");{const i=e.name??"";return Cy({name:i},e.parent,e.providers,i)}}}return t.THROW_IF_NOT_FOUND=Tc,t.NULL=new ny,t.\u0275prov=ie({token:t,providedIn:"any",factory:()=>oe(ey)}),t.__NG_ELEMENT_ID__=-1,t})();function N(t,n=Le.Default){const e=ee();return null===e?oe(t,n):X_(lr(),e,ve(t),n)}function kg(){throw new Error("invalid")}function Qd(t,n){return t<<17|n<<2}function oo(t){return t>>17&32767}function Pg(t){return 2|t}function is(t){return(131068&t)>>2}function Lg(t,n){return-131069&t|n<<2}function Bg(t){return 1|t}function Uy(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const i=e[r],o=e[r+1];if(-1!==o){const c=t.data[o];Mp(i),c.contentQueries(2,n[o],o)}}}function ef(t,n,e,r,i,o,c,f,p,m,y){const D=n.blueprint.slice();return D[0]=i,D[2]=76|r,(null!==y||t&&1024&t[2])&&(D[2]|=1024),T_(D),D[3]=D[15]=t,D[8]=e,D[10]=c||t&&t[10],D[11]=f||t&&t[11],D[12]=p||t&&t[12]||null,D[9]=m||t&&t[9]||null,D[6]=o,D[20]=function sN(){return oN++}(),D[21]=y,D[16]=2==n.type?t[16]:D,D}function ml(t,n,e,r,i){let o=t.data[n];if(null===o)o=Wg(t,n,e,r,i),function nT(){return Xe.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=r,o.attrs=i;const c=bc();o.injectorIndex=null===c?-1:c.injectorIndex}return No(o,!0),o}function Wg(t,n,e,r,i){const o=M_(),c=Sp(),p=t.data[n]=function xM(t,n,e,r,i,o){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?o:o&&o.parent,e,n,r,i);return null===t.firstChild&&(t.firstChild=p),null!==o&&(c?null==o.child&&null!==p.parent&&(o.child=p):null===o.next&&(o.next=p)),p}function _l(t,n,e,r){if(0===e)return-1;const i=n.length;for(let o=0;o<e;o++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function qg(t,n,e){Op(n);try{const r=t.viewQuery;null!==r&&t1(1,r,e);const i=t.template;null!==i&&Vy(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Uy(t,n),t.staticViewQueries&&t1(2,t.viewQuery,e);const o=t.components;null!==o&&function wM(t,n){for(let e=0;e<n.length;e++)HM(t,n[e])}(n,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[2]&=-5,Rp()}}function tf(t,n,e,r){const i=n[2];if(128!=(128&i)){Op(n);try{T_(n),function R_(t){return Xe.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&Vy(t,n,e,2,r);const c=3==(3&i);if(c){const m=t.preOrderCheckHooks;null!==m&&Nd(n,m,null)}else{const m=t.preOrderHooks;null!==m&&Id(n,m,0,null),Fp(n,0)}if(function UM(t){for(let n=tg(t);null!==n;n=ng(n)){if(!n[2])continue;const e=n[9];for(let r=0;r<e.length;r++){const i=e[r],o=i[3];0==(512&i[2])&&Ap(o,1),i[2]|=512}}}(n),function BM(t){for(let n=tg(t);null!==n;n=ng(n))for(let e=v;e<n.length;e++){const r=n[e],i=r[1];Sd(r)&&tf(i,r,i.template,r[8])}}(n),null!==t.contentQueries&&Uy(t,n),c){const m=t.contentCheckHooks;null!==m&&Nd(n,m)}else{const m=t.contentHooks;null!==m&&Id(n,m,1),Fp(n,1)}!function bM(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)Ts(~i);else{const o=i,c=e[++r],f=e[++r];rT(c,o),f(2,n[o])}}}finally{Ts(-1)}}(t,n);const f=t.components;null!==f&&function CM(t,n){for(let e=0;e<n.length;e++)VM(t,n[e])}(n,f);const p=t.viewQuery;if(null!==p&&t1(2,p,r),c){const m=t.viewCheckHooks;null!==m&&Nd(n,m)}else{const m=t.viewHooks;null!==m&&Id(n,m,2),Fp(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[2]&=-41,512&n[2]&&(n[2]&=-513,Ap(n[3],-1))}finally{Rp()}}}function Vy(t,n,e,r,i){const o=ti(),c=2&r;try{Ts(-1),c&&n.length>s&&_y(t,n,s,!1),e(r,i)}finally{Ts(o)}}function Hy(t,n,e){if(R(n)){const i=n.directiveEnd;for(let o=n.directiveStart;o<i;o++){const c=t.data[o];c.contentQueries&&c.contentQueries(1,e[o],o)}}}function Yg(t,n,e){!I_()||(function IM(t,n,e,r){const i=e.directiveStart,o=e.directiveEnd;t.firstCreatePass||Dc(e,n),Hr(r,n);const c=e.initialInputs;for(let f=i;f<o;f++){const p=t.data[f],m=H(p);m&&kM(n,e,p);const y=Ec(n,t,f,e);Hr(y,n),null!==c&&PM(0,f-i,y,p,0,c),m&&(bi(e.index,n)[8]=y)}}(t,n,e,yi(e,n)),128==(128&e.flags)&&function MM(t,n,e){const r=e.directiveStart,i=e.directiveEnd,o=e.index,c=function iT(){return Xe.lFrame.currentDirectiveIndex}();try{Ts(o);for(let f=r;f<i;f++){const p=t.data[f],m=n[f];Np(f),(null!==p.hostBindings||0!==p.hostVars||null!==p.hostAttrs)&&Yy(p,m)}}finally{Ts(-1),Np(c)}}(t,n,e))}function Zg(t,n,e=yi){const r=n.localNames;if(null!==r){let i=n.index+1;for(let o=0;o<r.length;o+=2){const c=r[o+1],f=-1===c?e(n,t):t[c];t[i++]=f}}}function jy(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Xg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Xg(t,n,e,r,i,o,c,f,p,m){const y=s+r,D=y+i,A=function DM(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:Qe);return e}(y,D),I="function"==typeof m?m():m;return A[1]={type:t,blueprint:A,template:e,queries:null,viewQuery:f,declTNode:n,data:A.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:D,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:p,consts:I,incompleteFirstPass:!1}}function Gy(t,n,e,r){const i=Jy(n);null===e?i.push(r):(i.push(e),t.firstCreatePass&&eb(t).push(r,i.length-1))}function zy(t,n,e){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(n,i):e[r]=[n,i]}return e}function $y(t,n){const r=n.directiveEnd,i=t.data,o=n.attrs,c=[];let f=null,p=null;for(let m=n.directiveStart;m<r;m++){const y=i[m],D=y.inputs,A=null===o||py(n)?null:LM(D,o);c.push(A),f=zy(D,m,f),p=zy(y.outputs,m,p)}null!==f&&(f.hasOwnProperty("class")&&(n.flags|=16),f.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=c,n.inputs=f,n.outputs=p}function Ei(t,n,e,r,i,o,c,f){const p=yi(n,e);let y,m=n.inputs;!f&&null!=m&&(y=m[r])?(n1(t,e,y,r,i),k(n)&&Wy(e,n.index)):3&n.type&&(r=function AM(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=c?c(i,n.value||"",r):i,o.setProperty(p,r,i))}function Wy(t,n){const e=bi(n,t);16&e[2]||(e[2]|=32)}function Qg(t,n,e,r){let i=!1;if(I_()){const o=function OM(t,n,e){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const c=r[o];gy(e,c.selectors,!1)&&(i||(i=[]),kd(Dc(e,n),t,c.type),H(c)?(Zy(t,e),i.unshift(c)):i.push(c))}return i}(t,n,e),c=null===r?null:{"":-1};if(null!==o){i=!0,Xy(e,t.data.length,o.length);for(let y=0;y<o.length;y++){const D=o[y];D.providersResolver&&D.providersResolver(D)}let f=!1,p=!1,m=_l(t,n,o.length,null);for(let y=0;y<o.length;y++){const D=o[y];e.mergedAttrs=Od(e.mergedAttrs,D.hostAttrs),Qy(t,e,n,m,D),FM(m,D,c),null!==D.contentQueries&&(e.flags|=8),(null!==D.hostBindings||null!==D.hostAttrs||0!==D.hostVars)&&(e.flags|=128);const A=D.type.prototype;!f&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),f=!0),!p&&(A.ngOnChanges||A.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),p=!0),m++}$y(t,e)}c&&function RM(t,n,e){if(n){const r=t.localNames=[];for(let i=0;i<n.length;i+=2){const o=e[n[i+1]];if(null==o)throw new ae(-301,!1);r.push(n[i],o)}}}(e,r,c)}return e.mergedAttrs=Od(e.mergedAttrs,e.attrs),i}function qy(t,n,e,r,i,o){const c=o.hostBindings;if(c){let f=t.hostBindingOpCodes;null===f&&(f=t.hostBindingOpCodes=[]);const p=~n.index;(function NM(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(f)!=p&&f.push(p),f.push(r,i,c)}}function Yy(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Zy(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function FM(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;H(n)&&(e[""]=t)}}function Xy(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function Qy(t,n,e,r,i){t.data[r]=i;const o=i.factory||(i.factory=la(i.type)),c=new Cc(o,H(i),N);t.blueprint[r]=c,e[r]=c,qy(t,n,0,r,_l(t,e,i.hostVars,Qe),i)}function kM(t,n,e){const r=yi(n,t),i=jy(e),o=t[10],c=nf(t,ef(t,i,null,e.onPush?32:16,r,n,o,o.createRenderer(r,e),null,null,null));t[n.index]=c}function Kg(t,n,e,r,i,o,c){if(null==o)t.removeAttribute(n,i,e);else{const f=null==c?Se(o):c(o,r||"",i);t.setAttribute(n,i,f,e)}}function PM(t,n,e,r,i,o){const c=o[n];if(null!==c){const f=r.setInput;for(let p=0;p<c.length;){const m=c[p++],y=c[p++],D=c[p++];null!==f?r.setInput(e,D,m,y):e[y]=D}}}function LM(t,n){let e=null,r=0;for(;r<n.length;){const i=n[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===e&&(e=[]),e.push(i,t[i],n[r+1])),r+=2}else r+=2;else r+=4}return e}function Ky(t,n,e,r){return new Array(t,!0,!1,n,null,0,r,e,null,null)}function VM(t,n){const e=bi(n,t);if(Sd(e)){const r=e[1];48&e[2]?tf(r,e,r.template,e[8]):e[5]>0&&Jg(e)}}function Jg(t){for(let r=tg(t);null!==r;r=ng(r))for(let i=v;i<r.length;i++){const o=r[i];if(Sd(o))if(512&o[2]){const c=o[1];tf(c,o,c.template,o[8])}else o[5]>0&&Jg(o)}const e=t[1].components;if(null!==e)for(let r=0;r<e.length;r++){const i=bi(e[r],t);Sd(i)&&i[5]>0&&Jg(i)}}function HM(t,n){const e=bi(n,t),r=e[1];(function jM(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(r,e),qg(r,e,e[8])}function nf(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function e1(t){for(;t;){t[2]|=32;const n=Pc(t);if(W(t)&&!n)return t;t=n}return null}function rf(t,n,e,r=!0){const i=n[10];i.begin&&i.begin();try{tf(t,n,t.template,e)}catch(c){throw r&&nb(n,c),c}finally{i.end&&i.end()}}function t1(t,n,e){Mp(0),n(t,e)}function Jy(t){return t[7]||(t[7]=[])}function eb(t){return t.cleanup||(t.cleanup=[])}function nb(t,n){const e=t[9],r=e?e.get(hl,null):null;r&&r.handleError(n)}function n1(t,n,e,r,i){for(let o=0;o<e.length;){const c=e[o++],f=e[o++],p=n[c],m=t.data[c];null!==m.setInput?m.setInput(p,i,r,f):p[f]=i}}function os(t,n,e){const r=Ad(n,t);Tv(t[11],r,e)}function sf(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,o=0;if(null!==n)for(let c=0;c<n.length;c++){const f=n[c];"number"==typeof f?o=f:1==o?i=_n(i,f):2==o&&(r=_n(r,f+": "+n[++c]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}function af(t,n,e,r,i=!1){for(;null!==e;){const o=n[e.index];if(null!==o&&r.push(Zn(o)),T(o))for(let f=v;f<o.length;f++){const p=o[f],m=p[1].firstChild;null!==m&&af(p[1],p,m,r)}const c=e.type;if(8&c)af(t,n,e.child,r);else if(32&c){const f=eg(e,n);let p;for(;p=f();)r.push(p)}else if(16&c){const f=Uv(n,e);if(Array.isArray(f))r.push(...f);else{const p=Pc(n[16]);af(p[1],p,f,r,!0)}}e=i?e.projectionNext:e.next}return r}class Gc{constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,e=n[1];return af(e,n,e.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(T(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(og(n,r),Ld(e,r))}this._attachedToViewContainer=!1}Iv(this._lView[1],this._lView)}onDestroy(n){Gy(this._lView[1],this._lView,null,n)}markForCheck(){e1(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){rf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function DN(t,n){Lc(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new ae(902,!1);this._appRef=n}}class GM extends Gc{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;rf(n[1],n,n[8],!1)}checkNoChanges(){}get context(){return null}}class r1 extends Hc{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=At(n);return new zc(e,this.ngModule)}}function rb(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class $M{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){const i=this.injector.get(n,Tg,r);return i!==Tg||e===Tg?i:this.parentInjector.get(n,e,r)}}class zc extends cy{constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function zI(t){return t.map(GI).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return rb(this.componentDef.inputs)}get outputs(){return rb(this.componentDef.outputs)}create(n,e,r,i){let o=(i=i||this.ngModule)instanceof ns?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const c=o?new $M(n,o):n,f=c.get(Sg,null);if(null===f)throw new ae(407,!1);const p=c.get(DI,null),m=f.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",D=r?function EM(t,n,e){return t.selectRootElement(n,e===$.ShadowDom)}(m,r,this.componentDef.encapsulation):ig(m,y,function zM(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(y)),A=this.componentDef.onPush?288:272,I=Xg(0,null,null,1,0,null,null,null,null,null),P=ef(null,I,null,A,null,null,f,m,p,c,null);let B,G;Op(P);try{const z=function YM(t,n,e,r,i,o){const c=e[1];e[22]=t;const p=ml(c,22,2,"#host",null),m=p.mergedAttrs=n.hostAttrs;null!==m&&(sf(p,m,!0),null!==t&&(Md(i,t,m),null!==p.classes&&dg(i,t,p.classes),null!==p.styles&&Hv(i,t,p.styles)));const y=r.createRenderer(t,n),D=ef(e,jy(n),null,n.onPush?32:16,e[22],p,r,y,o||null,null,null);return c.firstCreatePass&&(kd(Dc(p,e),c,n.type),Zy(c,p),Xy(p,e.length,1)),nf(e,D),e[22]=D}(D,this.componentDef,P,f,m);if(D)if(r)Md(m,D,["ng-version",EI.full]);else{const{attrs:Z,classes:q}=function $I(t){const n=[],e=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&n.push(o,t[++r]):8===i&&e.push(o);else{if(!io(i))break;i=o}r++}return{attrs:n,classes:e}}(this.componentDef.selectors[0]);Z&&Md(m,D,Z),q&&q.length>0&&dg(m,D,q.join(" "))}if(G=xp(I,s),void 0!==e){const Z=G.projection=[];for(let q=0;q<this.ngContentSelectors.length;q++){const ne=e[q];Z.push(null!=ne?Array.from(ne):null)}}B=function ZM(t,n,e,r){const i=e[1],o=function TM(t,n,e){const r=lr();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Qy(t,r,n,_l(t,n,1,null),e),$y(t,r));const i=Ec(n,t,r.directiveStart,r);Hr(i,n);const o=yi(r,n);return o&&Hr(o,n),i}(i,e,n);if(t[8]=e[8]=o,null!==r)for(const f of r)f(o,n);if(n.contentQueries){const f=lr();n.contentQueries(1,o,f.directiveStart)}const c=lr();return!i.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Ts(c.index),qy(e[1],c,0,c.directiveStart,c.directiveEnd,n),Yy(n,o)),o}(z,this.componentDef,P,[XM]),qg(I,P,null)}finally{Rp()}return new qM(this.componentType,B,fl(G,P),P,G)}}class qM extends class _I{}{constructor(n,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new GM(i),this.componentType=n}setInput(n,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){const o=this._rootLView;n1(o[1],o,i,n,e),Wy(o,this._tNode.index)}}get injector(){return new nl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function XM(){const t=lr();Td(ee()[1],t)}function Ht(t){let n=function ib(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let i;if(H(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new ae(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);const c=t;c.inputs=i1(t.inputs),c.declaredInputs=i1(t.declaredInputs),c.outputs=i1(t.outputs);const f=i.hostBindings;f&&eO(t,f);const p=i.viewQuery,m=i.contentQueries;if(p&&KM(t,p),m&&JM(t,m),ia(t.inputs,i.inputs),ia(t.declaredInputs,i.declaredInputs),ia(t.outputs,i.outputs),H(i)&&i.data.animation){const y=t.data;y.animation=(y.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let c=0;c<o.length;c++){const f=o[c];f&&f.ngInherit&&f(t),f===Ht&&(e=!1)}}n=Object.getPrototypeOf(n)}!function QM(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Od(i.hostAttrs,e=Od(e,i.hostAttrs))}}(r)}function i1(t){return t===Yo?{}:t===xt?[]:t}function KM(t,n){const e=t.viewQuery;t.viewQuery=e?(r,i)=>{n(r,i),e(r,i)}:n}function JM(t,n){const e=t.contentQueries;t.contentQueries=e?(r,i,o)=>{n(r,i,o),e(r,i,o)}:n}function eO(t,n){const e=t.hostBindings;t.hostBindings=e?(r,i)=>{n(r,i),e(r,i)}:n}let lf=null;function fa(){if(!lf){const t=we.Symbol;if(t&&t.iterator)lf=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<n.length;++e){const r=n[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(lf=r)}}}return lf}function $c(t){return!!o1(t)&&(Array.isArray(t)||!(t instanceof Map)&&fa()in t)}function o1(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Oo(t,n,e){return t[n]=e}function jr(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function ha(t,n,e,r){const i=jr(t,n,e);return jr(t,n+1,r)||i}function Ut(t,n,e,r){const i=ee();return jr(i,Ja(),n)&&(bt(),function Mo(t,n,e,r,i,o){const c=yi(t,n);Kg(n[11],c,o,t.value,e,r,i)}(Dn(),i,t,n,e,r)),Ut}function yl(t,n,e,r){return jr(t,Ja(),e)?n+Se(e)+r:Qe}function bl(t,n,e,r,i,o){const f=ha(t,Ko(),e,i);return Jo(2),f?n+Se(e)+r+Se(i)+o:Qe}function Y(t,n,e,r,i,o,c,f){const p=ee(),m=bt(),y=t+s,D=m.firstCreatePass?function lO(t,n,e,r,i,o,c,f,p){const m=n.consts,y=ml(n,t,4,c||null,Ss(m,f));Qg(n,e,y,Ss(m,p)),Td(n,y);const D=y.tViews=Xg(2,y,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,m);return null!==n.queries&&(n.queries.template(n,y),D.queries=n.queries.embeddedTView(y)),y}(y,m,p,n,e,r,i,o,c):m.data[y];No(D,!1);const A=p[11].createComment("");Gd(m,p,A,D),Hr(A,p),nf(p,p[y]=Ky(A,p,A,D)),L(D)&&Yg(m,p,D),null!=c&&Zg(p,D,f)}function Ke(t){return Ka(function tT(){return Xe.lFrame.contextLView}(),s+t)}function F(t,n,e){const r=ee();return jr(r,Ja(),n)&&Ei(bt(),Dn(),r,t,n,r[11],e,!1),F}function s1(t,n,e,r,i){const c=i?"class":"style";n1(t,e,n.inputs[c],c,r)}function w(t,n,e,r){const i=ee(),o=bt(),c=s+t,f=i[11],p=i[c]=ig(f,n,function fT(){return Xe.lFrame.currentNamespace}()),m=o.firstCreatePass?function uO(t,n,e,r,i,o,c){const f=n.consts,m=ml(n,t,2,i,Ss(f,o));return Qg(n,e,m,Ss(f,c)),null!==m.attrs&&sf(m,m.attrs,!1),null!==m.mergedAttrs&&sf(m,m.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,m),m}(c,o,i,0,n,e,r):o.data[c];No(m,!0);const y=m.mergedAttrs;null!==y&&Md(f,p,y);const D=m.classes;null!==D&&dg(f,p,D);const A=m.styles;return null!==A&&Hv(f,p,A),64!=(64&m.flags)&&Gd(o,i,p,m),0===function XS(){return Xe.lFrame.elementDepthCount}()&&Hr(p,i),function QS(){Xe.lFrame.elementDepthCount++}(),L(m)&&(Yg(o,i,m),Hy(o,m,i)),null!==r&&Zg(i,m),w}function E(){let t=lr();Sp()?Tp():(t=t.parent,No(t,!1));const n=t;!function KS(){Xe.lFrame.elementDepthCount--}();const e=bt();return e.firstCreatePass&&(Td(e,t),R(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function _T(t){return 0!=(16&t.flags)}(n)&&s1(e,n,ee(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function vT(t){return 0!=(32&t.flags)}(n)&&s1(e,n,ee(),n.stylesWithoutHost,!1),E}function U(t,n,e,r){return w(t,n,e,r),E(),U}function uf(t,n,e){const r=ee(),i=bt(),o=t+s,c=i.firstCreatePass?function dO(t,n,e,r,i){const o=n.consts,c=Ss(o,r),f=ml(n,t,8,"ng-container",c);return null!==c&&sf(f,c,!0),Qg(n,e,f,Ss(o,i)),null!==n.queries&&n.queries.elementStart(n,f),f}(o,i,r,n,e):i.data[o];No(c,!0);const f=r[o]=r[11].createComment("");return Gd(i,r,f,c),Hr(f,r),L(c)&&(Yg(i,r,c),Hy(i,c,r)),null!=e&&Zg(r,c),uf}function df(){let t=lr();const n=bt();return Sp()?Tp():(t=t.parent,No(t,!1)),n.firstCreatePass&&(Td(n,t),R(t)&&n.queries.elementEnd(t)),df}function qe(){return ee()}function qc(t){return!!t&&"function"==typeof t.then}function gb(t){return!!t&&"function"==typeof t.subscribe}const a1=gb;function j(t,n,e,r){const i=ee(),o=bt(),c=lr();return function _b(t,n,e,r,i,o,c,f){const p=L(r),y=t.firstCreatePass&&eb(t),D=n[8],A=Jy(n);let I=!0;if(3&r.type||f){const G=yi(r,n),z=f?f(G):G,Z=A.length,q=f?ge=>f(Zn(ge[r.index])):r.index;let ne=null;if(!f&&p&&(ne=function fO(t,n,e,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const c=i[o];if(c===e&&i[o+1]===r){const f=n[7],p=i[o+2];return f.length>p?f[p]:null}"string"==typeof c&&(o+=2)}return null}(t,n,i,r.index)),null!==ne)(ne.__ngLastListenerFn__||ne).__ngNextListenerFn__=o,ne.__ngLastListenerFn__=o,I=!1;else{o=yb(r,n,D,o,!1);const ge=e.listen(z,i,o);A.push(o,ge),y&&y.push(i,q,Z,Z+1)}}else o=yb(r,n,D,o,!1);const P=r.outputs;let B;if(I&&null!==P&&(B=P[i])){const G=B.length;if(G)for(let z=0;z<G;z+=2){const Ae=n[B[z]][B[z+1]].subscribe(o),wt=A.length;A.push(o,Ae),y&&y.push(i,r.index,wt,-(wt+1))}}}(o,i,i[11],c,t,n,0,r),j}function vb(t,n,e,r){try{return!1!==e(r)}catch(i){return nb(t,i),!1}}function yb(t,n,e,r,i){return function o(c){if(c===Function)return r;e1(2&t.flags?bi(t.index,n):n);let p=vb(n,0,r,c),m=o.__ngNextListenerFn__;for(;m;)p=vb(n,0,m,c)&&p,m=m.__ngNextListenerFn__;return i&&!1===p&&(c.preventDefault(),c.returnValue=!1),p}}function K(t=1){return function sT(t){return(Xe.lFrame.contextLView=function aT(t,n){for(;t>0;)n=n[15],t--;return n}(t,Xe.lFrame.contextLView))[8]}(t)}function hO(t,n){let e=null;const r=function UI(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(0==(1&e))return n[e+1]}return null}(t);for(let i=0;i<n.length;i++){const o=n[i];if("*"!==o){if(null===r?gy(t,o,!0):jI(r,o))return i}else e=i}return e}function Yc(t){const n=ee()[16][6];if(!n.projection){const r=n.projection=Sc(t?t.length:1,null),i=r.slice();let o=n.child;for(;null!==o;){const c=t?hO(o,t):0;null!==c&&(i[c]?i[c].projectionNext=o:r[c]=o,i[c]=o),o=o.next}}}function Zc(t,n=0,e){const r=ee(),i=bt(),o=ml(i,s+t,16,null,e||null);null===o.projection&&(o.projection=n),Tp(),64!=(64&o.flags)&&function MN(t,n,e){Vv(n[11],0,n,e,Mv(t,e,n),kv(e.parent||n[6],e,n))}(i,r,o)}function Sl(t,n,e){return Hi(t,"",n,"",e),Sl}function Hi(t,n,e,r,i){const o=ee(),c=yl(o,n,e,r);return c!==Qe&&Ei(bt(),Dn(),o,t,c,o[11],i,!1),Hi}function l1(t,n,e,r,i,o,c){const f=ee(),p=bl(f,n,e,r,i,o);return p!==Qe&&Ei(bt(),Dn(),f,t,p,f[11],c,!1),l1}function Sb(t,n,e,r,i){const o=t[e+1],c=null===n;let f=r?oo(o):is(o),p=!1;for(;0!==f&&(!1===p||c);){const y=t[f+1];mO(t[f],n)&&(p=!0,t[f+1]=r?Bg(y):Pg(y)),f=r?oo(y):is(y)}p&&(t[e+1]=r?Pg(o):Bg(o))}function mO(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&al(t,n)>=0}const ur={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Tb(t){return t.substring(ur.key,ur.keyEnd)}function Nb(t,n){const e=ur.textEnd;return e===n?-1:(n=ur.keyEnd=function bO(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,ur.key=n,e),Tl(t,n,e))}function Tl(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function ot(t,n){return function so(t,n,e,r){const i=ee(),o=bt(),c=Jo(2);o.firstUpdatePass&&kb(o,t,c,r),n!==Qe&&jr(i,c,n)&&Lb(o,o.data[ti()],i,i[11],t,i[c+1]=function IO(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Lt(Ms(t)))),t}(n,e),r,c)}(t,n,null,!0),ot}function ss(t){!function ao(t,n,e,r){const i=bt(),o=Jo(2);i.firstUpdatePass&&kb(i,null,o,r);const c=ee();if(e!==Qe&&jr(c,o,e)){const f=i.data[ti()];if(Ub(f,r)&&!Fb(i,o)){let p=r?f.classesWithoutHost:f.stylesWithoutHost;null!==p&&(e=_n(p,e||"")),s1(i,f,c,e,r)}else!function NO(t,n,e,r,i,o,c,f){i===Qe&&(i=xt);let p=0,m=0,y=0<i.length?i[0]:null,D=0<o.length?o[0]:null;for(;null!==y||null!==D;){const A=p<i.length?i[p+1]:void 0,I=m<o.length?o[m+1]:void 0;let B,P=null;y===D?(p+=2,m+=2,A!==I&&(P=D,B=I)):null===D||null!==y&&y<D?(p+=2,P=y):(m+=2,P=D,B=I),null!==P&&Lb(t,n,e,r,P,B,c,f),y=p<i.length?i[p]:null,D=m<o.length?o[m]:null}}(i,f,c,c[11],c[o+1],c[o+1]=function TO(t,n,e){if(null==e||""===e)return xt;const r=[],i=Ms(e);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&n(r,i);return r}(t,n,e),r,o)}}(wi,Fo,t,!0)}function Fo(t,n){for(let e=function vO(t){return function Mb(t){ur.key=0,ur.keyEnd=0,ur.value=0,ur.valueEnd=0,ur.textEnd=t.length}(t),Nb(t,Tl(t,0,ur.textEnd))}(n);e>=0;e=Nb(n,e))wi(t,Tb(n),!0)}function Fb(t,n){return n>=t.expandoStartIndex}function kb(t,n,e,r){const i=t.data;if(null===i[e+1]){const o=i[ti()],c=Fb(t,e);Ub(o,r)&&null===n&&!c&&(n=!1),n=function EO(t,n,e,r){const i=function Ip(t){const n=Xe.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let o=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(e=Xc(e=u1(null,t,n,e,r),n.attrs,r),o=null);else{const c=n.directiveStylingLast;if(-1===c||t[c]!==i)if(e=u1(i,t,n,e,r),null===o){let p=function xO(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==is(r))return t[oo(r)]}(t,n,r);void 0!==p&&Array.isArray(p)&&(p=u1(null,t,n,p[1],r),p=Xc(p,n.attrs,r),function AO(t,n,e,r){t[oo(e?n.classBindings:n.styleBindings)]=r}(t,n,r,p))}else o=function SO(t,n,e){let r;const i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++)r=Xc(r,t[o].hostAttrs,e);return Xc(r,n.attrs,e)}(t,n,r)}return void 0!==o&&(r?n.residualClasses=o:n.residualStyles=o),e}(i,o,n,r),function pO(t,n,e,r,i,o){let c=o?n.classBindings:n.styleBindings,f=oo(c),p=is(c);t[r]=e;let y,m=!1;if(Array.isArray(e)){const D=e;y=D[1],(null===y||al(D,y)>0)&&(m=!0)}else y=e;if(i)if(0!==p){const A=oo(t[f+1]);t[r+1]=Qd(A,f),0!==A&&(t[A+1]=Lg(t[A+1],r)),t[f+1]=function uM(t,n){return 131071&t|n<<17}(t[f+1],r)}else t[r+1]=Qd(f,0),0!==f&&(t[f+1]=Lg(t[f+1],r)),f=r;else t[r+1]=Qd(p,0),0===f?f=r:t[p+1]=Lg(t[p+1],r),p=r;m&&(t[r+1]=Pg(t[r+1])),Sb(t,y,r,!0),Sb(t,y,r,!1),function gO(t,n,e,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof n&&al(o,n)>=0&&(e[r+1]=Bg(e[r+1]))}(n,y,t,r,o),c=Qd(f,p),o?n.classBindings=c:n.styleBindings=c}(i,o,n,e,c,r)}}function u1(t,n,e,r,i){let o=null;const c=e.directiveEnd;let f=e.directiveStylingLast;for(-1===f?f=e.directiveStart:f++;f<c&&(o=n[f],r=Xc(r,o.hostAttrs,i),o!==t);)f++;return null!==t&&(e.directiveStylingLast=f),r}function Xc(t,n,e){const r=e?1:2;let i=-1;if(null!==n)for(let o=0;o<n.length;o++){const c=n[o];"number"==typeof c?i=c:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),wi(t,c,!!e||n[++o]))}return void 0===t?null:t}function Lb(t,n,e,r,i,o,c,f){if(!(3&n.type))return;const p=t.data,m=p[f+1];ff(function My(t){return 1==(1&t)}(m)?Bb(p,n,e,i,is(m),c):void 0)||(ff(o)||function Iy(t){return 2==(2&t)}(m)&&(o=Bb(p,null,e,i,f,c)),function RN(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let o=-1===r.indexOf("-")?void 0:hi.DashCase;null==i?t.removeStyle(e,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=hi.Important),t.setStyle(e,r,i,o))}}(r,c,Ad(ti(),e),i,o))}function Bb(t,n,e,r,i,o){const c=null===n;let f;for(;i>0;){const p=t[i],m=Array.isArray(p),y=m?p[1]:p,D=null===y;let A=e[i+1];A===Qe&&(A=D?xt:void 0);let I=D?jp(A,r):y===r?A:void 0;if(m&&!ff(I)&&(I=jp(p,r)),ff(I)&&(f=I,c))return f;const P=t[i+1];i=c?oo(P):is(P)}if(null!==n){let p=o?n.residualClasses:n.residualStyles;null!=p&&(f=jp(p,r))}return f}function ff(t){return void 0!==t}function Ub(t,n){return 0!=(t.flags&(n?16:32))}function S(t,n=""){const e=ee(),r=bt(),i=t+s,o=r.firstCreatePass?ml(r,i,1,n,null):r.data[i],c=e[i]=rg(e[11],n);Gd(r,e,c,o),No(o,!1)}function Ct(t){return ht("",t,""),Ct}function ht(t,n,e){const r=ee(),i=yl(r,t,n,e);return i!==Qe&&os(r,ti(),i),ht}function Nl(t,n,e,r,i){const o=ee(),c=bl(o,t,n,e,r,i);return c!==Qe&&os(o,ti(),c),Nl}function pa(t,n,e){const r=ee();return jr(r,Ja(),n)&&Ei(bt(),Dn(),r,t,n,r[11],e,!0),pa}const ga=void 0;var XO=["en",[["a","p"],["AM","PM"],ga],[["AM","PM"],ga,ga],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ga,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ga,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ga,"{1} 'at' {0}",ga],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ZO(t){const e=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===r?1:5}];let Il={};function ri(t){const n=function QO(t){return t.toLowerCase().replace(/_/g,"-")}(t);let e=iC(n);if(e)return e;const r=n.split("-")[0];if(e=iC(r),e)return e;if("en"===r)return XO;throw new ae(701,!1)}function iC(t){return t in Il||(Il[t]=we.ng&&we.ng.common&&we.ng.common.locales&&we.ng.common.locales[t]),Il[t]}var _e=(()=>((_e=_e||{})[_e.LocaleId=0]="LocaleId",_e[_e.DayPeriodsFormat=1]="DayPeriodsFormat",_e[_e.DayPeriodsStandalone=2]="DayPeriodsStandalone",_e[_e.DaysFormat=3]="DaysFormat",_e[_e.DaysStandalone=4]="DaysStandalone",_e[_e.MonthsFormat=5]="MonthsFormat",_e[_e.MonthsStandalone=6]="MonthsStandalone",_e[_e.Eras=7]="Eras",_e[_e.FirstDayOfWeek=8]="FirstDayOfWeek",_e[_e.WeekendRange=9]="WeekendRange",_e[_e.DateFormat=10]="DateFormat",_e[_e.TimeFormat=11]="TimeFormat",_e[_e.DateTimeFormat=12]="DateTimeFormat",_e[_e.NumberSymbols=13]="NumberSymbols",_e[_e.NumberFormats=14]="NumberFormats",_e[_e.CurrencyCode=15]="CurrencyCode",_e[_e.CurrencySymbol=16]="CurrencySymbol",_e[_e.CurrencyName=17]="CurrencyName",_e[_e.Currencies=18]="Currencies",_e[_e.Directionality=19]="Directionality",_e[_e.PluralCase=20]="PluralCase",_e[_e.ExtraData=21]="ExtraData",_e))();const KO=["zero","one","two","few","many"],Ml="en-US",hf={marker:"element"},pf={marker:"ICU"};var Bn=(()=>((Bn=Bn||{})[Bn.SHIFT=2]="SHIFT",Bn[Bn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Bn[Bn.COMMENT=2]="COMMENT",Bn))();let oC=Ml;function sC(t){(function Pn(t,n){null==t&&de(n,t,null,"!=")})(t,"Expected localeId to be defined"),"string"==typeof t&&(oC=t.toLowerCase().replace(/_/g,"-"))}function aC(t,n,e){const r=n.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?Pv(t,0,e):Zn(e[i])}function lC(t,n,e,r,i){const o=n.insertBeforeIndex;if(Array.isArray(o)){let c=r,f=null;if(3&n.type||(f=c,c=i),null!==c&&0==(2&n.flags))for(let p=1;p<o.length;p++)ca(t,c,e[o[p]],f,!1)}}function cC(t,n){if(t.push(n),t.length>1)for(let e=t.length-2;e>=0;e--){const r=t[e];uC(r)||n3(r,n)&&null===r3(r)&&i3(r,n.index)}}function uC(t){return!(64&t.type)}function n3(t,n){return uC(n)||t.index>n.index}function r3(t){const n=t.insertBeforeIndex;return Array.isArray(n)?n[0]:n}function i3(t,n){const e=t.insertBeforeIndex;Array.isArray(e)?e[0]=n:(Bv(aC,lC),t.insertBeforeIndex=n)}function Qc(t,n){const e=t.data[n];return null===e||"string"==typeof e?null:e.hasOwnProperty("currentCaseLViewIndex")?e:e.value}function a3(t,n,e){const r=Wg(t,e,64,null,null);return cC(n,r),r}function gf(t,n){const e=n[t.currentCaseLViewIndex];return null===e?e:e<0?~e:e}function dC(t){return t>>>17}function fC(t){return(131070&t)>>>1}let Kc=0,Jc=0;function pC(t,n,e,r){const i=e[11];let c,o=null;for(let f=0;f<n.length;f++){const p=n[f];if("string"==typeof p){const m=n[++f];null===e[m]&&(e[m]=rg(i,p))}else if("number"==typeof p)switch(1&p){case 0:const m=dC(p);let y,D;if(null===o&&(o=m,c=jd(i,r)),m===o?(y=r,D=c):(y=null,D=Zn(e[m])),null!==D){const B=fC(p);ca(i,D,e[B],y,!1);const z=Qc(t,B);if(null!==z&&"object"==typeof z){const Z=gf(z,e);null!==Z&&pC(t,z.create[Z],e,e[z.anchorIdx])}}break;case 1:const I=n[++f],P=n[++f];Kg(i,Ad(p>>>1,e),null,null,I,P,null)}else switch(p){case pf:const m=n[++f],y=n[++f];null===e[y]&&Hr(e[y]=bN(i,m),e);break;case hf:const D=n[++f],A=n[++f];null===e[A]&&Hr(e[A]=ig(i,D,null),e)}}}function gC(t,n,e,r,i){for(let o=0;o<e.length;o++){const c=e[o],f=e[++o];if(c&i){let p="";for(let m=o+1;m<=o+f;m++){const y=e[m];if("string"==typeof y)p+=y;else if("number"==typeof y)if(y<0)p+=Se(n[r-y]);else{const D=y>>>2;switch(3&y){case 1:const A=e[++m],I=e[++m],P=t.data[D];"string"==typeof P?Kg(n[11],n[D],null,P,A,p,I):Ei(t,P,n,A,p,n[11],I,!1);break;case 0:const B=n[D];null!==B&&Tv(n[11],B,p);break;case 2:f3(t,Qc(t,D),n,p);break;case 3:mC(t,Qc(t,D),r,n)}}}}else{const p=e[o+1];if(p>0&&3==(3&p)){const y=Qc(t,p>>>2);n[y.currentCaseLViewIndex]<0&&mC(t,y,r,n)}}o+=f}}function mC(t,n,e,r){let i=r[n.currentCaseLViewIndex];if(null!==i){let o=Kc;i<0&&(i=r[n.currentCaseLViewIndex]=~i,o=-1),gC(t,r,n.update[i],e,o)}}function f3(t,n,e,r){const i=function h3(t,n){let e=t.cases.indexOf(n);if(-1===e)switch(t.type){case 1:{const r=function JO(t,n){const e=function rC(t){return ri(t)[_e.PluralCase]}(n)(parseInt(t,10)),r=KO[e];return void 0!==r?r:"other"}(n,function t3(){return oC}());e=t.cases.indexOf(r),-1===e&&"other"!==r&&(e=t.cases.indexOf("other"));break}case 0:e=t.cases.indexOf("other")}return-1===e?null:e}(n,r);if(gf(n,e)!==i&&(_C(t,n,e),e[n.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const c=e[n.anchorIdx];c&&pC(t,n.create[i],e,c)}}function _C(t,n,e){let r=gf(n,e);if(null!==r){const i=n.remove[r];for(let o=0;o<i.length;o++){const c=i[o];if(c>0){const f=Ad(c,e);null!==f&&cg(e[11],f)}else _C(t,Qc(t,~c),e)}}}function p3(){const t=[];let e,r,n=-1;function o(f,p){n=0;const m=gf(f,p);r=null!==m?f.remove[m]:xt}function c(){if(n<r.length){const f=r[n++];return f>0?e[f]:(t.push(n,r),o(e[1].data[~f],e),c())}return 0===t.length?null:(r=t.pop(),n=t.pop(),c())}return function i(f,p){for(e=p;t.length;)t.pop();return o(f.value,p),c}}const mf=/\ufffd(\d+):?\d*\ufffd/gi,m3=/\ufffd(\d+)\ufffd/,yC=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,_3=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,v3=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,y3=/\uE500/g;function bC(t,n,e,r,i,o,c){const f=_l(t,r,1,null);let p=f<<Bn.SHIFT,m=bc();n===m&&(m=null),null===m&&(p|=Bn.APPEND_EAGERLY),c&&(p|=Bn.COMMENT,function mN(t){void 0===Jp&&(Jp=t())}(p3)),i.push(p,null===o?"":o);const y=Wg(t,f,c?32:1,null===o?"":o,null);cC(e,y);const D=y.index;return No(y,!1),null!==m&&n!==m&&function s3(t,n){let e=t.insertBeforeIndex;null===e?(Bv(aC,lC),e=t.insertBeforeIndex=[null,n]):(function Ri(t,n,e){t!=n&&de(e,t,n,"==")}(Array.isArray(e),!0,"Expecting array here"),e.push(n))}(m,D),y}function w3(t,n,e,r,i,o,c){const f=c.match(mf),p=bC(t,n,e,o,r,f?null:c,!1);f&&tu(i,c,p.index,null,0,null)}function tu(t,n,e,r,i,o){const c=t.length,f=c+1;t.push(null,null);const p=c+2,m=n.split(mf);let y=0;for(let D=0;D<m.length;D++){const A=m[D];if(1&D){const I=i+parseInt(A,10);t.push(-1-I),y|=CC(I)}else""!==A&&t.push(A)}return t.push(e<<2|(r?1:0)),r&&t.push(r,o),t[c]=y,t[f]=t.length-p,y}function CC(t){return 1<<Math.min(t,31)}function wC(t){let n,o,e="",r=0,i=!1;for(;null!==(n=_3.exec(t));)i?n[0]===`\ufffd/*${o}\ufffd`&&(r=n.index,i=!1):(e+=t.substring(r,n.index+n[0].length),o=n[1],i=!0);return e+=t.slice(r),e}function DC(t,n,e,r,i,o){let c=0;const f={type:i.type,currentCaseLViewIndex:_l(t,n,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};(function I3(t,n,e){t.push(CC(n.mainBinding),2,-1-n.mainBinding,e<<2|2)})(e,i,o),function o3(t,n,e){const r=t.data[n];null===r?t.data[n]=e:r.value=e}(t,o,f);const p=i.values;for(let m=0;m<p.length;m++){const y=p[m],D=[];for(let A=0;A<y.length;A++){const I=y[A];if("string"!=typeof I){const P=D.push(I)-1;y[A]=`\x3c!--\ufffd${P}\ufffd--\x3e`}}c=T3(t,f,n,e,r,i.cases[m],y.join(""),D)|c}c&&function M3(t,n,e){t.push(n,1,e<<2|3)}(e,c,o)}function S3(t){const n=[],e=[];let r=1,i=0;const o=d1(t=t.replace(yC,function(c,f,p){return r="select"===p?0:1,i=parseInt(f.slice(1),10),""}));for(let c=0;c<o.length;){let f=o[c++].trim();1===r&&(f=f.replace(/\s*(?:=)?(\w+)\s*/,"$1")),f.length&&n.push(f);const p=d1(o[c++]);n.length>e.length&&e.push(p)}return{type:r,mainBinding:i,cases:n,values:e}}function d1(t){if(!t)return[];let n=0;const e=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const f=o.index;if("}"==o[0]){if(e.pop(),0==e.length){const p=t.substring(n,f);yC.test(p)?r.push(S3(p)):r.push(p),n=f+1}}else{if(0==e.length){const p=t.substring(n,f);r.push(p),n=f+1}e.push("{")}}const c=t.substring(n);return r.push(c),r}function T3(t,n,e,r,i,o,c,f){const p=[],m=[],y=[];n.cases.push(o),n.create.push(p),n.remove.push(m),n.update.push(y);const A=function qv(t){const n=new $N(t);return function WN(){try{return!!(new window.DOMParser).parseFromString(ua(""),"text/html")}catch{return!1}}()?new zN(n):n}(function jv(){return void 0!==hg?hg:typeof document<"u"?document:void 0}()).getInertBodyElement(c),I=function vg(t){return"content"in t&&function JN(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}(A)||A;return I?EC(t,n,e,r,p,m,y,I,i,f,0):0}function EC(t,n,e,r,i,o,c,f,p,m,y){let D=0,A=f.firstChild;for(;A;){const I=_l(t,e,1,null);switch(A.nodeType){case Node.ELEMENT_NODE:const P=A,B=P.tagName.toLowerCase();if(mg.hasOwnProperty(B)){f1(i,hf,B,p,I),t.data[I]=B;const q=P.attributes;for(let ne=0;ne<q.length;ne++){const ge=q.item(ne),Ae=ge.name.toLowerCase();ge.value.match(mf)?Qv.hasOwnProperty(Ae)&&tu(c,ge.value,I,ge.name,0,_g[Ae]?gg:null):O3(i,I,ge)}D=EC(t,n,e,r,i,o,c,A,I,m,y+1)|D,xC(o,I,y)}break;case Node.TEXT_NODE:const G=A.textContent||"",z=G.match(mf);f1(i,null,z?"":G,p,I),xC(o,I,y),z&&(D=tu(c,G,I,null,0,null)|D);break;case Node.COMMENT_NODE:const Z=m3.exec(A.textContent||"");if(Z){const ne=m[parseInt(Z[1],10)];f1(i,pf,"",p,I),DC(t,e,r,p,ne,I),N3(o,I,y)}}A=A.nextSibling}return D}function xC(t,n,e){0===e&&t.push(n)}function N3(t,n,e){0===e&&(t.push(~n),t.push(n))}function f1(t,n,e,r,i){null!==n&&t.push(n),t.push(e,i,function l3(t,n,e){return t|n<<17|e<<1}(0,r,i))}function O3(t,n,e){t.push(n<<1|1,e.name,e.value)}function SC(t,n,e=-1){const r=bt(),i=ee(),o=s+t,c=Ss(r.consts,n),f=bc();r.firstCreatePass&&function C3(t,n,e,r,i,o){const c=bc(),f=[],p=[],m=[[]];i=function A3(t,n){if(function x3(t){return-1===t}(n))return wC(t);{const e=t.indexOf(`:${n}\ufffd`)+2+n.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${n}\ufffd`));return wC(t.substring(e,r))}}(i,o);const y=function b3(t){return t.replace(y3," ")}(i).split(v3);for(let D=0;D<y.length;D++){let A=y[D];if(0==(1&D)){const I=d1(A);for(let P=0;P<I.length;P++){let B=I[P];if(0==(1&P)){const G=B;""!==G&&w3(t,c,m[0],f,p,e,G)}else{const G=B;if("object"!=typeof G)throw new Error(`Unable to parse ICU expression in "${i}" message.`);DC(t,e,p,n,G,bC(t,c,m[0],e,f,"",!0).index)}}}else{const I=47===A.charCodeAt(0),B=(A.charCodeAt(I?1:0),s+Number.parseInt(A.substring(I?2:1)));if(I)m.shift(),No(bc(),!1);else{const G=a3(t,m[0],B);m.unshift([]),No(G,!0)}}}t.data[r]={create:f,update:p}}(r,null===f?0:f.index,i,o,c,e);const p=r.data[o],y=Ov(r,f===i[6]?null:f,i);(function d3(t,n,e,r){const i=t[11];for(let o=0;o<n.length;o++){const c=n[o++],f=n[o],p=(c&Bn.COMMENT)===Bn.COMMENT,m=(c&Bn.APPEND_EAGERLY)===Bn.APPEND_EAGERLY,y=c>>>Bn.SHIFT;let D=t[y];null===D&&(D=t[y]=p?i.createComment(f):rg(i,f)),m&&null!==e&&ca(i,e,D,r,!1)}})(i,p.create,y,f&&8&f.type?i[f.index]:null),F_(!0)}function Gr(t,n,e){SC(t,n,e),function TC(){F_(!1)}()}function nu(t){return function c3(t){t&&(Kc|=1<<Math.min(Jc,31)),Jc++}(jr(ee(),Ja(),t)),nu}function _f(t){!function u3(t,n,e){if(Jc>0){const r=t.data[e];gC(t,n,Array.isArray(r)?r:r.update,Ko()-Jc-1,Kc)}Kc=0,Jc=0}(bt(),ee(),t+s)}function h1(t,n,e,r,i){if(t=ve(t),Array.isArray(t))for(let o=0;o<t.length;o++)h1(t[o],n,e,r,i);else{const o=bt(),c=ee();let f=da(t)?t:ve(t.provide),p=ly(t);const m=lr(),y=1048575&m.providerIndexes,D=m.directiveStart,A=m.providerIndexes>>20;if(da(t)||!t.multi){const I=new Cc(p,i,N),P=g1(f,n,i?y:y+A,D);-1===P?(kd(Dc(m,c),o,f),p1(o,t,n.length),n.push(f),m.directiveStart++,m.directiveEnd++,i&&(m.providerIndexes+=1048576),e.push(I),c.push(I)):(e[P]=I,c[P]=I)}else{const I=g1(f,n,y+A,D),P=g1(f,n,y,y+A),B=I>=0&&e[I],G=P>=0&&e[P];if(i&&!G||!i&&!B){kd(Dc(m,c),o,f);const z=function W3(t,n,e,r,i){const o=new Cc(t,e,N);return o.multi=[],o.index=n,o.componentProviders=0,NC(o,i,r&&!e),o}(i?$3:z3,e.length,i,r,p);!i&&G&&(e[P].providerFactory=z),p1(o,t,n.length,0),n.push(f),m.directiveStart++,m.directiveEnd++,i&&(m.providerIndexes+=1048576),e.push(z),c.push(z)}else p1(o,t,I>-1?I:P,NC(e[i?P:I],p,!i&&r));!i&&r&&G&&e[P].componentProviders++}}}function p1(t,n,e,r){const i=da(n),o=function cI(t){return!!t.useClass}(n);if(i||o){const p=(o?ve(n.useClass):n).prototype.ngOnDestroy;if(p){const m=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){const y=m.indexOf(e);-1===y?m.push(e,[r,p]):m[y+1].push(r,p)}else m.push(e,p)}}}function NC(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function g1(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function z3(t,n,e,r){return m1(this.multi,[])}function $3(t,n,e,r){const i=this.multi;let o;if(this.providerFactory){const c=this.providerFactory.componentProviders,f=Ec(e,e[1],this.providerFactory.index,r);o=f.slice(0,c),m1(i,o);for(let p=c;p<f.length;p++)o.push(f[p])}else o=[],m1(i,o);return o}function m1(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function Jt(t,n=[]){return e=>{e.providersResolver=(r,i)=>function G3(t,n,e){const r=bt();if(r.firstCreatePass){const i=H(t);h1(e,r.data,r.blueprint,i,!0),h1(n,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,n)}}class ma{}class IC{}class MC extends ma{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new r1(this);const r=Ur(n);this._bootstrapComponents=rs(r.bootstrap),this._r3Injector=wy(n,e,[{provide:ma,useValue:this},{provide:Hc,useValue:this.componentFactoryResolver}],Lt(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class _1 extends IC{constructor(n){super(),this.moduleType=n}create(n){return new MC(this.moduleType,n)}}class Y3 extends ma{constructor(n,e,r){super(),this.componentFactoryResolver=new r1(this),this.instance=null;const i=new ay([...n,{provide:ma,useValue:this},{provide:Hc,useValue:this.componentFactoryResolver}],e||Zd(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function vf(t,n,e=null){return new Y3(t,n,e).injector}let Z3=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const r=ry(0,e.type),i=r.length>0?vf([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,i)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=ie({token:t,providedIn:"environment",factory:()=>new t(oe(ns))}),t})();function OC(t){t.getStandaloneInjector=n=>n.get(Z3).getOrCreateStandaloneInjector(t)}function ke(t,n,e,r){return UC(ee(),ei(),t,n,e,r)}function ru(t,n,e,r,i){return function VC(t,n,e,r,i,o,c){const f=n+e;return ha(t,f,i,o)?Oo(t,f+2,c?r.call(c,i,o):r(i,o)):iu(t,f+2)}(ee(),ei(),t,n,e,r,i)}function y1(t,n,e,r,i,o){return function HC(t,n,e,r,i,o,c,f){const p=n+e;return function cf(t,n,e,r,i){const o=ha(t,n,e,r);return jr(t,n+2,i)||o}(t,p,i,o,c)?Oo(t,p+3,f?r.call(f,i,o,c):r(i,o,c)):iu(t,p+3)}(ee(),ei(),t,n,e,r,i,o)}function iu(t,n){const e=t[n];return e===Qe?void 0:e}function UC(t,n,e,r,i,o){const c=n+e;return jr(t,c,i)?Oo(t,c+1,o?r.call(o,i):r(i)):iu(t,c+1)}function En(t,n){const e=bt();let r;const i=t+s;e.firstCreatePass?(r=function dR(t,n){if(n)for(let e=n.length-1;e>=0;e--){const r=n[e];if(t===r.name)return r}}(n,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(i,r.onDestroy)):r=e.data[i];const o=r.factory||(r.factory=la(r.type)),c=ui(N);try{const f=Rd(!1),p=o();return Rd(f),function cO(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}(e,ee(),i,p),p}finally{ui(c)}}function xn(t,n,e){const r=t+s,i=ee(),o=Ka(i,r);return function ou(t,n){return t[1].data[n].pure}(i,r)?UC(i,ei(),n,o.transform,e,o):o.transform(e)}function b1(t){return n=>{setTimeout(t,void 0,n)}}const Pe=class mR extends je{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){let i=n,o=e||(()=>null),c=r;if(n&&"object"==typeof n){const p=n;i=p.next?.bind(p),o=p.error?.bind(p),c=p.complete?.bind(p)}this.__isAsync&&(o=b1(o),i&&(i=b1(i)),c&&(c=b1(c)));const f=super.subscribe({next:i,error:o,complete:c});return n instanceof Yr&&n.add(f),f}};function _R(){return this._results[fa()]()}class C1{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=fa(),r=C1.prototype;r[e]||(r[e]=_R)}get changes(){return this._changes||(this._changes=new Pe)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const r=this;r.dirty=!1;const i=Ci(n);(this._changesDetected=!function TT(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=n[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let dn=(()=>{class t{}return t.__NG_ELEMENT_ID__=bR,t})();const vR=dn,yR=class extends vR{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(n,e){const r=this._declarationTContainer.tViews,i=ef(this._declarationLView,r,n,16,null,r.declTNode,null,null,null,null,e||null);i[17]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[19];return null!==c&&(i[19]=c.createEmbeddedView(r)),qg(r,i,n),new Gc(i)}};function bR(){return yf(lr(),ee())}function yf(t,n){return 4&t.type?new yR(n,t,fl(t,n)):null}let ji=(()=>{class t{}return t.__NG_ELEMENT_ID__=CR,t})();function CR(){return WC(lr(),ee())}const wR=ji,zC=class extends wR{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return fl(this._hostTNode,this._hostLView)}get injector(){return new nl(this._hostTNode,this._hostLView)}get parentInjector(){const n=Fd(this._hostTNode,this._hostLView);if($_(n)){const e=tl(n,this._hostLView),r=el(n);return new nl(e[1].data[r+8],e)}return new nl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=$C(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-v}createEmbeddedView(n,e,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const c=n.createEmbeddedView(e||{},o);return this.insert(c,i),c}createComponent(n,e,r,i,o){const c=n&&!function Ac(t){return"function"==typeof t}(n);let f;if(c)f=e;else{const D=e||{};f=D.index,r=D.injector,i=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}const p=c?n:new zc(At(n)),m=r||this.parentInjector;if(!o&&null==p.ngModule){const A=(c?m:this.parentInjector).get(ns,null);A&&(o=A)}const y=p.create(m,i,void 0,o);return this.insert(y.hostView,f),y}insert(n,e){const r=n._lView,i=r[1];if(function ZS(t){return T(t[3])}(r)){const y=this.indexOf(n);if(-1!==y)this.detach(y);else{const D=r[3],A=new zC(D,D[6],D[3]);A.detach(A.indexOf(n))}}const o=this._adjustIndex(e),c=this._lContainer;!function xN(t,n,e,r){const i=v+r,o=e.length;r>0&&(e[i-1][4]=n),r<o-v?(n[4]=e[i],nv(e,v+r,n)):(e.push(n),n[4]=null),n[3]=e;const c=n[17];null!==c&&e!==c&&function AN(t,n){const e=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===e?t[9]=[n]:e.push(n)}(c,n);const f=n[19];null!==f&&f.insertView(t),n[2]|=64}(i,r,c,o);const f=lg(o,c),p=r[11],m=jd(p,c[7]);return null!==m&&function wN(t,n,e,r,i,o){r[0]=i,r[6]=n,Lc(t,r,e,1,i,o)}(i,c[6],p,r,m,f),n.attachToViewContainerRef(),nv(w1(c),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=$C(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=og(this._lContainer,e);r&&(Ld(w1(this._lContainer),e),Iv(r[1],r))}detach(n){const e=this._adjustIndex(n,-1),r=og(this._lContainer,e);return r&&null!=Ld(w1(this._lContainer),e)?new Gc(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function $C(t){return t[8]}function w1(t){return t[8]||(t[8]=[])}function WC(t,n){let e;const r=n[t.index];if(T(r))e=r;else{let i;if(8&t.type)i=Zn(r);else{const o=n[11];i=o.createComment("");const c=yi(t,n);ca(o,jd(o,c),i,function IN(t,n){return t.nextSibling(n)}(o,c),!1)}n[t.index]=e=Ky(r,n,i,t),nf(n,e)}return new zC(e,t,n)}class D1{constructor(n){this.queryList=n,this.matches=null}clone(){return new D1(this.queryList)}setDirty(){this.queryList.setDirty()}}class E1{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){const c=e.getByIndex(o);i.push(this.queries[c.indexInDeclarationView].clone())}return new E1(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==QC(n,e).matches&&this.queries[e].setDirty()}}class qC{constructor(n,e,r=null){this.predicate=n,this.flags=e,this.read=r}}class x1{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,null!==e?e.push(o):e=[o])}return null!==e?new x1(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class A1{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new A1(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(n,e,xR(e,o)),this.matchTNodeWithReadOption(n,e,Pd(e,n,o,!1,!1))}else r===dn?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Pd(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===It||i===ji||i===dn&&4&e.type)this.addMatch(e.index,-2);else{const o=Pd(e,n,i,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function xR(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function SR(t,n,e,r){return-1===e?function AR(t,n){return 11&t.type?fl(t,n):4&t.type?yf(t,n):null}(n,t):-2===e?function TR(t,n,e){return e===It?fl(n,t):e===dn?yf(n,t):e===ji?WC(n,t):void 0}(t,n,r):Ec(t,t[1],e,n)}function YC(t,n,e,r){const i=n[19].queries[r];if(null===i.matches){const o=t.data,c=e.matches,f=[];for(let p=0;p<c.length;p+=2){const m=c[p];f.push(m<0?null:SR(n,o[m],c[p+1],e.metadata.read))}i.matches=f}return i.matches}function S1(t,n,e,r){const i=t.queries.getByIndex(e),o=i.matches;if(null!==o){const c=YC(t,n,i,e);for(let f=0;f<o.length;f+=2){const p=o[f];if(p>0)r.push(c[f/2]);else{const m=o[f+1],y=n[-p];for(let D=v;D<y.length;D++){const A=y[D];A[17]===A[3]&&S1(A[1],A,m,r)}if(null!==y[9]){const D=y[9];for(let A=0;A<D.length;A++){const I=D[A];S1(I[1],I,m,r)}}}}}return r}function Wt(t){const n=ee(),e=bt(),r=k_();Mp(r+1);const i=QC(e,r);if(t.dirty&&function YS(t){return 4==(4&t[2])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?S1(e,n,r,[]):YC(e,n,i,r);t.reset(o,CI),t.notifyOnChanges()}return!0}return!1}function _a(t,n,e){const r=bt();r.firstCreatePass&&(XC(r,new qC(t,n,e),-1),2==(2&n)&&(r.staticViewQueries=!0)),ZC(r,ee(),n)}function An(t,n,e,r){const i=bt();if(i.firstCreatePass){const o=lr();XC(i,new qC(n,e,r),o.index),function IR(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(i,t),2==(2&e)&&(i.staticContentQueries=!0)}ZC(i,ee(),e)}function qt(){return function NR(t,n){return t[19].queries[n].queryList}(ee(),k_())}function ZC(t,n,e){const r=new C1(4==(4&e));Gy(t,n,r,r.destroy),null===n[19]&&(n[19]=new E1),n[19].queries.push(new D1(r))}function XC(t,n,e){null===t.queries&&(t.queries=new x1),t.queries.track(new A1(n,e))}function QC(t,n){return t.queries.getByIndex(n)}function Sn(t,n){return yf(t,n)}function Cf(...t){}const wf=new Fe("Application Initializer");let Df=(()=>{class t{constructor(e){this.appInits=e,this.resolve=Cf,this.reject=Cf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(qc(o))e.push(o);else if(a1(o)){const c=new Promise((f,p)=>{o.subscribe({complete:f,error:p})});e.push(c)}}Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(oe(wf,8))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const au=new Fe("AppId",{providedIn:"root",factory:function mw(){return`${O1()}${O1()}${O1()}`}});function O1(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const _w=new Fe("Platform Initializer"),Ef=new Fe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),vw=new Fe("appBootstrapListener");let XR=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const xi=new Fe("LocaleId",{providedIn:"root",factory:()=>jn(xi,Le.Optional|Le.SkipSelf)||function QR(){return typeof $localize<"u"&&$localize.locale||Ml}()}),KR=new Fe("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class JR{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let R1=(()=>{class t{compileModuleSync(e){return new _1(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),o=rs(Ur(e).declarations).reduce((c,f)=>{const p=At(f);return p&&c.push(new zc(p)),c},[]);return new JR(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const n4=(()=>Promise.resolve(0))();function F1(t){typeof Zone>"u"?n4.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Mt{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pe(!1),this.onMicrotaskEmpty=new Pe(!1),this.onStable=new Pe(!1),this.onError=new Pe(!1),typeof Zone>"u")throw new ae(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function r4(){let t=we.requestAnimationFrame,n=we.cancelAnimationFrame;if(typeof Zone<"u"&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function s4(t){const n=()=>{!function o4(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(we,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,P1(t),t.isCheckStableRunning=!0,k1(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),P1(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,o,c,f)=>{try{return Cw(t),e.invokeTask(i,o,c,f)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&n(),ww(t)}},onInvoke:(e,r,i,o,c,f,p)=>{try{return Cw(t),e.invoke(i,o,c,f,p)}finally{t.shouldCoalesceRunChangeDetection&&n(),ww(t)}},onHasTask:(e,r,i,o)=>{e.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,P1(t),k1(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,r,i,o)=>(e.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mt.isInAngularZone())throw new ae(909,!1)}static assertNotInAngularZone(){if(Mt.isInAngularZone())throw new ae(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){const o=this._inner,c=o.scheduleEventTask("NgZoneEvent: "+i,n,i4,Cf,Cf);try{return o.runTask(c,e,r)}finally{o.cancelTask(c)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const i4={};function k1(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function P1(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Cw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ww(t){t._nesting--,k1(t)}class a4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pe,this.onMicrotaskEmpty=new Pe,this.onStable=new Pe,this.onError=new Pe}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}}const Dw=new Fe(""),xf=new Fe("");let U1,L1=(()=>{class t{constructor(e,r,i){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,U1||(function l4(t){U1=t}(i),i.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mt.assertNotInAngularZone(),F1(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())F1(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==o),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,i){return[]}}return t.\u0275fac=function(e){return new(e||t)(oe(Mt),oe(B1),oe(xf))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})(),B1=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return U1?.findTestabilityInTree(this,e,r)??null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Fs=null;const Ew=new Fe("AllowMultipleToken"),V1=new Fe("PlatformDestroyListeners");class xw{constructor(n,e){this.name=n,this.token=e}}function Sw(t,n,e=[]){const r=`Platform: ${n}`,i=new Fe(r);return(o=[])=>{let c=H1();if(!c||c.injector.get(Ew,!1)){const f=[...e,...o,{provide:i,useValue:!0}];t?t(f):function d4(t){if(Fs&&!Fs.get(Ew,!1))throw new ae(400,!1);Fs=t;const n=t.get(Nw);(function Aw(t){const n=t.get(_w,null);n&&n.forEach(e=>e())})(t)}(function Tw(t=[],n){return St.create({name:n,providers:[{provide:Dg,useValue:"platform"},{provide:V1,useValue:new Set([()=>Fs=null])},...t]})}(f,r))}return function h4(t){const n=H1();if(!n)throw new ae(401,!1);return n}()}}function H1(){return Fs?.get(Nw)??null}let Nw=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const i=function Mw(t,n){let e;return e="noop"===t?new a4:("zone.js"===t?void 0:t)||new Mt(n),e}(r?.ngZone,function Iw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:Mt,useValue:i}];return i.run(()=>{const c=St.create({providers:o,parent:this.injector,name:e.moduleType.name}),f=e.create(c),p=f.injector.get(hl,null);if(!p)throw new ae(402,!1);return i.runOutsideAngular(()=>{const m=i.onError.subscribe({next:y=>{p.handleError(y)}});f.onDestroy(()=>{Af(this._modules,f),m.unsubscribe()})}),function Ow(t,n,e){try{const r=e();return qc(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(p,i,()=>{const m=f.injector.get(Df);return m.runInitializers(),m.donePromise.then(()=>(sC(f.injector.get(xi,Ml)||Ml),this._moduleDoBootstrap(f),f))})})}bootstrapModule(e,r=[]){const i=Rw({},r);return function c4(t,n,e){const r=new _1(e);return Promise.resolve(r)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(e){const r=e.injector.get(va);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new ae(403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ae(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(V1,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(oe(St))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function Rw(t,n){return Array.isArray(n)?n.reduce(Rw,t):{...t,...n}}let va=(()=>{class t{constructor(e,r,i){this._zone=e,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new pt(f=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{f.next(this._stable),f.complete()})}),c=new pt(f=>{let p;this._zone.runOutsideAngular(()=>{p=this._zone.onStable.subscribe(()=>{Mt.assertNotInAngularZone(),F1(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,f.next(!0))})})});const m=this._zone.onUnstable.subscribe(()=>{Mt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{f.next(!1)}))});return()=>{p.unsubscribe(),m.unsubscribe()}});this.isStable=Dt(o,c.pipe(function Et(t={}){const{connector:n=(()=>new je),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let c,f,p,m=0,y=!1,D=!1;const A=()=>{f?.unsubscribe(),f=void 0},I=()=>{A(),c=p=void 0,y=D=!1},P=()=>{const B=c;I(),B?.unsubscribe()};return en((B,G)=>{m++,!D&&!y&&A();const z=p=p??n();G.add(()=>{m--,0===m&&!D&&!y&&(f=at(P,i))}),z.subscribe(G),!c&&m>0&&(c=new Ji({next:Z=>z.next(Z),error:Z=>{D=!0,A(),f=at(I,e,Z),z.error(Z)},complete:()=>{y=!0,A(),f=at(I,r),z.complete()}}),gn(B).subscribe(c))})(o)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const i=e instanceof cy;if(!this._injector.get(Df).done)throw!i&&function Zo(t){const n=At(t)||vr(t)||or(t);return null!==n&&n.standalone}(e),new ae(405,false);let c;c=i?e:this._injector.get(Hc).resolveComponentFactory(e),this.componentTypes.push(c.componentType);const f=function u4(t){return t.isBoundToModule}(c)?void 0:this._injector.get(ma),m=c.create(St.NULL,[],r||c.selector,f),y=m.location.nativeElement,D=m.injector.get(Dw,null);return D?.registerApplication(y),m.onDestroy(()=>{this.detachView(m.hostView),Af(this.components,m),D?.unregisterApplication(y)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new ae(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;Af(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(vw,[]).concat(this._bootstrapListeners).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Af(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new ae(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(e){return new(e||t)(oe(Mt),oe(ns),oe(hl))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Af(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}let kw=!0,Gi=(()=>{class t{}return t.__NG_ELEMENT_ID__=m4,t})();function m4(t){return function _4(t,n,e){if(k(t)&&!e){const r=bi(t.index,n);return new Gc(r,r)}return 47&t.type?new Gc(n[16],n):null}(lr(),ee(),16==(16&t))}class Vw{constructor(){}supports(n){return $c(n)}create(n){return new D4(n)}}const w4=(t,n)=>n;class D4{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||w4}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){const c=!r||e&&e.currentIndex<jw(r,i,o)?e:r,f=jw(c,i,o),p=c.currentIndex;if(c===r)i--,r=r._nextRemoved;else if(e=e._next,null==c.previousIndex)i++;else{o||(o=[]);const m=f-i,y=p-i;if(m!=y){for(let A=0;A<m;A++){const I=A<o.length?o[A]:o[A]=0,P=I+A;y<=P&&P<m&&(o[A]=I+1)}o[c.previousIndex]=y-m}}f!==p&&n(c,f,p)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!$c(n))throw new ae(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,o,c,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let f=0;f<this.length;f++)o=n[f],c=this._trackByFn(f,o),null!==e&&Object.is(e.trackById,c)?(r&&(e=this._verifyReinsertion(e,o,c,f)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,c,f),r=!0),e=e._next}else i=0,function oO(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[fa()]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,f=>{c=this._trackByFn(i,f),null!==e&&Object.is(e.trackById,c)?(r&&(e=this._verifyReinsertion(e,f,c,i)),Object.is(e.item,f)||this._addIdentityChange(e,f)):(e=this._mismatch(e,f,c,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,i)):n=this._addAfter(new E4(e,r),o,i),n}_verifyReinsertion(n,e,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,o=n._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const i=null===e?this._itHead:e._next;return n._next=i,n._prev=e,null===i?this._itTail=n:i._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new Hw),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Hw),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class E4{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class x4{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class Hw{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new x4,this.map.set(e,r)),r.add(n)}get(n,e){const i=this.map.get(n);return i?i.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jw(t,n,e){const r=t.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}class Gw{constructor(){}supports(n){return n instanceof Map||o1(n)}create(){return new A4}}class A4{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||o1(n)))throw new ae(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const r=n._prev;return e._next=n,e._prev=r,n._prev=e,r&&(r._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,e);const o=i._prev,c=i._next;return o&&(o._next=c),c&&(c._prev=o),i._next=null,i._prev=null,i}const r=new S4(n);return this._records.set(n,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(r=>e(n[r],r))}}class S4{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zw(){return new Nf([new Vw])}let Nf=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||zw()),deps:[[t,new Oc,new Mc]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new ae(901,!1)}}return t.\u0275prov=ie({token:t,providedIn:"root",factory:zw}),t})();function $w(){return new lu([new Gw])}let lu=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||$w()),deps:[[t,new Oc,new Mc]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new ae(901,!1)}}return t.\u0275prov=ie({token:t,providedIn:"root",factory:$w}),t})();const I4=Sw(null,"core",[]);let M4=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(oe(va))},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({}),t})();function ls(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function ba(t,n){const e=At(t),r=n.elementInjector||Zd();return new zc(e).create(r,n.projectableNodes,n.hostElement,n.environmentInjector)}let If=null;function ko(){return If}const vn=new Fe("DocumentToken");let W1=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ie({token:t,factory:function(){return function k4(){return oe(Ww)}()},providedIn:"platform"}),t})();const P4=new Fe("Location Initialized");let Ww=(()=>{class t extends W1{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ko().getBaseHref(this._doc)}onPopState(e){const r=ko().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=ko().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,i){qw()?this._history.pushState(e,r,i):this.location.hash=i}replaceState(e,r,i){qw()?this._history.replaceState(e,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(oe(vn))},t.\u0275prov=ie({token:t,factory:function(){return function L4(){return new Ww(oe(vn))}()},providedIn:"platform"}),t})();function qw(){return!!window.history.pushState}function q1(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function Yw(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function cs(t){return t&&"?"!==t[0]?"?"+t:t}let Ca=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ie({token:t,factory:function(){return jn(Xw)},providedIn:"root"}),t})();const Zw=new Fe("appBaseHref");let Xw=(()=>{class t extends Ca{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??jn(vn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return q1(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+cs(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){const c=this.prepareExternalUrl(i+cs(o));this._platformLocation.pushState(e,r,c)}replaceState(e,r,i,o){const c=this.prepareExternalUrl(i+cs(o));this._platformLocation.replaceState(e,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(oe(W1),oe(Zw,8))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),B4=(()=>{class t extends Ca{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=q1(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let c=this.prepareExternalUrl(i+cs(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,r,c)}replaceState(e,r,i,o){let c=this.prepareExternalUrl(i+cs(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(oe(W1),oe(Zw,8))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})(),Y1=(()=>{class t{constructor(e){this._subject=new Pe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=Yw(Qw(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+cs(r))}normalize(e){return t.stripTrailingSlash(function V4(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,Qw(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+cs(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+cs(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return t.normalizeQueryParams=cs,t.joinWithSlash=q1,t.stripTrailingSlash=Yw,t.\u0275fac=function(e){return new(e||t)(oe(Ca))},t.\u0275prov=ie({token:t,factory:function(){return function U4(){return new Y1(oe(Ca))}()},providedIn:"root"}),t})();function Qw(t){return t.replace(/\/index.html$/,"")}const Kw={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var pi=(()=>((pi=pi||{})[pi.Decimal=0]="Decimal",pi[pi.Percent=1]="Percent",pi[pi.Currency=2]="Currency",pi[pi.Scientific=3]="Scientific",pi))(),fn=(()=>((fn=fn||{})[fn.Format=0]="Format",fn[fn.Standalone=1]="Standalone",fn))(),Je=(()=>((Je=Je||{})[Je.Narrow=0]="Narrow",Je[Je.Abbreviated=1]="Abbreviated",Je[Je.Wide=2]="Wide",Je[Je.Short=3]="Short",Je))(),Tn=(()=>((Tn=Tn||{})[Tn.Short=0]="Short",Tn[Tn.Medium=1]="Medium",Tn[Tn.Long=2]="Long",Tn[Tn.Full=3]="Full",Tn))(),He=(()=>((He=He||{})[He.Decimal=0]="Decimal",He[He.Group=1]="Group",He[He.List=2]="List",He[He.PercentSign=3]="PercentSign",He[He.PlusSign=4]="PlusSign",He[He.MinusSign=5]="MinusSign",He[He.Exponential=6]="Exponential",He[He.SuperscriptingExponent=7]="SuperscriptingExponent",He[He.PerMille=8]="PerMille",He[He.Infinity=9]="Infinity",He[He.NaN=10]="NaN",He[He.TimeSeparator=11]="TimeSeparator",He[He.CurrencyDecimal=12]="CurrencyDecimal",He[He.CurrencyGroup=13]="CurrencyGroup",He))();function Jw(t,n,e){const r=ri(t),o=$i([r[_e.DayPeriodsFormat],r[_e.DayPeriodsStandalone]],n);return $i(o,e)}function eD(t,n,e){const r=ri(t),o=$i([r[_e.DaysFormat],r[_e.DaysStandalone]],n);return $i(o,e)}function Z1(t,n,e){const r=ri(t),o=$i([r[_e.MonthsFormat],r[_e.MonthsStandalone]],n);return $i(o,e)}function Mf(t,n){return $i(ri(t)[_e.DateFormat],n)}function Of(t,n){return $i(ri(t)[_e.TimeFormat],n)}function Rf(t,n){return $i(ri(t)[_e.DateTimeFormat],n)}function zi(t,n){const e=ri(t),r=e[_e.NumberSymbols][n];if(typeof r>"u"){if(n===He.CurrencyDecimal)return e[_e.NumberSymbols][He.Decimal];if(n===He.CurrencyGroup)return e[_e.NumberSymbols][He.Group]}return r}function tD(t){if(!t[_e.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[_e.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function $i(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function Q1(t){const[n,e]=t.split(":");return{hours:+n,minutes:+e}}const X4=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,cu={},Q4=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var dr=(()=>((dr=dr||{})[dr.Short=0]="Short",dr[dr.ShortGMT=1]="ShortGMT",dr[dr.Long=2]="Long",dr[dr.Extended=3]="Extended",dr))(),Ge=(()=>((Ge=Ge||{})[Ge.FullYear=0]="FullYear",Ge[Ge.Month=1]="Month",Ge[Ge.Date=2]="Date",Ge[Ge.Hours=3]="Hours",Ge[Ge.Minutes=4]="Minutes",Ge[Ge.Seconds=5]="Seconds",Ge[Ge.FractionalSeconds=6]="FractionalSeconds",Ge[Ge.Day=7]="Day",Ge))(),it=(()=>((it=it||{})[it.DayPeriods=0]="DayPeriods",it[it.Days=1]="Days",it[it.Months=2]="Months",it[it.Eras=3]="Eras",it))();function nD(t,n,e,r){let i=function sF(t){if(oD(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,o=1,c=1]=t.split("-").map(f=>+f);return Ff(i,o-1,c)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let r;if(r=t.match(X4))return function aF(t){const n=new Date(0);let e=0,r=0;const i=t[8]?n.setUTCFullYear:n.setFullYear,o=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));const c=Number(t[4]||0)-e,f=Number(t[5]||0)-r,p=Number(t[6]||0),m=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(n,c,f,p,m),n}(r)}const n=new Date(t);if(!oD(n))throw new Error(`Unable to convert "${t}" into a date`);return n}(t);n=us(e,n)||n;let f,c=[];for(;n;){if(f=Q4.exec(n),!f){c.push(n);break}{c=c.concat(f.slice(1));const y=c.pop();if(!y)break;n=y}}let p=i.getTimezoneOffset();r&&(p=iD(r,p),i=function oF(t,n,e){const r=e?-1:1,i=t.getTimezoneOffset();return function iF(t,n){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+n),t}(t,r*(iD(n,i)-i))}(i,r,!0));let m="";return c.forEach(y=>{const D=function rF(t){if(J1[t])return J1[t];let n;switch(t){case"G":case"GG":case"GGG":n=ln(it.Eras,Je.Abbreviated);break;case"GGGG":n=ln(it.Eras,Je.Wide);break;case"GGGGG":n=ln(it.Eras,Je.Narrow);break;case"y":n=Kn(Ge.FullYear,1,0,!1,!0);break;case"yy":n=Kn(Ge.FullYear,2,0,!0,!0);break;case"yyy":n=Kn(Ge.FullYear,3,0,!1,!0);break;case"yyyy":n=Kn(Ge.FullYear,4,0,!1,!0);break;case"Y":n=Bf(1);break;case"YY":n=Bf(2,!0);break;case"YYY":n=Bf(3);break;case"YYYY":n=Bf(4);break;case"M":case"L":n=Kn(Ge.Month,1,1);break;case"MM":case"LL":n=Kn(Ge.Month,2,1);break;case"MMM":n=ln(it.Months,Je.Abbreviated);break;case"MMMM":n=ln(it.Months,Je.Wide);break;case"MMMMM":n=ln(it.Months,Je.Narrow);break;case"LLL":n=ln(it.Months,Je.Abbreviated,fn.Standalone);break;case"LLLL":n=ln(it.Months,Je.Wide,fn.Standalone);break;case"LLLLL":n=ln(it.Months,Je.Narrow,fn.Standalone);break;case"w":n=K1(1);break;case"ww":n=K1(2);break;case"W":n=K1(1,!0);break;case"d":n=Kn(Ge.Date,1);break;case"dd":n=Kn(Ge.Date,2);break;case"c":case"cc":n=Kn(Ge.Day,1);break;case"ccc":n=ln(it.Days,Je.Abbreviated,fn.Standalone);break;case"cccc":n=ln(it.Days,Je.Wide,fn.Standalone);break;case"ccccc":n=ln(it.Days,Je.Narrow,fn.Standalone);break;case"cccccc":n=ln(it.Days,Je.Short,fn.Standalone);break;case"E":case"EE":case"EEE":n=ln(it.Days,Je.Abbreviated);break;case"EEEE":n=ln(it.Days,Je.Wide);break;case"EEEEE":n=ln(it.Days,Je.Narrow);break;case"EEEEEE":n=ln(it.Days,Je.Short);break;case"a":case"aa":case"aaa":n=ln(it.DayPeriods,Je.Abbreviated);break;case"aaaa":n=ln(it.DayPeriods,Je.Wide);break;case"aaaaa":n=ln(it.DayPeriods,Je.Narrow);break;case"b":case"bb":case"bbb":n=ln(it.DayPeriods,Je.Abbreviated,fn.Standalone,!0);break;case"bbbb":n=ln(it.DayPeriods,Je.Wide,fn.Standalone,!0);break;case"bbbbb":n=ln(it.DayPeriods,Je.Narrow,fn.Standalone,!0);break;case"B":case"BB":case"BBB":n=ln(it.DayPeriods,Je.Abbreviated,fn.Format,!0);break;case"BBBB":n=ln(it.DayPeriods,Je.Wide,fn.Format,!0);break;case"BBBBB":n=ln(it.DayPeriods,Je.Narrow,fn.Format,!0);break;case"h":n=Kn(Ge.Hours,1,-12);break;case"hh":n=Kn(Ge.Hours,2,-12);break;case"H":n=Kn(Ge.Hours,1);break;case"HH":n=Kn(Ge.Hours,2);break;case"m":n=Kn(Ge.Minutes,1);break;case"mm":n=Kn(Ge.Minutes,2);break;case"s":n=Kn(Ge.Seconds,1);break;case"ss":n=Kn(Ge.Seconds,2);break;case"S":n=Kn(Ge.FractionalSeconds,1);break;case"SS":n=Kn(Ge.FractionalSeconds,2);break;case"SSS":n=Kn(Ge.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=Pf(dr.Short);break;case"ZZZZZ":n=Pf(dr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Pf(dr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=Pf(dr.Long);break;default:return null}return J1[t]=n,n}(y);m+=D?D(i,e,p):"''"===y?"'":y.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),m}function Ff(t,n,e){const r=new Date(0);return r.setFullYear(t,n,e),r.setHours(0,0,0),r}function us(t,n){const e=function H4(t){return ri(t)[_e.LocaleId]}(t);if(cu[e]=cu[e]||{},cu[e][n])return cu[e][n];let r="";switch(n){case"shortDate":r=Mf(t,Tn.Short);break;case"mediumDate":r=Mf(t,Tn.Medium);break;case"longDate":r=Mf(t,Tn.Long);break;case"fullDate":r=Mf(t,Tn.Full);break;case"shortTime":r=Of(t,Tn.Short);break;case"mediumTime":r=Of(t,Tn.Medium);break;case"longTime":r=Of(t,Tn.Long);break;case"fullTime":r=Of(t,Tn.Full);break;case"short":const i=us(t,"shortTime"),o=us(t,"shortDate");r=kf(Rf(t,Tn.Short),[i,o]);break;case"medium":const c=us(t,"mediumTime"),f=us(t,"mediumDate");r=kf(Rf(t,Tn.Medium),[c,f]);break;case"long":const p=us(t,"longTime"),m=us(t,"longDate");r=kf(Rf(t,Tn.Long),[p,m]);break;case"full":const y=us(t,"fullTime"),D=us(t,"fullDate");r=kf(Rf(t,Tn.Full),[y,D])}return r&&(cu[e][n]=r),r}function kf(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,r){return null!=n&&r in n?n[r]:e})),t}function co(t,n,e="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=e));let c=String(t);for(;c.length<n;)c="0"+c;return r&&(c=c.slice(c.length-n)),o+c}function Kn(t,n,e=0,r=!1,i=!1){return function(o,c){let f=function J4(t,n){switch(t){case Ge.FullYear:return n.getFullYear();case Ge.Month:return n.getMonth();case Ge.Date:return n.getDate();case Ge.Hours:return n.getHours();case Ge.Minutes:return n.getMinutes();case Ge.Seconds:return n.getSeconds();case Ge.FractionalSeconds:return n.getMilliseconds();case Ge.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((e>0||f>-e)&&(f+=e),t===Ge.Hours)0===f&&-12===e&&(f=12);else if(t===Ge.FractionalSeconds)return function K4(t,n){return co(t,3).substring(0,n)}(f,n);const p=zi(c,He.MinusSign);return co(f,n,p,r,i)}}function ln(t,n,e=fn.Format,r=!1){return function(i,o){return function eF(t,n,e,r,i,o){switch(e){case it.Months:return Z1(n,i,r)[t.getMonth()];case it.Days:return eD(n,i,r)[t.getDay()];case it.DayPeriods:const c=t.getHours(),f=t.getMinutes();if(o){const m=function $4(t){const n=ri(t);return tD(n),(n[_e.ExtraData][2]||[]).map(r=>"string"==typeof r?Q1(r):[Q1(r[0]),Q1(r[1])])}(n),y=function W4(t,n,e){const r=ri(t);tD(r);const o=$i([r[_e.ExtraData][0],r[_e.ExtraData][1]],n)||[];return $i(o,e)||[]}(n,i,r),D=m.findIndex(A=>{if(Array.isArray(A)){const[I,P]=A,B=c>=I.hours&&f>=I.minutes,G=c<P.hours||c===P.hours&&f<P.minutes;if(I.hours<P.hours){if(B&&G)return!0}else if(B||G)return!0}else if(A.hours===c&&A.minutes===f)return!0;return!1});if(-1!==D)return y[D]}return Jw(n,i,r)[c<12?0:1];case it.Eras:return function j4(t,n){return $i(ri(t)[_e.Eras],n)}(n,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(i,o,t,n,e,r)}}function Pf(t){return function(n,e,r){const i=-1*r,o=zi(e,He.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case dr.Short:return(i>=0?"+":"")+co(c,2,o)+co(Math.abs(i%60),2,o);case dr.ShortGMT:return"GMT"+(i>=0?"+":"")+co(c,1,o);case dr.Long:return"GMT"+(i>=0?"+":"")+co(c,2,o)+":"+co(Math.abs(i%60),2,o);case dr.Extended:return 0===r?"Z":(i>=0?"+":"")+co(c,2,o)+":"+co(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function rD(t){return Ff(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function K1(t,n=!1){return function(e,r){let i;if(n){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,c=e.getDate();i=1+Math.floor((c+o)/7)}else{const o=rD(e),c=function nF(t){const n=Ff(t,0,1).getDay();return Ff(t,0,1+(n<=4?4:11)-n)}(o.getFullYear()),f=o.getTime()-c.getTime();i=1+Math.round(f/6048e5)}return co(i,t,zi(r,He.MinusSign))}}function Bf(t,n=!1){return function(e,r){return co(rD(e).getFullYear(),t,zi(r,He.MinusSign),n)}}const J1={};function iD(t,n){t=t.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function oD(t){return t instanceof Date&&!isNaN(t.valueOf())}const lF=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function fF(t,n,e,r,i){const c=function n0(t,n="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],c=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],f=c[0],p=c[1]||"";e.posPre=f.substring(0,f.indexOf("#"));for(let y=0;y<p.length;y++){const D=p.charAt(y);"0"===D?e.minFrac=e.maxFrac=y+1:"#"===D?e.maxFrac=y+1:e.posSuf+=D}const m=f.split(",");if(e.gSize=m[1]?m[1].length:0,e.lgSize=m[2]||m[1]?(m[2]||m[1]).length:0,o){const y=i.length-e.posPre.length-e.posSuf.length,D=o.indexOf("#");e.negPre=o.substring(0,D).replace(/'/g,""),e.negSuf=o.slice(D+y).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}(function X1(t,n){return ri(t)[_e.NumberFormats][n]}(n,pi.Currency),zi(n,He.MinusSign));return c.minFrac=function Z4(t){let n;const e=Kw[t];return e&&(n=e[2]),"number"==typeof n?n:2}(r),c.maxFrac=c.minFrac,function t0(t,n,e,r,i,o,c=!1){let f="",p=!1;if(isFinite(t)){let m=function mF(t){let r,i,o,c,f,n=Math.abs(t)+"",e=0;for((i=n.indexOf("."))>-1&&(n=n.replace(".","")),(o=n.search(/e/i))>0?(i<0&&(i=o),i+=+n.slice(o+1),n=n.substring(0,o)):i<0&&(i=n.length),o=0;"0"===n.charAt(o);o++);if(o===(f=n.length))r=[0],i=1;else{for(f--;"0"===n.charAt(f);)f--;for(i-=o,r=[],c=0;o<=f;o++,c++)r[c]=Number(n.charAt(o))}return i>22&&(r=r.splice(0,21),e=i-1,i=1),{digits:r,exponent:e,integerLen:i}}(t);c&&(m=function gF(t){if(0===t.digits[0])return t;const n=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===n?t.digits.push(0,0):1===n&&t.digits.push(0),t.integerLen+=2),t}(m));let y=n.minInt,D=n.minFrac,A=n.maxFrac;if(o){const Z=o.match(lF);if(null===Z)throw new Error(`${o} is not a valid digit info`);const q=Z[1],ne=Z[3],ge=Z[5];null!=q&&(y=r0(q)),null!=ne&&(D=r0(ne)),null!=ge?A=r0(ge):null!=ne&&D>A&&(A=D)}!function _F(t,n,e){if(n>e)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${e}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(n,i),e);let c=o+t.integerLen,f=r[c];if(c>0){r.splice(Math.max(t.integerLen,c));for(let D=c;D<r.length;D++)r[D]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,c=o+1),r[0]=0;for(let D=1;D<c;D++)r[D]=0}if(f>=5)if(c-1<0){for(let D=0;D>c;D--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[c-1]++;for(;i<Math.max(0,o);i++)r.push(0);let p=0!==o;const m=n+t.integerLen,y=r.reduceRight(function(D,A,I,P){return P[I]=(A+=D)<10?A:A-10,p&&(0===P[I]&&I>=m?P.pop():p=!1),A>=10?1:0},0);y&&(r.unshift(y),t.integerLen++)}(m,D,A);let I=m.digits,P=m.integerLen;const B=m.exponent;let G=[];for(p=I.every(Z=>!Z);P<y;P++)I.unshift(0);for(;P<0;P++)I.unshift(0);P>0?G=I.splice(P,I.length):(G=I,I=[0]);const z=[];for(I.length>=n.lgSize&&z.unshift(I.splice(-n.lgSize,I.length).join(""));I.length>n.gSize;)z.unshift(I.splice(-n.gSize,I.length).join(""));I.length&&z.unshift(I.join("")),f=z.join(zi(e,r)),G.length&&(f+=zi(e,i)+G.join("")),B&&(f+=zi(e,He.Exponential)+"+"+B)}else f=zi(e,He.Infinity);return f=t<0&&!p?n.negPre+f+n.negSuf:n.posPre+f+n.posSuf,f}(t,c,n,He.CurrencyGroup,He.CurrencyDecimal,i).replace("\xa4",e).replace("\xa4","").trim()}function r0(t){const n=parseInt(t);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+t);return n}function cD(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[i,o]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}let oi=(()=>{class t{constructor(e,r,i,o){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&($c(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Lt(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(e){return new(e||t)(N(Nf),N(lu),N(It),N(Di))},t.\u0275dir=me({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class bF{constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let cn=(()=>{class t{constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,o,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new bF(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===o?void 0:o);else if(null!==o){const f=r.get(o);r.move(f,c),fD(f,i)}});for(let i=0,o=r.length;i<o;i++){const f=r.get(i).context;f.index=i,f.count=o,f.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{fD(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(N(ji),N(dn),N(Nf))},t.\u0275dir=me({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function fD(t,n){t.context.$implicit=n.item}let Nn=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new wF,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){hD("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){hD("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(N(ji),N(dn))},t.\u0275dir=me({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class wF{constructor(){this.$implicit=null,this.ngIf=null}}function hD(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Lt(n)}'.`)}let ks=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:o,ngTemplateOutletInjector:c}=this;this._viewRef=r.createEmbeddedView(i,o,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(N(ji))},t.\u0275dir=me({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ar]}),t})();function uo(t,n){return new ae(2100,!1)}class SF{createSubscription(n,e){return n.subscribe({next:e,error:r=>{throw r}})}dispose(n){n.unsubscribe()}}class TF{createSubscription(n,e){return n.then(e,r=>{throw r})}dispose(n){}}const NF=new TF,IF=new SF;let wr=(()=>{class t{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(qc(e))return NF;if(gb(e))return IF;throw uo()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(N(Gi,16))},t.\u0275pipe=Br({name:"async",type:t,pure:!1,standalone:!0}),t})();const kF=new Fe("DATE_PIPE_DEFAULT_TIMEZONE");let l0=(()=>{class t{constructor(e,r){this.locale=e,this.defaultTimezone=r}transform(e,r="mediumDate",i,o){if(null==e||""===e||e!=e)return null;try{return nD(e,r,o||this.locale,i??this.defaultTimezone??void 0)}catch(c){throw uo()}}}return t.\u0275fac=function(e){return new(e||t)(N(xi,16),N(kF,24))},t.\u0275pipe=Br({name:"date",type:t,pure:!0,standalone:!0}),t})(),c0=(()=>{class t{constructor(e,r="USD"){this._locale=e,this._defaultCurrencyCode=r}transform(e,r=this._defaultCurrencyCode,i="symbol",o,c){if(!function u0(t){return!(null==t||""===t||t!=t)}(e))return null;c=c||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let f=r||this._defaultCurrencyCode;"code"!==i&&(f="symbol"===i||"symbol-narrow"===i?function q4(t,n,e="en"){const r=function G4(t){return ri(t)[_e.Currencies]}(e)[t]||Kw[t]||[],i=r[1];return"narrow"===n&&"string"==typeof i?i:r[0]||t}(f,"symbol"===i?"wide":"narrow",c):i);try{return fF(function d0(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),c,f,r,o)}catch(p){throw uo()}}}return t.\u0275fac=function(e){return new(e||t)(N(xi,16),N(KR,16))},t.\u0275pipe=Br({name:"currency",type:t,pure:!0,standalone:!0}),t})();let si=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({}),t})();let ZF=(()=>{class t{}return t.\u0275prov=ie({token:t,providedIn:"root",factory:()=>new XF(oe(vn),window)}),t})();class XF{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function QF(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const c=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=_D(this.window.history)||_D(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function _D(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class vD{}class p0 extends class gk extends class F4{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function R4(t){If||(If=t)}(new p0)}onAndCancel(n,e,r){return n.addEventListener(e,r,!1),()=>{n.removeEventListener(e,r,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function mk(){return fu=fu||document.querySelector("base"),fu?fu.getAttribute("href"):null}();return null==e?null:function _k(t){Hf=Hf||document.createElement("a"),Hf.setAttribute("href",t);const n=Hf.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){fu=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return cD(document.cookie,n)}}let Hf,fu=null;const wD=new Fe("TRANSITION_ID"),yk=[{provide:wf,useFactory:function vk(t,n,e){return()=>{e.get(Df).donePromise.then(()=>{const r=ko(),i=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[wD,vn,St],multi:!0}];let Ck=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();const jf=new Fe("EventManagerPlugins");let Gf=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const c=i[o];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(oe(jf),oe(Mt))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();class DD{constructor(n){this._doc=n}addGlobalEventListener(n,e,r){const i=ko().getGlobalEventTarget(this._doc,n);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let ED=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})(),hu=(()=>{class t extends ED{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(o=>{const c=this._doc.createElement("style");c.textContent=o,i.push(r.appendChild(c))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(xD),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(xD))}}return t.\u0275fac=function(e){return new(e||t)(oe(vn))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();function xD(t){ko().remove(t)}const g0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},m0=/%COMP%/g;function zf(t,n,e){for(let r=0;r<n.length;r++){let i=n[r];Array.isArray(i)?zf(t,i,e):(i=i.replace(m0,t),e.push(i))}return e}function TD(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let _0=(()=>{class t{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new v0(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case $.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Sk(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case $.ShadowDom:return new Tk(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=zf(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(oe(Gf),oe(hu),oe(au))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();class v0{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(g0[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){(ID(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(ID(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;const o=g0[i];o?n.setAttributeNS(o,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const i=g0[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(hi.DashCase|hi.Important)?n.style.setProperty(e,r,i&hi.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&hi.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,TD(r)):this.eventManager.addEventListener(n,e,TD(r))}}function ID(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Sk extends v0{constructor(n,e,r,i){super(n),this.component=r;const o=zf(i+"-"+r.id,r.styles,[]);e.addStyles(o),this.contentAttr=function Ek(t){return"_ngcontent-%COMP%".replace(m0,t)}(i+"-"+r.id),this.hostAttr=function xk(t){return"_nghost-%COMP%".replace(m0,t)}(i+"-"+r.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}class Tk extends v0{constructor(n,e,r,i){super(n),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=zf(i.id,i.styles,[]);for(let c=0;c<o.length;c++){const f=document.createElement("style");f.textContent=o[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let Nk=(()=>{class t extends DD{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return t.\u0275fac=function(e){return new(e||t)(oe(vn))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();const MD=["alt","control","meta","shift"],Ik={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mk={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Ok=(()=>{class t extends DD{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,i){const o=t.parseEventName(r),c=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ko().onAndCancel(e,o.domEventName,c))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let c="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),c="code."),MD.forEach(m=>{const y=r.indexOf(m);y>-1&&(r.splice(y,1),c+=m+".")}),c+=o,0!=r.length||0===o.length)return null;const p={};return p.domEventName=i,p.fullKey=c,p}static matchEventFullKeyCode(e,r){let i=Ik[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),MD.forEach(c=>{c!==i&&(0,Mk[c])(e)&&(o+=c+".")}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{t.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(oe(vn))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();const RD=[{provide:Ef,useValue:"browser"},{provide:_w,useValue:function Rk(){p0.makeCurrent()},multi:!0},{provide:vn,useFactory:function kk(){return function LN(t){hg=t}(document),document},deps:[]}],Pk=Sw(I4,"browser",RD),FD=new Fe(""),kD=[{provide:xf,useClass:class bk{addToWindow(n){we.getAngularTestability=(r,i=!0)=>{const o=n.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},we.getAllAngularTestabilities=()=>n.getAllTestabilities(),we.getAllAngularRootElements=()=>n.getAllRootElements(),we.frameworkStabilizers||(we.frameworkStabilizers=[]),we.frameworkStabilizers.push(r=>{const i=we.getAllAngularTestabilities();let o=i.length,c=!1;const f=function(p){c=c||p,o--,0==o&&r(c)};i.forEach(function(p){p.whenStable(f)})})}findTestabilityInTree(n,e,r){return null==e?null:n.getTestability(e)??(r?ko().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:Dw,useClass:L1,deps:[Mt,B1,xf]},{provide:L1,useClass:L1,deps:[Mt,B1,xf]}],PD=[{provide:Dg,useValue:"root"},{provide:hl,useFactory:function Fk(){return new hl},deps:[]},{provide:jf,useClass:Nk,multi:!0,deps:[vn,Mt,Ef]},{provide:jf,useClass:Ok,multi:!0,deps:[vn]},{provide:_0,useClass:_0,deps:[Gf,hu,au]},{provide:Sg,useExisting:_0},{provide:ED,useExisting:hu},{provide:hu,useClass:hu,deps:[vn]},{provide:Gf,useClass:Gf,deps:[jf,Mt]},{provide:vD,useClass:Ck,deps:[]},[]];let Lk=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:au,useValue:e.appId},{provide:wD,useExisting:au},yk]}}}return t.\u0275fac=function(e){return new(e||t)(oe(FD,12))},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({providers:[...PD,...kD],imports:[si,M4]}),t})(),LD=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(oe(vn))},t.\u0275prov=ie({token:t,factory:function(e){let r=null;return r=e?new e:function Uk(){return new LD(oe(vn))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:qk}=Array,{getPrototypeOf:Yk,prototype:Zk,keys:Xk}=Object;function VD(t){if(1===t.length){const n=t[0];if(qk(n))return{args:n,keys:null};if(function Qk(t){return t&&"object"==typeof t&&Yk(t)===Zk}(n)){const e=Xk(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}const{isArray:Kk}=Array;function C0(t){return Be(n=>function Jk(t,n){return Kk(n)?t(...n):t(n)}(t,n))}function HD(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}let jD=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(N(Di),N(It))},t.\u0275dir=me({type:t}),t})(),wa=(()=>{class t extends jD{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Nt(t)))(r||t)}}(),t.\u0275dir=me({type:t,features:[Ht]}),t})();const Ai=new Fe("NgValueAccessor"),n8={provide:Ai,useExisting:dt(()=>fr),multi:!0},i8=new Fe("CompositionEventMode");let fr=(()=>{class t extends jD{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function r8(){const t=ko()?ko().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(N(Di),N(It),N(i8,8))},t.\u0275dir=me({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&j("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Jt([n8]),Ht]}),t})();function Ls(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function zD(t){return null!=t&&"number"==typeof t.length}const Tr=new Fe("NgValidators"),Bs=new Fe("NgAsyncValidators"),s8=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ue{static min(n){return $D(n)}static max(n){return function WD(t){return n=>{if(Ls(n.value)||Ls(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return qD(n)}static requiredTrue(n){return function YD(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function ZD(t){return Ls(t.value)||s8.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function XD(t){return n=>Ls(n.value)||!zD(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function QD(t){return n=>zD(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static pattern(n){return KD(n)}static nullValidator(n){return null}static compose(n){return o2(n)}static composeAsync(n){return s2(n)}}function $D(t){return n=>{if(Ls(n.value)||Ls(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function qD(t){return Ls(t.value)?{required:!0}:null}function KD(t){if(!t)return $f;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(Ls(r.value))return null;const i=r.value;return n.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}function $f(t){return null}function JD(t){return null!=t}function e2(t){return qc(t)?kt(t):t}function t2(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function n2(t,n){return n.map(e=>e(t))}function r2(t){return t.map(n=>function a8(t){return!t.validate}(n)?n:e=>n.validate(e))}function o2(t){if(!t)return null;const n=t.filter(JD);return 0==n.length?null:function(e){return t2(n2(e,n))}}function w0(t){return null!=t?o2(r2(t)):null}function s2(t){if(!t)return null;const n=t.filter(JD);return 0==n.length?null:function(e){return function e8(...t){const n=qa(t),{args:e,keys:r}=VD(t),i=new pt(o=>{const{length:c}=e;if(!c)return void o.complete();const f=new Array(c);let p=c,m=c;for(let y=0;y<c;y++){let D=!1;gn(e[y]).subscribe(Ye(o,A=>{D||(D=!0,m--),f[y]=A},()=>p--,void 0,()=>{(!p||!D)&&(m||o.next(r?HD(r,f):f),o.complete())}))}});return n?i.pipe(C0(n)):i}(n2(e,n).map(e2)).pipe(Be(t2))}}function D0(t){return null!=t?s2(r2(t)):null}function a2(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function l2(t){return t._rawValidators}function c2(t){return t._rawAsyncValidators}function E0(t){return t?Array.isArray(t)?t:[t]:[]}function Wf(t,n){return Array.isArray(t)?t.includes(n):t===n}function u2(t,n){const e=E0(n);return E0(t).forEach(i=>{Wf(e,i)||e.push(i)}),e}function d2(t,n){return E0(n).filter(e=>!Wf(t,e))}class f2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=w0(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=D0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class ai extends f2{get formDirective(){return null}get path(){return null}}class Us extends f2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class h2{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Nr=(()=>{class t extends h2{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(N(Us,2))},t.\u0275dir=me({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&ot("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ht]}),t})(),$r=(()=>{class t extends h2{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(N(ai,10))},t.\u0275dir=me({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&ot("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ht]}),t})();const pu="VALID",Yf="INVALID",Fl="PENDING",gu="DISABLED";function T0(t){return(Zf(t)?t.validators:t)||null}function g2(t){return Array.isArray(t)?w0(t):t||null}function N0(t,n){return(Zf(n)?n.asyncValidators:t)||null}function m2(t){return Array.isArray(t)?D0(t):t||null}function Zf(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class y2{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=g2(this._rawValidators),this._composedAsyncValidatorFn=m2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===pu}get invalid(){return this.status===Yf}get pending(){return this.status==Fl}get disabled(){return this.status===gu}get enabled(){return this.status!==gu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=g2(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=m2(n)}addValidators(n){this.setValidators(u2(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(u2(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(d2(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(d2(n,this._rawAsyncValidators))}hasValidator(n){return Wf(this._rawValidators,n)}hasAsyncValidator(n){return Wf(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Fl,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=gu,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=pu,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pu||this.status===Fl)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gu:pu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Fl,this._hasOwnPendingAsyncValidator=!0;const e=e2(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Pe,this.statusChanges=new Pe}_calculateStatus(){return this._allControlsDisabled()?gu:this.errors?Yf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fl)?Fl:this._anyControlsHaveStatus(Yf)?Yf:pu}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Zf(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}}class Ir extends y2{constructor(n,e,r){super(T0(e),N0(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function v2(t,n,e){t._forEachChild((r,i)=>{if(void 0===e[i])throw new ae(1002,"")})})(this,0,n),Object.keys(n).forEach(r=>{(function _2(t,n,e){const r=t.controls;if(!(n?Object.keys(r):r).length)throw new ae(1e3,"");if(!r[e])throw new ae(1001,"")})(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{const i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}function Xf(t,n){return[...n.path,t]}function mu(t,n){I0(t,n),n.valueAccessor.writeValue(t.value),t.disabled&&n.valueAccessor.setDisabledState?.(!0),function m8(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&b2(t,n)})}(t,n),function v8(t,n){const e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function _8(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&b2(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function g8(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function Qf(t,n,e=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),Jf(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Kf(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function I0(t,n){const e=l2(t);null!==n.validator?t.setValidators(a2(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=c2(t);null!==n.asyncValidator?t.setAsyncValidators(a2(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Kf(n._rawValidators,i),Kf(n._rawAsyncValidators,i)}function Jf(t,n){let e=!1;if(null!==t){if(null!==n.validator){const i=l2(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(c=>c!==n.validator);o.length!==i.length&&(e=!0,t.setValidators(o))}}if(null!==n.asyncValidator){const i=c2(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(c=>c!==n.asyncValidator);o.length!==i.length&&(e=!0,t.setAsyncValidators(o))}}}const r=()=>{};return Kf(n._rawValidators,r),Kf(n._rawAsyncValidators,r),e}function b2(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function C2(t,n){I0(t,n)}function M0(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function D2(t,n){t._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function O0(t,n){if(!n)return null;let e,r,i;return Array.isArray(n),n.forEach(o=>{o.constructor===fr?e=o:function C8(t){return Object.getPrototypeOf(t.constructor)===wa}(o)?r=o:i=o}),i||r||e||null}const D8={provide:ai,useExisting:dt(()=>eh)},_u=(()=>Promise.resolve())();let eh=(()=>{class t extends ai{constructor(e,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Pe,this.form=new Ir({},w0(e),D0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){_u.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),mu(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){_u.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){_u.then(()=>{const r=this._findContainer(e.path),i=new Ir({});C2(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){_u.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){_u.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,D2(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return t.\u0275fac=function(e){return new(e||t)(N(Tr,10),N(Bs,10))},t.\u0275dir=me({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&j("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Jt([D8]),Ht]}),t})();function E2(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function x2(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Ve=class extends y2{constructor(n=null,e,r){super(T0(e),N0(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zf(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=x2(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){E2(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){E2(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){x2(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},A8={provide:Us,useExisting:dt(()=>th)},T2=(()=>Promise.resolve())();let th=(()=>{class t extends Us{constructor(e,r,i,o,c){super(),this._changeDetectorRef=c,this.control=new Ve,this._registered=!1,this.update=new Pe,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=O0(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),M0(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){mu(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){T2.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&ls(r);T2.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Xf(e,this._parent):[e]}}return t.\u0275fac=function(e){return new(e||t)(N(ai,9),N(Tr,10),N(Bs,10),N(Ai,10),N(Gi,8))},t.\u0275dir=me({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Jt([A8]),Ht,ar]}),t})(),Wr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=me({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const S8={provide:Ai,useExisting:dt(()=>R0),multi:!0};let R0=(()=>{class t extends wa{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Nt(t)))(r||t)}}(),t.\u0275dir=me({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,r){1&e&&j("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[Jt([S8]),Ht]}),t})(),N2=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({}),t})();const F0=new Fe("NgModelWithFormControlWarning"),O8={provide:ai,useExisting:dt(()=>Mr)};let Mr=(()=>{class t extends ai{constructor(e,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Pe,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Jf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return mu(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Qf(e.control||null,e,!1),function w8(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,D2(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(Qf(r||null,e),(t=>t instanceof Ve)(i)&&(mu(i,e),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);C2(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function y8(t,n){return Jf(t,n)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){I0(this.form,this),this._oldForm&&Jf(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(N(Tr,10),N(Bs,10))},t.\u0275dir=me({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&j("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Jt([O8]),Ht,ar]}),t})();const k8={provide:Us,useExisting:dt(()=>qr)};let qr=(()=>{class t extends Us{constructor(e,r,i,o,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new Pe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=O0(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),M0(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Xf(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(N(ai,13),N(Tr,10),N(Bs,10),N(Ai,10),N(F0,8))},t.\u0275dir=me({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Jt([k8]),Ht,ar]}),t})();const P8={provide:Ai,useExisting:dt(()=>L0),multi:!0};function F2(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let L0=(()=>{class t extends wa{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=F2(this._getOptionId(e),e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function L8(t){return t.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Nt(t)))(r||t)}}(),t.\u0275dir=me({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&j("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Jt([P8]),Ht]}),t})(),k2=(()=>{class t{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(F2(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(N(It),N(Di),N(L0,9))},t.\u0275dir=me({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const B8={provide:Ai,useExisting:dt(()=>B0),multi:!0};function P2(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let B0=(()=>{class t extends wa{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const i=e.map(o=>this._getOptionId(o));r=(o,c)=>{o._setSelected(i.indexOf(c.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const c=o;for(let f=0;f<c.length;f++){const m=this._getOptionValue(c[f].value);i.push(m)}}else{const c=r.options;for(let f=0;f<c.length;f++){const p=c[f];if(p.selected){const m=this._getOptionValue(p.value);i.push(m)}}}this.value=i,e(i)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function U8(t){return t.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Nt(t)))(r||t)}}(),t.\u0275dir=me({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&j("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Jt([B8]),Ht]}),t})(),L2=(()=>{class t{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(P2(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(P2(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(N(It),N(Di),N(B0,9))},t.\u0275dir=me({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();let Da=(()=>{class t{constructor(){this._validator=$f}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):$f,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=me({type:t,features:[ar]}),t})();const H8={provide:Tr,useExisting:dt(()=>U0),multi:!0};let U0=(()=>{class t extends Da{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>function U2(t){return"number"==typeof t?t:parseFloat(t)}(e),this.createValidator=e=>$D(e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Nt(t)))(r||t)}}(),t.\u0275dir=me({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&Ut("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[Jt([H8]),Ht]}),t})();const j8={provide:Tr,useExisting:dt(()=>nh),multi:!0};let nh=(()=>{class t extends Da{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ls,this.createValidator=e=>qD}enabled(e){return e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Nt(t)))(r||t)}}(),t.\u0275dir=me({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&Ut("required",r._enabled?"":null)},inputs:{required:"required"},features:[Jt([j8]),Ht]}),t})();const q8={provide:Tr,useExisting:dt(()=>V0),multi:!0};let V0=(()=>{class t extends Da{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=e=>e,this.createValidator=e=>KD(e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Nt(t)))(r||t)}}(),t.\u0275dir=me({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&Ut("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[Jt([q8]),Ht]}),t})(),$2=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({imports:[N2]}),t})(),rh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({imports:[$2]}),t})(),Y8=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:F0,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({imports:[$2]}),t})();function Ie(...t){return kt(t,ra(t))}function Vs(t,n){return st(n)?sn(t,n,1):sn(t,1)}function Jn(t,n){return en((e,r)=>{let i=0;e.subscribe(Ye(r,o=>t.call(n,o,i++)&&r.next(o)))})}class W2{}class q2{}class ds{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),o=i.toLowerCase(),c=e.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(e=>{let r=n[e];const i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof ds?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new ds;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ds?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const i=("a"===n.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const o=n.value;if(o){let c=this.headers.get(e);if(!c)return;c=c.filter(f=>-1===o.indexOf(f)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class X8{encodeKey(n){return Y2(n)}encodeValue(n){return Y2(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const K8=/%(\d[a-f0-9])/gi,J8={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Y2(t){return encodeURIComponent(t).replace(K8,(n,e)=>J8[e]??n)}function ih(t){return`${t}`}class Hs{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new X8,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Q8(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[c,f]=-1==o?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],p=e.get(c)||[];p.push(f),e.set(c,p)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e],i=Array.isArray(r)?r.map(ih):[ih(r)];this.map.set(e,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new Hs({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(ih(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(ih(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class eP{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function Z2(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function X2(t){return typeof Blob<"u"&&t instanceof Blob}function Q2(t){return typeof FormData<"u"&&t instanceof FormData}class vu{constructor(n,e,r,i){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function tP(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new ds),this.context||(this.context=new eP),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const f=e.indexOf("?");this.urlWithParams=e+(-1===f?"?":f<e.length-1?"&":"")+c}}else this.params=new Hs,this.urlWithParams=e}serializeBody(){return null===this.body?null:Z2(this.body)||X2(this.body)||Q2(this.body)||function nP(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Hs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Q2(this.body)?null:X2(this.body)?this.body.type||null:Z2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Hs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=void 0!==n.body?n.body:this.body,c=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,f=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let p=n.headers||this.headers,m=n.params||this.params;const y=n.context??this.context;return void 0!==n.setHeaders&&(p=Object.keys(n.setHeaders).reduce((D,A)=>D.set(A,n.setHeaders[A]),p)),n.setParams&&(m=Object.keys(n.setParams).reduce((D,A)=>D.set(A,n.setParams[A]),m)),new vu(e,r,o,{params:m,headers:p,context:y,reportProgress:f,responseType:i,withCredentials:c})}}var er=(()=>((er=er||{})[er.Sent=0]="Sent",er[er.UploadProgress=1]="UploadProgress",er[er.ResponseHeader=2]="ResponseHeader",er[er.DownloadProgress=3]="DownloadProgress",er[er.Response=4]="Response",er[er.User=5]="User",er))();class H0{constructor(n,e=200,r="OK"){this.headers=n.headers||new ds,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class j0 extends H0{constructor(n={}){super(n),this.type=er.ResponseHeader}clone(n={}){return new j0({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class oh extends H0{constructor(n={}){super(n),this.type=er.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new oh({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class K2 extends H0{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function G0(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let J2=(()=>{class t{constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof vu)o=e;else{let p,m;p=i.headers instanceof ds?i.headers:new ds(i.headers),i.params&&(m=i.params instanceof Hs?i.params:new Hs({fromObject:i.params})),o=new vu(e,r,void 0!==i.body?i.body:null,{headers:p,context:i.context,params:m,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=Ie(o).pipe(Vs(p=>this.handler.handle(p)));if(e instanceof vu||"events"===i.observe)return c;const f=c.pipe(Jn(p=>p instanceof oh));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return f.pipe(Be(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return f.pipe(Be(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return f.pipe(Be(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return f.pipe(Be(p=>p.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Hs).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,G0(i,r))}post(e,r,i={}){return this.request("POST",e,G0(i,r))}put(e,r,i={}){return this.request("PUT",e,G0(i,r))}}return t.\u0275fac=function(e){return new(e||t)(oe(W2))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();class eE{constructor(n,e){this.next=n,this.interceptor=e}handle(n){return this.interceptor.intercept(n,this.next)}}const tE=new Fe("HTTP_INTERCEPTORS");let rP=(()=>{class t{intercept(e,r){return r.handle(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();const iP=/^\)\]\}',?\n/;let nE=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new pt(r=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((I,P)=>i.setRequestHeader(I,P.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const I=e.detectContentTypeHeader();null!==I&&i.setRequestHeader("Content-Type",I)}if(e.responseType){const I=e.responseType.toLowerCase();i.responseType="json"!==I?I:"text"}const o=e.serializeBody();let c=null;const f=()=>{if(null!==c)return c;const I=i.statusText||"OK",P=new ds(i.getAllResponseHeaders()),B=function oP(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||e.url;return c=new j0({headers:P,status:i.status,statusText:I,url:B}),c},p=()=>{let{headers:I,status:P,statusText:B,url:G}=f(),z=null;204!==P&&(z=typeof i.response>"u"?i.responseText:i.response),0===P&&(P=z?200:0);let Z=P>=200&&P<300;if("json"===e.responseType&&"string"==typeof z){const q=z;z=z.replace(iP,"");try{z=""!==z?JSON.parse(z):null}catch(ne){z=q,Z&&(Z=!1,z={error:ne,text:z})}}Z?(r.next(new oh({body:z,headers:I,status:P,statusText:B,url:G||void 0})),r.complete()):r.error(new K2({error:z,headers:I,status:P,statusText:B,url:G||void 0}))},m=I=>{const{url:P}=f(),B=new K2({error:I,status:i.status||0,statusText:i.statusText||"Unknown Error",url:P||void 0});r.error(B)};let y=!1;const D=I=>{y||(r.next(f()),y=!0);let P={type:er.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(P.total=I.total),"text"===e.responseType&&!!i.responseText&&(P.partialText=i.responseText),r.next(P)},A=I=>{let P={type:er.UploadProgress,loaded:I.loaded};I.lengthComputable&&(P.total=I.total),r.next(P)};return i.addEventListener("load",p),i.addEventListener("error",m),i.addEventListener("timeout",m),i.addEventListener("abort",m),e.reportProgress&&(i.addEventListener("progress",D),null!==o&&i.upload&&i.upload.addEventListener("progress",A)),i.send(o),r.next({type:er.Sent}),()=>{i.removeEventListener("error",m),i.removeEventListener("abort",m),i.removeEventListener("load",p),i.removeEventListener("timeout",m),e.reportProgress&&(i.removeEventListener("progress",D),null!==o&&i.upload&&i.upload.removeEventListener("progress",A)),i.readyState!==i.DONE&&i.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(oe(vD))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();const z0=new Fe("XSRF_COOKIE_NAME"),$0=new Fe("XSRF_HEADER_NAME");class rE{}let sP=(()=>{class t{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=cD(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(oe(vn),oe(Ef),oe(z0))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})(),W0=(()=>{class t{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const i=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),r.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(oe(rE),oe($0))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})(),aP=(()=>{class t{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(tE,[]);this.chain=r.reduceRight((i,o)=>new eE(i,o),this.backend)}return this.chain.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(oe(q2),oe(St))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})(),lP=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:W0,useClass:rP}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:z0,useValue:e.cookieName}:[],e.headerName?{provide:$0,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({providers:[W0,{provide:tE,useExisting:W0,multi:!0},{provide:rE,useClass:sP},{provide:z0,useValue:"XSRF-TOKEN"},{provide:$0,useValue:"X-XSRF-TOKEN"}]}),t})(),iE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({providers:[J2,{provide:W2,useClass:aP},nE,{provide:q2,useExisting:nE}],imports:[lP.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),t})();class In extends je{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}const sh=ic(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ah(...t){const n=ra(t),e=qa(t),{args:r,keys:i}=VD(t);if(0===r.length)return kt([],n);const o=new pt(function cP(t,n,e=Zt){return r=>{oE(n,()=>{const{length:i}=t,o=new Array(i);let c=i,f=i;for(let p=0;p<i;p++)oE(n,()=>{const m=kt(t[p],n);let y=!1;m.subscribe(Ye(r,D=>{o[p]=D,y||(y=!0,f--),f||r.next(e(o.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,n,i?c=>HD(i,c):Zt));return e?o.pipe(C0(e)):o}function oE(t,n,e){t?Pr(e,t,n):n()}function yu(...t){return function uP(){return xo(1)}()(kt(t,ra(t)))}function sE(t){return new pt(n=>{gn(t()).subscribe(n)})}function bu(t,n){const e=st(t)?t:()=>t,r=i=>i.error(e());return new pt(n?i=>n.schedule(r,0,i):r)}function q0(){return en((t,n)=>{let e=null;t._refCount++;const r=Ye(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const i=t._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class aE extends pt{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Me(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Yr;const e=this.getSubject();n.add(this.source.subscribe(Ye(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Yr.EMPTY)}return n}refCount(){return q0()(this)}}function Wi(t,n){return en((e,r)=>{let i=null,o=0,c=!1;const f=()=>c&&!i&&r.complete();e.subscribe(Ye(r,p=>{i?.unsubscribe();let m=0;const y=o++;gn(t(p,y)).subscribe(i=Ye(r,D=>r.next(n?n(p,D,y,m++):D),()=>{i=null,f()}))},()=>{c=!0,f()}))})}function Gn(t){return t<=0?()=>wn:en((n,e)=>{let r=0;n.subscribe(Ye(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function lh(...t){const n=ra(t);return en((e,r)=>{(n?yu(t,e,n):yu(t,e)).subscribe(r)})}function ch(t){return en((n,e)=>{let r=!1;n.subscribe(Ye(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function lE(t=dP){return en((n,e)=>{let r=!1;n.subscribe(Ye(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function dP(){return new sh}function js(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Jn((i,o)=>t(i,o,r)):Zt,Gn(1),e?ch(n):lE(()=>new sh))}function Dr(t,n,e){const r=st(t)||n||e?{next:t,error:n,complete:e}:t;return r?en((i,o)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let f=!0;i.subscribe(Ye(o,p=>{var m;null===(m=r.next)||void 0===m||m.call(r,p),o.next(p)},()=>{var p;f=!1,null===(p=r.complete)||void 0===p||p.call(r),o.complete()},p=>{var m;f=!1,null===(m=r.error)||void 0===m||m.call(r,p),o.error(p)},()=>{var p,m;f&&(null===(p=r.unsubscribe)||void 0===p||p.call(r)),null===(m=r.finalize)||void 0===m||m.call(r)}))}):Zt}function Gs(t){return en((n,e)=>{let o,r=null,i=!1;r=n.subscribe(Ye(e,void 0,void 0,c=>{o=gn(t(c,Gs(t)(n))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function fP(t,n,e,r,i){return(o,c)=>{let f=e,p=n,m=0;o.subscribe(Ye(c,y=>{const D=m++;p=f?t(p,y,D):(f=!0,y),r&&c.next(p)},i&&(()=>{f&&c.next(p),c.complete()})))}}function cE(t,n){return en(fP(t,n,arguments.length>=2,!0))}function Y0(t){return t<=0?()=>wn:en((n,e)=>{let r=[];n.subscribe(Ye(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function uE(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Jn((i,o)=>t(i,o,r)):Zt,Y0(1),e?ch(n):lE(()=>new sh))}function dE(t){return Be(()=>t)}function uh(t){return en((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}const ct="primary",Cu=Symbol("RouteTitle");class pP{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function kl(t){return new pP(t)}function gP(t,n,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const c=r[o],f=t[o];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Po(t,n){const e=t?Object.keys(t):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!fE(t[i],n[i]))return!1;return!0}function fE(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),r=[...n].sort();return e.every((i,o)=>r[o]===i)}return t===n}function hE(t){return Array.prototype.concat.apply([],t)}function pE(t){return t.length>0?t[t.length-1]:null}function Or(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function zs(t){return a1(t)?t:qc(t)?kt(Promise.resolve(t)):Ie(t)}const vP={exact:function _E(t,n,e){if(!xa(t.segments,n.segments)||!dh(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!t.children[r]||!_E(t.children[r],n.children[r],e))return!1;return!0},subset:vE},gE={exact:function yP(t,n){return Po(t,n)},subset:function bP(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>fE(t[e],n[e]))},ignored:()=>!0};function mE(t,n,e){return vP[e.paths](t.root,n.root,e.matrixParams)&&gE[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function vE(t,n,e){return yE(t,n,n.segments,e)}function yE(t,n,e,r){if(t.segments.length>e.length){const i=t.segments.slice(0,e.length);return!(!xa(i,e)||n.hasChildren()||!dh(i,e,r))}if(t.segments.length===e.length){if(!xa(t.segments,e)||!dh(t.segments,e,r))return!1;for(const i in n.children)if(!t.children[i]||!vE(t.children[i],n.children[i],r))return!1;return!0}{const i=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!!(xa(t.segments,i)&&dh(t.segments,i,r)&&t.children[ct])&&yE(t.children[ct],n,o,r)}}function dh(t,n,e){return n.every((r,i)=>gE[e](t[i].parameters,r.parameters))}class Ea{constructor(n,e,r){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kl(this.queryParams)),this._queryParamMap}toString(){return DP.serialize(this)}}class ut{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Or(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fh(this)}}class wu{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=kl(this.parameters)),this._parameterMap}toString(){return DE(this)}}function xa(t,n){return t.length===n.length&&t.every((e,r)=>e.path===n[r].path)}let bE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ie({token:t,factory:function(){return new X0},providedIn:"root"}),t})();class X0{parse(n){const e=new OP(n);return new Ea(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${Du(n.root,!0)}`,r=function AP(t){const n=Object.keys(t).map(e=>{const r=t[e];return Array.isArray(r)?r.map(i=>`${hh(e)}=${hh(i)}`).join("&"):`${hh(e)}=${hh(r)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${r}${"string"==typeof n.fragment?`#${function EP(t){return encodeURI(t)}(n.fragment)}`:""}`}}const DP=new X0;function fh(t){return t.segments.map(n=>DE(n)).join("/")}function Du(t,n){if(!t.hasChildren())return fh(t);if(n){const e=t.children[ct]?Du(t.children[ct],!1):"",r=[];return Or(t.children,(i,o)=>{o!==ct&&r.push(`${o}:${Du(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function wP(t,n){let e=[];return Or(t.children,(r,i)=>{i===ct&&(e=e.concat(n(r,i)))}),Or(t.children,(r,i)=>{i!==ct&&(e=e.concat(n(r,i)))}),e}(t,(r,i)=>i===ct?[Du(t.children[ct],!1)]:[`${i}:${Du(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ct]?`${fh(t)}/${e[0]}`:`${fh(t)}/(${e.join("//")})`}}function CE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hh(t){return CE(t).replace(/%3B/gi,";")}function Q0(t){return CE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ph(t){return decodeURIComponent(t)}function wE(t){return ph(t.replace(/\+/g,"%20"))}function DE(t){return`${Q0(t.path)}${function xP(t){return Object.keys(t).map(n=>`;${Q0(n)}=${Q0(t[n])}`).join("")}(t.parameters)}`}const SP=/^[^\/()?;=#]+/;function gh(t){const n=t.match(SP);return n?n[0]:""}const TP=/^[^=?&#]+/,IP=/^[^&#]+/;class OP{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ut([],{}):new ut([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[ct]=new ut(n,e)),r}parseSegment(){const n=gh(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new ae(4009,!1);return this.capture(n),new wu(ph(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=gh(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=gh(this.remaining);i&&(r=i,this.capture(r))}n[ph(e)]=ph(r)}parseQueryParam(n){const e=function NP(t){const n=t.match(TP);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const c=function MP(t){const n=t.match(IP);return n?n[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=wE(e),o=wE(r);if(n.hasOwnProperty(i)){let c=n[i];Array.isArray(c)||(c=[c],n[i]=c),c.push(o)}else n[i]=o}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=gh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new ae(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=ct);const c=this.parseChildren();e[o]=1===Object.keys(c).length?c[ct]:new ut([],c),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new ae(4011,!1)}}function K0(t){return t.segments.length>0?new ut([],{[ct]:t}):t}function mh(t){const n={};for(const r of Object.keys(t.children)){const o=mh(t.children[r]);(o.segments.length>0||o.hasChildren())&&(n[r]=o)}return function RP(t){if(1===t.numberOfChildren&&t.children[ct]){const n=t.children[ct];return new ut(t.segments.concat(n.segments),n.children)}return t}(new ut(t.segments,n))}function Aa(t){return t instanceof Ea}function PP(t,n,e,r,i){if(0===e.length)return Pl(n.root,n.root,n.root,r,i);const o=function AE(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new xE(!0,0,t);let n=0,e=!1;const r=t.reduce((i,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const f={};return Or(o.outlets,(p,m)=>{f[m]="string"==typeof p?p.split("/"):p}),[...i,{outlets:f}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===c?(o.split("/").forEach((f,p)=>{0==p&&"."===f||(0==p&&""===f?e=!0:".."===f?n++:""!=f&&i.push(f))}),i):[...i,o]},[]);return new xE(e,n,r)}(e);return o.toRoot()?Pl(n.root,n.root,new ut([],{}),r,i):function c(p){const m=function BP(t,n,e,r){if(t.isAbsolute)return new Ll(n.root,!0,0);if(-1===r)return new Ll(e,e===n.root,0);return function SE(t,n,e){let r=t,i=n,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ae(4005,!1);i=r.segments.length}return new Ll(r,!1,i-o)}(e,r+(Eu(t.commands[0])?0:1),t.numberOfDoubleDots)}(o,n,t.snapshot?._urlSegment,p),y=m.processChildren?Au(m.segmentGroup,m.index,o.commands):em(m.segmentGroup,m.index,o.commands);return Pl(n.root,m.segmentGroup,y,r,i)}(t.snapshot?._lastPathIndex)}function Eu(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function xu(t){return"object"==typeof t&&null!=t&&t.outlets}function Pl(t,n,e,r,i){let c,o={};r&&Or(r,(p,m)=>{o[m]=Array.isArray(p)?p.map(y=>`${y}`):`${p}`}),c=t===n?e:EE(t,n,e);const f=K0(mh(c));return new Ea(f,o,i)}function EE(t,n,e){const r={};return Or(t.children,(i,o)=>{r[o]=i===n?e:EE(i,n,e)}),new ut(t.segments,r)}class xE{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&Eu(r[0]))throw new ae(4003,!1);const i=r.find(xu);if(i&&i!==pE(r))throw new ae(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ll{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function em(t,n,e){if(t||(t=new ut([],{})),0===t.segments.length&&t.hasChildren())return Au(t,n,e);const r=function VP(t,n,e){let r=0,i=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return o;const c=t.segments[i],f=e[r];if(xu(f))break;const p=`${f}`,m=r<e.length-1?e[r+1]:null;if(i>0&&void 0===p)break;if(p&&m&&"object"==typeof m&&void 0===m.outlets){if(!NE(p,m,c))return o;r+=2}else{if(!NE(p,{},c))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new ut(t.segments.slice(0,r.pathIndex),{});return o.children[ct]=new ut(t.segments.slice(r.pathIndex),t.children),Au(o,0,i)}return r.match&&0===i.length?new ut(t.segments,{}):r.match&&!t.hasChildren()?tm(t,n,e):r.match?Au(t,0,i):tm(t,n,e)}function Au(t,n,e){if(0===e.length)return new ut(t.segments,{});{const r=function UP(t){return xu(t[0])?t[0].outlets:{[ct]:t}}(e),i={};return Or(r,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[c]=em(t.children[c],n,o))}),Or(t.children,(o,c)=>{void 0===r[c]&&(i[c]=o)}),new ut(t.segments,i)}}function tm(t,n,e){const r=t.segments.slice(0,n);let i=0;for(;i<e.length;){const o=e[i];if(xu(o)){const p=HP(o.outlets);return new ut(r,p)}if(0===i&&Eu(e[0])){r.push(new wu(t.segments[n].path,TE(e[0]))),i++;continue}const c=xu(o)?o.outlets[ct]:`${o}`,f=i<e.length-1?e[i+1]:null;c&&f&&Eu(f)?(r.push(new wu(c,TE(f))),i+=2):(r.push(new wu(c,{})),i++)}return new ut(r,{})}function HP(t){const n={};return Or(t,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[r]=tm(new ut([],{}),0,e))}),n}function TE(t){const n={};return Or(t,(e,r)=>n[r]=`${e}`),n}function NE(t,n,e){return t==e.path&&Po(n,e.parameters)}class fs{constructor(n,e){this.id=n,this.url=e}}class nm extends fs{constructor(n,e,r="imperative",i=null){super(n,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sa extends fs{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _h extends fs{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class IE extends fs{constructor(n,e,r,i){super(n,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jP extends fs{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GP extends fs{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zP extends fs{constructor(n,e,r,i,o){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $P extends fs{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WP extends fs{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qP{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class YP{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ZP{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XP{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QP{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KP{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ME{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class OE{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=rm(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=rm(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=im(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return im(n,this._root).map(e=>e.value)}}function rm(t,n){if(t===n.value)return n;for(const e of n.children){const r=rm(t,e);if(r)return r}return null}function im(t,n){if(t===n.value)return[n];for(const e of n.children){const r=im(t,e);if(r.length)return r.unshift(n),r}return[]}class hs{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function Bl(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class RE extends OE{constructor(n,e){super(n),this.snapshot=e,om(this,n)}toString(){return this.snapshot.toString()}}function FE(t,n){const e=function e6(t,n){const c=new vh([],{},{},"",{},ct,n,null,t.root,-1,{});return new PE("",new hs(c,[]))}(t,n),r=new In([new wu("",{})]),i=new In({}),o=new In({}),c=new In({}),f=new In(""),p=new gi(r,i,c,f,o,ct,n,e.root);return p.snapshot=e.root,new RE(new hs(p,[]),e)}class gi{constructor(n,e,r,i,o,c,f,p){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=c,this.component=f,this.title=this.data?.pipe(Be(m=>m[Cu]))??Ie(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Be(n=>kl(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Be(n=>kl(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kE(t,n="emptyOnly"){const e=t.pathFromRoot;let r=0;if("always"!==n)for(r=e.length-1;r>=1;){const i=e[r],o=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function t6(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class vh{constructor(n,e,r,i,o,c,f,p,m,y,D,A){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=c,this.component=f,this.title=this.data?.[Cu],this.routeConfig=p,this._urlSegment=m,this._lastPathIndex=y,this._correctedLastPathIndex=A??y,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=kl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class PE extends OE{constructor(n,e){super(e),this.url=n,om(this,e)}toString(){return LE(this._root)}}function om(t,n){n.value._routerState=t,n.children.forEach(e=>om(t,e))}function LE(t){const n=t.children.length>0?` { ${t.children.map(LE).join(", ")} } `:"";return`${t.value}${n}`}function sm(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Po(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),Po(n.params,e.params)||t.params.next(e.params),function mP(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Po(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),Po(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function am(t,n){const e=Po(t.params,n.params)&&function CP(t,n){return xa(t,n)&&t.every((e,r)=>Po(e.parameters,n[r].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||am(t.parent,n.parent))}function Su(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const i=function r6(t,n,e){return n.children.map(r=>{for(const i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Su(t,r,i);return Su(t,r)})}(t,n,e);return new hs(r,i)}{if(t.shouldAttach(n.value)){const o=t.retrieve(n.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=n.value,c.children=n.children.map(f=>Su(t,f)),c}}const r=function i6(t){return new gi(new In(t.url),new In(t.params),new In(t.queryParams),new In(t.fragment),new In(t.data),t.outlet,t.component,t)}(n.value),i=n.children.map(o=>Su(t,o));return new hs(r,i)}}const lm="ngNavigationCancelingError";function BE(t,n){const{redirectTo:e,navigationBehaviorOptions:r}=Aa(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=UE(!1,0,n);return i.url=e,i.navigationBehaviorOptions=r,i}function UE(t,n,e){const r=new Error("NavigationCancelingError: "+(t||""));return r[lm]=!0,r.cancellationCode=n,e&&(r.url=e),r}function VE(t){return HE(t)&&Aa(t.url)}function HE(t){return t&&t[lm]}class o6{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Tu,this.attachRef=null}}let Tu=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new o6,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const yh=!1;let cm=(()=>{class t{constructor(e,r,i,o,c){this.parentContexts=e,this.location=r,this.changeDetector=o,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new Pe,this.deactivateEvents=new Pe,this.attachEvents=new Pe,this.detachEvents=new Pe,this.name=i||ct,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ae(4012,yh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ae(4012,yh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ae(4012,yh);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new ae(4013,yh);this._activatedRoute=e;const i=this.location,c=e._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,p=new s6(e,f,i.injector);if(r&&function a6(t){return!!t.resolveComponentFactory}(r)){const m=r.resolveComponentFactory(c);this.activated=i.createComponent(m,i.length,p)}else this.activated=i.createComponent(c,{index:i.length,injector:p,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(N(Tu),N(ji),Is("name"),N(Gi),N(ns))},t.\u0275dir=me({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),t})();class s6{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===gi?this.route:n===Tu?this.childContexts:this.parent.get(n,e)}}let um=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["ng-component"]],standalone:!0,features:[OC],decls:1,vars:0,template:function(e,r){1&e&&U(0,"router-outlet")},dependencies:[cm],encapsulation:2}),t})();function jE(t,n){return t.providers&&!t._injector&&(t._injector=vf(t.providers,n,`Route: ${t.path}`)),t._injector??n}function fm(t){const n=t.children&&t.children.map(fm),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==ct&&(e.component=um),e}function qi(t){return t.outlet||ct}function GE(t,n){const e=t.filter(r=>qi(r)===n);return e.push(...t.filter(r=>qi(r)!==n)),e}function Nu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class f6{constructor(n,e,r,i){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),sm(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const i=Bl(e);n.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,i[c],r),delete i[c]}),Or(i,(o,c)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,e,r){const i=n.value,o=e?e.value:null;if(i===o)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(n,e,c.children)}else this.deactivateChildRoutes(n,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=Bl(n);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:c,route:n,contexts:f})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=Bl(n);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(n,e,r){const i=Bl(e);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new KP(o.value.snapshot))}),n.children.length&&this.forwardEvent(new XP(n.value.snapshot))}activateRoutes(n,e,r){const i=n.value,o=e?e.value:null;if(sm(i),i===o)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,c.children)}else this.activateChildRoutes(n,e,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),sm(f.route.value),this.activateChildRoutes(n,null,c.children)}else{const f=Nu(i.snapshot),p=f?.get(Hc)??null;c.attachRef=null,c.route=i,c.resolver=p,c.injector=f,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(n,null,c.children)}}else this.activateChildRoutes(n,null,r)}}class zE{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class bh{constructor(n,e){this.component=n,this.route=e}}function h6(t,n,e){const r=t._root;return Iu(r,n?n._root:null,e,[r.value])}function Ul(t,n){const e=Symbol(),r=n.get(t,e);return r===e?"function"!=typeof t||function vp(t){return null!==Fi(t)}(t)?n.get(t):t:r}function Iu(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Bl(n);return t.children.forEach(c=>{(function g6(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,c=n?n.value:null,f=e?e.getContext(t.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const p=function m6(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!xa(t.url,n.url);case"pathParamsOrQueryParamsChange":return!xa(t.url,n.url)||!Po(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!am(t,n)||!Po(t.queryParams,n.queryParams);default:return!am(t,n)}}(c,o,o.routeConfig.runGuardsAndResolvers);p?i.canActivateChecks.push(new zE(r)):(o.data=c.data,o._resolvedData=c._resolvedData),Iu(t,n,o.component?f?f.children:null:e,r,i),p&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new bh(f.outlet.component,c))}else c&&Mu(n,f,i),i.canActivateChecks.push(new zE(r)),Iu(t,null,o.component?f?f.children:null:e,r,i)})(c,o[c.value.outlet],e,r.concat([c.value]),i),delete o[c.value.outlet]}),Or(o,(c,f)=>Mu(c,e.getContext(f),i)),i}function Mu(t,n,e){const r=Bl(t),i=t.value;Or(r,(o,c)=>{Mu(o,i.component?n?n.children.getContext(c):null:n,e)}),e.canDeactivateChecks.push(new bh(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function Ou(t){return"function"==typeof t}function hm(t){return t instanceof sh||"EmptyError"===t?.name}const Ch=Symbol("INITIAL_VALUE");function Vl(){return Wi(t=>ah(t.map(n=>n.pipe(Gn(1),lh(Ch)))).pipe(Be(n=>{for(const e of n)if(!0!==e){if(e===Ch)return Ch;if(!1===e||e instanceof Ea)return e}return!0}),Jn(n=>n!==Ch),Gn(1)))}function $E(t){return function nt(...t){return ys(t)}(Dr(n=>{if(Aa(n))throw BE(0,n)}),Be(n=>!0===n))}const pm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function WE(t,n,e,r,i){const o=gm(t,n,e);return o.matched?function R6(t,n,e,r){const i=n.canMatch;return i&&0!==i.length?Ie(i.map(c=>{const f=Ul(c,t);return zs(function w6(t){return t&&Ou(t.canMatch)}(f)?f.canMatch(n,e):t.runInContext(()=>f(n,e)))})).pipe(Vl(),$E()):Ie(!0)}(r=jE(n,r),n,e).pipe(Be(c=>!0===c?o:{...pm})):Ie(o)}function gm(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...pm}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(n.matcher||gP)(e,t,n);if(!i)return{...pm};const o={};Or(i.posParams,(f,p)=>{o[p]=f.path});const c=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function wh(t,n,e,r,i="corrected"){if(e.length>0&&function P6(t,n,e){return e.some(r=>Dh(t,n,r)&&qi(r)!==ct)}(t,e,r)){const c=new ut(n,function k6(t,n,e,r){const i={};i[ct]=r,r._sourceSegment=t,r._segmentIndexShift=n.length;for(const o of e)if(""===o.path&&qi(o)!==ct){const c=new ut([],{});c._sourceSegment=t,c._segmentIndexShift=n.length,i[qi(o)]=c}return i}(t,n,r,new ut(e,t.children)));return c._sourceSegment=t,c._segmentIndexShift=n.length,{segmentGroup:c,slicedSegments:[]}}if(0===e.length&&function L6(t,n,e){return e.some(r=>Dh(t,n,r))}(t,e,r)){const c=new ut(t.segments,function F6(t,n,e,r,i,o){const c={};for(const f of r)if(Dh(t,e,f)&&!i[qi(f)]){const p=new ut([],{});p._sourceSegment=t,p._segmentIndexShift="legacy"===o?t.segments.length:n.length,c[qi(f)]=p}return{...i,...c}}(t,n,e,r,t.children,i));return c._sourceSegment=t,c._segmentIndexShift=n.length,{segmentGroup:c,slicedSegments:e}}const o=new ut(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=n.length,{segmentGroup:o,slicedSegments:e}}function Dh(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function qE(t,n,e,r){return!!(qi(t)===r||r!==ct&&Dh(n,e,t))&&("**"===t.path||gm(n,t,e).matched)}function YE(t,n,e){return 0===n.length&&!t.children[e]}const Eh=!1;class xh{constructor(n){this.segmentGroup=n||null}}class ZE{constructor(n){this.urlTree=n}}function Ru(t){return bu(new xh(t))}function XE(t){return bu(new ZE(t))}class H6{constructor(n,e,r,i,o){this.injector=n,this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const n=wh(this.urlTree.root,[],[],this.config).segmentGroup,e=new ut(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,e,ct).pipe(Be(o=>this.createUrlTree(mh(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Gs(o=>{if(o instanceof ZE)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof xh?this.noMatchError(o):o}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,ct).pipe(Be(i=>this.createUrlTree(mh(i),n.queryParams,n.fragment))).pipe(Gs(i=>{throw i instanceof xh?this.noMatchError(i):i}))}noMatchError(n){return new ae(4002,Eh)}createUrlTree(n,e,r){const i=K0(n);return new Ea(i,e,r)}expandSegmentGroup(n,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(n,e,r).pipe(Be(o=>new ut([],o))):this.expandSegment(n,r,e,r.segments,i,!0)}expandChildren(n,e,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return kt(i).pipe(Vs(o=>{const c=r.children[o],f=GE(e,o);return this.expandSegmentGroup(n,f,c,o).pipe(Be(p=>({segment:p,outlet:o})))}),cE((o,c)=>(o[c.outlet]=c.segment,o),{}),uE())}expandSegment(n,e,r,i,o,c){return kt(r).pipe(Vs(f=>this.expandSegmentAgainstRoute(n,e,r,f,i,o,c).pipe(Gs(m=>{if(m instanceof xh)return Ie(null);throw m}))),js(f=>!!f),Gs((f,p)=>{if(hm(f))return YE(e,i,o)?Ie(new ut([],{})):Ru(e);throw f}))}expandSegmentAgainstRoute(n,e,r,i,o,c,f){return qE(i,e,o,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,e,i,o,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,r,i,o,c):Ru(e):Ru(e)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,o,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,i,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?XE(o):this.lineralizeSegments(r,o).pipe(sn(c=>{const f=new ut(c,{});return this.expandSegment(n,f,e,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,i,o,c){const{matched:f,consumedSegments:p,remainingSegments:m,positionalParamSegments:y}=gm(e,i,o);if(!f)return Ru(e);const D=this.applyRedirectCommands(p,i.redirectTo,y);return i.redirectTo.startsWith("/")?XE(D):this.lineralizeSegments(i,D).pipe(sn(A=>this.expandSegment(n,e,r,A.concat(m),c,!1)))}matchSegmentAgainstRoute(n,e,r,i,o){return"**"===r.path?(n=jE(r,n),r.loadChildren?(r._loadedRoutes?Ie({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(n,r)).pipe(Be(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new ut(i,{})))):Ie(new ut(i,{}))):WE(e,r,i,n).pipe(Wi(({matched:c,consumedSegments:f,remainingSegments:p})=>c?this.getChildConfig(n=r._injector??n,r,i).pipe(sn(y=>{const D=y.injector??n,A=y.routes,{segmentGroup:I,slicedSegments:P}=wh(e,f,p,A),B=new ut(I.segments,I.children);if(0===P.length&&B.hasChildren())return this.expandChildren(D,A,B).pipe(Be(q=>new ut(f,q)));if(0===A.length&&0===P.length)return Ie(new ut(f,{}));const G=qi(r)===o;return this.expandSegment(D,B,A,P,G?ct:o,!0).pipe(Be(Z=>new ut(f.concat(Z.segments),Z.children)))})):Ru(e)))}getChildConfig(n,e,r){return e.children?Ie({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?Ie({routes:e._loadedRoutes,injector:e._loadedInjector}):function O6(t,n,e,r){const i=n.canLoad;return void 0===i||0===i.length?Ie(!0):Ie(i.map(c=>{const f=Ul(c,t);return zs(function v6(t){return t&&Ou(t.canLoad)}(f)?f.canLoad(n,e):t.runInContext(()=>f(n,e)))})).pipe(Vl(),$E())}(n,e,r).pipe(sn(i=>i?this.configLoader.loadChildren(n,e).pipe(Dr(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function U6(t){return bu(UE(Eh,3))}())):Ie({routes:[],injector:n})}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ie(r);if(i.numberOfChildren>1||!i.children[ct])return bu(new ae(4e3,Eh));i=i.children[ct]}}applyRedirectCommands(n,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r)}applyRedirectCreateUrlTree(n,e,r,i){const o=this.createSegmentGroup(n,e.root,r,i);return new Ea(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return Or(n,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[o]=e[f]}else r[o]=i}),r}createSegmentGroup(n,e,r,i){const o=this.createSegments(n,e.segments,r,i);let c={};return Or(e.children,(f,p)=>{c[p]=this.createSegmentGroup(n,f,r,i)}),new ut(o,c)}createSegments(n,e,r,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,e,r){const i=r[e.path.substring(1)];if(!i)throw new ae(4001,Eh);return i}findOrReturn(n,e){let r=0;for(const i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}}class G6{}class W6{constructor(n,e,r,i,o,c,f,p){this.injector=n,this.rootComponentType=e,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=f,this.urlSerializer=p}recognize(){const n=wh(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,ct).pipe(Be(e=>{if(null===e)return null;const r=new vh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ct,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new hs(r,e),o=new PE(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(n){const e=n.value,r=kE(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,e,r):this.processSegment(n,e,r,r.segments,i)}processChildren(n,e,r){return kt(Object.keys(r.children)).pipe(Vs(i=>{const o=r.children[i],c=GE(e,i);return this.processSegmentGroup(n,c,o,i)}),cE((i,o)=>i&&o?(i.push(...o),i):null),function hP(t,n=!1){return en((e,r)=>{let i=0;e.subscribe(Ye(r,o=>{const c=t(o,i++);(c||n)&&r.next(o),!c&&r.complete()}))})}(i=>null!==i),ch(null),uE(),Be(i=>{if(null===i)return null;const o=QE(i);return function q6(t){t.sort((n,e)=>n.value.outlet===ct?-1:e.value.outlet===ct?1:n.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(n,e,r,i,o){return kt(e).pipe(Vs(c=>this.processSegmentAgainstRoute(c._injector??n,c,r,i,o)),js(c=>!!c),Gs(c=>{if(hm(c))return YE(r,i,o)?Ie([]):Ie(null);throw c}))}processSegmentAgainstRoute(n,e,r,i,o){if(e.redirectTo||!qE(e,r,i,o))return Ie(null);let c;if("**"===e.path){const f=i.length>0?pE(i).parameters:{},p=JE(r)+i.length;c=Ie({snapshot:new vh(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tx(e),qi(e),e.component??e._loadedComponent??null,e,KE(r),p,nx(e),p),consumedSegments:[],remainingSegments:[]})}else c=WE(r,e,i,n).pipe(Be(({matched:f,consumedSegments:p,remainingSegments:m,parameters:y})=>{if(!f)return null;const D=JE(r)+p.length;return{snapshot:new vh(p,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tx(e),qi(e),e.component??e._loadedComponent??null,e,KE(r),D,nx(e),D),consumedSegments:p,remainingSegments:m}}));return c.pipe(Wi(f=>{if(null===f)return Ie(null);const{snapshot:p,consumedSegments:m,remainingSegments:y}=f;n=e._injector??n;const D=e._loadedInjector??n,A=function Y6(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(e),{segmentGroup:I,slicedSegments:P}=wh(r,m,y,A.filter(G=>void 0===G.redirectTo),this.relativeLinkResolution);if(0===P.length&&I.hasChildren())return this.processChildren(D,A,I).pipe(Be(G=>null===G?null:[new hs(p,G)]));if(0===A.length&&0===P.length)return Ie([new hs(p,[])]);const B=qi(e)===o;return this.processSegment(D,A,I,P,B?ct:o).pipe(Be(G=>null===G?null:[new hs(p,G)]))}))}}function Z6(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function QE(t){const n=[],e=new Set;for(const r of t){if(!Z6(r)){n.push(r);continue}const i=n.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):n.push(r)}for(const r of e){const i=QE(r.children);n.push(new hs(r.value,i))}return n.filter(r=>!e.has(r))}function KE(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function JE(t){let n=t,e=n._segmentIndexShift??0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift??0;return e-1}function tx(t){return t.data||{}}function nx(t){return t.resolve||{}}function rx(t){return"string"==typeof t.title||null===t.title}function mm(t){return Wi(n=>{const e=t(n);return e?kt(e).pipe(Be(()=>n)):Ie(n)})}let ix=(()=>{class t{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ct);return r}getResolvedTitleForRoute(e){return e.data[Cu]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ie({token:t,factory:function(){return jn(ox)},providedIn:"root"}),t})(),ox=(()=>{class t extends ix{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(e){return new(e||t)(oe(LD))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class rL{}class oL extends class iL{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const Sh=new Fe("",{providedIn:"root",factory:()=>({})}),_m=new Fe("ROUTES");let vm=(()=>{class t{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ie(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=zs(e.loadComponent()).pipe(Dr(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),uh(()=>{this.componentLoaders.delete(e)})),i=new aE(r,()=>new je).pipe(q0());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ie({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Be(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let p,m,y=!1;Array.isArray(f)?m=f:(p=f.create(e).injector,m=hE(p.get(_m,[],Le.Self|Le.Optional)));return{routes:m.map(fm),injector:p}}),uh(()=>{this.childrenLoaders.delete(r)})),c=new aE(o,()=>new je).pipe(q0());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(e){return zs(e()).pipe(sn(r=>r instanceof IC||Array.isArray(r)?Ie(r):kt(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(e){return new(e||t)(oe(St),oe(R1))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class aL{}class lL{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function cL(t){throw t}function uL(t,n,e){return n.parse("/")}const dL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function ax(){const t=jn(bE),n=jn(Tu),e=jn(Y1),r=jn(St),i=jn(R1),o=jn(_m,{optional:!0})??[],c=jn(Sh,{optional:!0})??{},f=jn(ox),p=jn(ix,{optional:!0}),m=jn(aL,{optional:!0}),y=jn(rL,{optional:!0}),D=new tr(null,t,n,e,r,i,hE(o));return m&&(D.urlHandlingStrategy=m),y&&(D.routeReuseStrategy=y),D.titleStrategy=p??f,function hL(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(c,D),D}let tr=(()=>{class t{constructor(e,r,i,o,c,f,p){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new je,this.errorHandler=cL,this.malformedUriErrorHandler=uL,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ie(void 0),this.urlHandlingStrategy=new lL,this.routeReuseStrategy=new oL,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(vm),this.configLoader.onLoadEndListener=A=>this.triggerEvent(new YP(A)),this.configLoader.onLoadStartListener=A=>this.triggerEvent(new qP(A)),this.ngModule=c.get(ma),this.console=c.get(XR);const D=c.get(Mt);this.isNgZoneEnabled=D instanceof Mt&&Mt.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function _P(){return new Ea(new ut([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=FE(this.currentUrlTree,this.rootComponentType),this.transitions=new In({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Jn(i=>0!==i.id),Be(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Wi(i=>{let o=!1,c=!1;return Ie(i).pipe(Dr(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Wi(f=>{const p=this.browserUrlTree.toString(),m=!this.navigated||f.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||m)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return lx(f.source)&&(this.browserUrlTree=f.extractedUrl),Ie(f).pipe(Wi(D=>{const A=this.transitions.getValue();return r.next(new nm(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),A!==this.transitions.getValue()?wn:Promise.resolve(D)}),function j6(t,n,e,r){return Wi(i=>function V6(t,n,e,r,i){return new H6(t,n,e,r,i).apply()}(t,n,e,i.extractedUrl,r).pipe(Be(o=>({...i,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Dr(D=>{this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},i.urlAfterRedirects=D.urlAfterRedirects}),function Q6(t,n,e,r,i,o){return sn(c=>function $6(t,n,e,r,i,o,c="emptyOnly",f="legacy"){return new W6(t,n,e,r,i,c,f,o).recognize().pipe(Wi(p=>null===p?function z6(t){return new pt(n=>n.error(t))}(new G6):Ie(p)))}(t,n,e,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,i,o).pipe(Be(f=>({...c,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Dr(D=>{if(i.targetSnapshot=D.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!D.extras.skipLocationChange){const I=this.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);this.setBrowserUrl(I,D)}this.browserUrlTree=D.urlAfterRedirects}const A=new jP(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);r.next(A)}));if(m&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:A,extractedUrl:I,source:P,restoredState:B,extras:G}=f,z=new nm(A,this.serializeUrl(I),P,B);r.next(z);const Z=FE(I,this.rootComponentType).snapshot;return Ie(i={...f,targetSnapshot:Z,urlAfterRedirects:I,extras:{...G,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),wn}),Dr(f=>{const p=new GP(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(p)}),Be(f=>i={...f,guards:h6(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function E6(t,n){return sn(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:c}}=e;return 0===c.length&&0===o.length?Ie({...e,guardsResult:!0}):function x6(t,n,e,r){return kt(t).pipe(sn(i=>function M6(t,n,e,r,i){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?Ie(o.map(f=>{const p=Nu(n)??i,m=Ul(f,p);return zs(function C6(t){return t&&Ou(t.canDeactivate)}(m)?m.canDeactivate(t,n,e,r):p.runInContext(()=>m(t,n,e,r))).pipe(js())})).pipe(Vl()):Ie(!0)}(i.component,i.route,e,n,r)),js(i=>!0!==i,!0))}(c,r,i,t).pipe(sn(f=>f&&function _6(t){return"boolean"==typeof t}(f)?function A6(t,n,e,r){return kt(n).pipe(Vs(i=>yu(function T6(t,n){return null!==t&&n&&n(new ZP(t)),Ie(!0)}(i.route.parent,r),function S6(t,n){return null!==t&&n&&n(new QP(t)),Ie(!0)}(i.route,r),function I6(t,n,e){const r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(c=>function p6(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(c)).filter(c=>null!==c).map(c=>sE(()=>Ie(c.guards.map(p=>{const m=Nu(c.node)??e,y=Ul(p,m);return zs(function b6(t){return t&&Ou(t.canActivateChild)}(y)?y.canActivateChild(r,t):m.runInContext(()=>y(r,t))).pipe(js())})).pipe(Vl())));return Ie(o).pipe(Vl())}(t,i.path,e),function N6(t,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return Ie(!0);const i=r.map(o=>sE(()=>{const c=Nu(n)??e,f=Ul(o,c);return zs(function y6(t){return t&&Ou(t.canActivate)}(f)?f.canActivate(n,t):c.runInContext(()=>f(n,t))).pipe(js())}));return Ie(i).pipe(Vl())}(t,i.route,e))),js(i=>!0!==i,!0))}(r,o,t,n):Ie(f)),Be(f=>({...e,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),Dr(f=>{if(i.guardsResult=f.guardsResult,Aa(f.guardsResult))throw BE(0,f.guardsResult);const p=new zP(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(p)}),Jn(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),mm(f=>{if(f.guards.canActivateChecks.length)return Ie(f).pipe(Dr(p=>{const m=new $P(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(m)}),Wi(p=>{let m=!1;return Ie(p).pipe(function K6(t,n){return sn(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return Ie(e);let o=0;return kt(i).pipe(Vs(c=>function J6(t,n,e,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!rx(i)&&(o[Cu]=i.title),function eL(t,n,e,r){const i=function tL(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Ie({});const o={};return kt(i).pipe(sn(c=>function nL(t,n,e,r){const i=Nu(n)??r,o=Ul(t,i);return zs(o.resolve?o.resolve(n,e):i.runInContext(()=>o(n,e)))}(t[c],n,e,r).pipe(js(),Dr(f=>{o[c]=f}))),Y0(1),dE(o),Gs(c=>hm(c)?wn:bu(c)))}(o,t,n,r).pipe(Be(c=>(t._resolvedData=c,t.data=kE(t,e).resolve,i&&rx(i)&&(t.data[Cu]=i.title),null)))}(c.route,r,t,n)),Dr(()=>o++),Y0(1),sn(c=>o===i.length?Ie(e):wn))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Dr({next:()=>m=!0,complete:()=>{m||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),Dr(p=>{const m=new WP(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(m)}))}),mm(f=>{const p=m=>{const y=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(m.routeConfig).pipe(Dr(D=>{m.component=D}),Be(()=>{})));for(const D of m.children)y.push(...p(D));return y};return ah(p(f.targetSnapshot.root)).pipe(ch(),Gn(1))}),mm(()=>this.afterPreactivation()),Be(f=>{const p=function n6(t,n,e){const r=Su(t,n._root,e?e._root:void 0);return new RE(r,n)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return i={...f,targetRouterState:p}}),Dr(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((t,n,e)=>Be(r=>(new f6(n,r.targetRouterState,r.currentRouterState,e).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),Dr({next(){o=!0},complete(){o=!0}}),uh(()=>{o||c||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Gs(f=>{if(c=!0,HE(f)){VE(f)||(this.navigated=!0,this.restoreHistory(i,!0));const p=new _h(i.id,this.serializeUrl(i.extractedUrl),f.message,f.cancellationCode);if(r.next(p),VE(f)){const m=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),y={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||lx(i.source)};this.scheduleNavigation(m,"imperative",null,y,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const p=new IE(i.id,this.serializeUrl(i.extractedUrl),f,i.targetSnapshot??void 0);r.next(p);try{i.resolve(this.errorHandler(f))}catch(m){i.reject(m)}}return wn}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(o){const f={...o};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(i.state=f)}const c=this.parseUrl(e.url);this.scheduleNavigation(c,r,o,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(fm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:o,fragment:c,queryParamsHandling:f,preserveFragment:p}=r,m=i||this.routerState.root,y=p?this.currentUrlTree.fragment:c;let D=null;switch(f){case"merge":D={...this.currentUrlTree.queryParams,...o};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=o||null}return null!==D&&(D=this.removeEmptyProps(D)),PP(m,this.currentUrlTree,e,D,y??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=Aa(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function pL(t){for(let n=0;n<t.length;n++){if(null==t[n])throw new ae(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...dL}:!1===r?{...fL}:r,Aa(e))return mE(this.currentUrlTree,e,i);const o=this.parseUrl(e);return mE(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const o=e[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Sa(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,i,o,c){if(this.disposed)return Promise.resolve(!1);let f,p,m;c?(f=c.resolve,p=c.reject,m=c.promise):m=new Promise((A,I)=>{f=A,p=I});const y=++this.navigationId;let D;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),D=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):D=0,this.setTransition({id:y,targetPageId:D,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:f,reject:p,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(A=>Promise.reject(A))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r,i){const o=new _h(e.id,this.serializeUrl(e.extractedUrl),r,i);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return t.\u0275fac=function(e){kg()},t.\u0275prov=ie({token:t,factory:function(){return ax()},providedIn:"root"}),t})();function lx(t){return"imperative"!==t}let fo=(()=>{class t{constructor(e,r,i,o,c){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new je,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=ls(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=ls(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=ls(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==e?r.setAttribute(i,"tabindex",e):r.removeAttribute(i,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(e){return new(e||t)(N(tr),N(gi),Is("tabindex"),N(Di),N(It))},t.\u0275dir=me({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,r){1&e&&j("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[ar]}),t})(),Ta=(()=>{class t{constructor(e,r,i){this.router=e,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new je,this.subscription=e.events.subscribe(o=>{o instanceof Sa&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=ls(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=ls(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=ls(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,i,o,c){return!!(0!==e||r||i||o||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(e){return new(e||t)(N(tr),N(gi),N(Ca))},t.\u0275dir=me({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&j("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&Ut("target",r.target)("href",r.href,yg)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[ar]}),t})(),cx=(()=>{class t{constructor(e,r,i,o,c,f){this.router=e,this.element=r,this.renderer=i,this.cdr=o,this.link=c,this.linkWithHref=f,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Pe,this.routerEventsSubscription=e.events.subscribe(p=>{p instanceof Sa&&this.update()})}ngAfterContentInit(){Ie(this.links.changes,this.linksWithHrefs.changes,Ie(null)).pipe(xo()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=kt(e).pipe(xo()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){const r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const r=function gL(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&e.isActive(i.urlTree,r)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return t.\u0275fac=function(e){return new(e||t)(N(tr),N(It),N(Di),N(Gi),N(fo,8),N(Ta,8))},t.\u0275dir=me({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(e,r,i){if(1&e&&(An(i,fo,5),An(i,Ta,5)),2&e){let o;Wt(o=qt())&&(r.links=o),Wt(o=qt())&&(r.linksWithHrefs=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[ar]}),t})();class ux{}let mL=(()=>{class t{constructor(e,r,i,o,c){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Jn(e=>e instanceof Sa),Vs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=vf(o.providers,e,`Route: ${o.path}`));const c=o._injector??e,f=o._loadedInjector??c;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(c,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(f,o.children??o._loadedRoutes))}return kt(i).pipe(xo())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):Ie(null);const o=i.pipe(sn(c=>null===c?Ie(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));return r.loadComponent&&!r._loadedComponent?kt([o,this.loader.loadComponent(r)]).pipe(xo()):o})}}return t.\u0275fac=function(e){return new(e||t)(oe(tr),oe(R1),oe(ns),oe(ux),oe(vm))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ym=new Fe("");let dx=(()=>{class t{constructor(e,r,i={}){this.router=e,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof nm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Sa&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ME&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new ME(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){kg()},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();function Hl(t,n){return{\u0275kind:t,\u0275providers:n}}function bm(t){return[{provide:_m,multi:!0,useValue:t}]}function hx(){const t=jn(St);return n=>{const e=t.get(va);if(n!==e.components[0])return;const r=t.get(tr),i=t.get(px);1===t.get(Cm)&&r.initialNavigation(),t.get(gx,null,Le.Optional)?.setUpPreloading(),t.get(ym,null,Le.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const px=new Fe("",{factory:()=>new je}),Cm=new Fe("",{providedIn:"root",factory:()=>1});const gx=new Fe("");function bL(t){return Hl(0,[{provide:gx,useExisting:mL},{provide:ux,useExisting:t}])}const mx=new Fe("ROUTER_FORROOT_GUARD"),CL=[Y1,{provide:bE,useClass:X0},{provide:tr,useFactory:ax},Tu,{provide:gi,useFactory:function fx(t){return t.routerState.root},deps:[tr]},vm];function wL(){return new xw("Router",tr)}let _x=(()=>{class t{constructor(e){}static forRoot(e,r){return{ngModule:t,providers:[CL,[],bm(e),{provide:mx,useFactory:AL,deps:[[tr,new Mc,new Oc]]},{provide:Sh,useValue:r||{}},r?.useHash?{provide:Ca,useClass:B4}:{provide:Ca,useClass:Xw},{provide:ym,useFactory:()=>{const t=jn(tr),n=jn(ZF),e=jn(Sh);return e.scrollOffset&&n.setOffset(e.scrollOffset),new dx(t,n,e)}},r?.preloadingStrategy?bL(r.preloadingStrategy).\u0275providers:[],{provide:xw,multi:!0,useFactory:wL},r?.initialNavigation?SL(r):[],[{provide:vx,useFactory:hx},{provide:vw,multi:!0,useExisting:vx}]]}}static forChild(e){return{ngModule:t,providers:[bm(e)]}}}return t.\u0275fac=function(e){return new(e||t)(oe(mx,8))},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({imports:[um]}),t})();function AL(t){return"guarded"}function SL(t){return["disabled"===t.initialNavigation?Hl(3,[{provide:wf,multi:!0,useFactory:()=>{const n=jn(tr);return()=>{n.setUpLocationChangeListener()}}},{provide:Cm,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Hl(2,[{provide:Cm,useValue:0},{provide:wf,multi:!0,deps:[St],useFactory:n=>{const e=n.get(P4,Promise.resolve());let r=!1;return()=>e.then(()=>new Promise(o=>{const c=n.get(tr),f=n.get(px);(function i(o){n.get(tr).events.pipe(Jn(f=>f instanceof Sa||f instanceof _h||f instanceof IE),Be(f=>f instanceof Sa||f instanceof _h&&(0===f.code||1===f.code)&&null),Jn(f=>null!==f),Gn(1)).subscribe(()=>{o()})})(()=>{o(!0),r=!0}),c.afterPreactivation=()=>(o(!0),r||f.closed?Ie(void 0):f),c.initialNavigation()}))}}]).\u0275providers:[]]}const vx=new Fe("");function yx(t,n,e,r,i,o,c){try{var f=t[o](c),p=f.value}catch(m){return void e(m)}f.done?n(p):Promise.resolve(p).then(r,i)}function se(t){return function(){var n=this,e=arguments;return new Promise(function(r,i){var o=t.apply(n,e);function c(p){yx(o,r,i,c,f,"next",p)}function f(p){yx(o,r,i,c,f,"throw",p)}c(void 0)})}}const nn_apiUrl="https://racun-backend-production.up.railway.app/api",nn_backendUrl="https://racun-backend-production.up.railway.app";let Mh=(()=>{class t{constructor(){}login(e,r){return se(function*(){return yield fetch(`${nn_backendUrl}/login/password`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:r})}),!0})()}logout(){return se(function*(){return yield fetch(`${nn_backendUrl}/logout`,{method:"POST",credentials:"include"}),!0})()}canActivate(){return se(function*(){return 200===(yield fetch(`${nn_backendUrl}/auth/canActivate`,{credentials:"include"})).status})()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),nr=(()=>{class t{constructor(e,r){this.router=e,this.authService=r}canActivate(e,r){return this.authService.canActivate().then(i=>!!i||(this.router.navigate([""]),!1))}canActivateChild(e,r){return this.canActivate(e,r)}}return t.\u0275fac=function(e){return new(e||t)(oe(tr),oe(Mh))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const NL=["addListener","removeListener"],IL=["addEventListener","removeEventListener"],ML=["on","off"];function Er(t,n,e,r){if(st(e)&&(r=e,e=void 0),r)return Er(t,n,e).pipe(C0(r));const[i,o]=function FL(t){return st(t.addEventListener)&&st(t.removeEventListener)}(t)?IL.map(c=>f=>t[c](n,f,e)):function OL(t){return st(t.addListener)&&st(t.removeListener)}(t)?NL.map(bx(t,n)):function RL(t){return st(t.on)&&st(t.off)}(t)?ML.map(bx(t,n)):[];if(!i&&zo(t))return sn(c=>Er(c,n,e))(gn(t));if(!i)throw new TypeError("Invalid event target");return new pt(c=>{const f=(...p)=>c.next(1<p.length?p:p[0]);return i(f),()=>o(f)})}function bx(t,n){return e=>r=>t[e](n,r)}class kL extends Yr{constructor(n,e){super()}schedule(n,e=0){return this}}const Oh={setInterval(t,n,...e){const{delegate:r}=Oh;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=Oh;return(n?.clearInterval||clearInterval)(t)},delegate:void 0},Cx={now:()=>(Cx.delegate||Date).now(),delegate:void 0};class Fu{constructor(n,e=Fu.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}Fu.now=Cx.now;const wx=new class LL extends Fu{constructor(n,e=Fu.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}(class PL extends kL{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var r;if(this.closed)return this;this.state=n;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,r=0){return Oh.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&Oh.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let i,r=!1;try{this.work(n)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Ba(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}),BL=wx;function wm(t=0,n,e=BL){let r=-1;return null!=n&&(na(n)?e=n:r=n),new pt(i=>{let o=function UL(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;o<0&&(o=0);let c=0;return e.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},o)})}const{isArray:VL}=Array;function Dx(t){return 1===t.length&&VL(t[0])?t[0]:t}function Ex(...t){return 1===(t=Dx(t)).length?gn(t[0]):new pt(function HL(t){return n=>{let e=[];for(let r=0;e&&!n.closed&&r<t.length;r++)e.push(gn(t[r]).subscribe(Ye(n,i=>{if(e){for(let o=0;o<e.length;o++)o!==r&&e[o].unsubscribe();e=null}n.next(i)})))}}(t))}function ku(...t){const n=qa(t),e=Dx(t);return e.length?new pt(r=>{let i=e.map(()=>[]),o=e.map(()=>!1);r.add(()=>{i=o=null});for(let c=0;!r.closed&&c<e.length;c++)gn(e[c]).subscribe(Ye(r,f=>{if(i[c].push(f),i.every(p=>p.length)){const p=i.map(m=>m.shift());r.next(n?n(...p):p),i.some((m,y)=>!m.length&&o[y])&&r.complete()}},()=>{o[c]=!0,!i[c].length&&r.complete()}));return()=>{i=o=null}}):wn}function hn(t){return en((n,e)=>{gn(t).subscribe(Ye(e,()=>e.complete(),jo)),!e.closed&&n.subscribe(e)})}function GL(t,n){return t===n}function Em(...t){const n=qa(t);return en((e,r)=>{const i=t.length,o=new Array(i);let c=t.map(()=>!1),f=!1;for(let p=0;p<i;p++)gn(t[p]).subscribe(Ye(r,m=>{o[p]=m,!f&&!c[p]&&(c[p]=!0,(f=c.every(Zt))&&(c=null))},jo));e.subscribe(Ye(r,p=>{if(f){const m=[p,...o];r.next(n?n(...m):m)}}))})}function Ax(t,n){return n?e=>yu(n.pipe(Gn(1),function zL(){return en((t,n)=>{t.subscribe(Ye(n,jo))})}()),e.pipe(Ax(t))):sn((e,r)=>t(e,r).pipe(Gn(1),dE(e)))}new pt(jo);var qL={left:"right",right:"left",bottom:"top",top:"bottom"};function Rh(t){return t.replace(/left|right|bottom|top/g,function(n){return qL[n]})}function Lo(t){return t.split("-")[0]}var YL={start:"end",end:"start"};function Sx(t){return t.replace(/start|end/g,function(n){return YL[n]})}var Si="top",ho="bottom",po="right",Ti="left",xm="auto",Pu=[Si,ho,po,Ti],jl="start",Lu="end",Tx="viewport",Bu="popper",Nx=Pu.reduce(function(t,n){return t.concat([n+"-"+jl,n+"-"+Lu])},[]),Ix=[].concat(Pu,[xm]).reduce(function(t,n){return t.concat([n,n+"-"+jl,n+"-"+Lu])},[]),s5=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Yi(t){if(null==t)return window;if("[object Window]"!==t.toString()){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function Na(t){return t instanceof Yi(t).Element||t instanceof Element}function Zi(t){return t instanceof Yi(t).HTMLElement||t instanceof HTMLElement}function Am(t){return!(typeof ShadowRoot>"u")&&(t instanceof Yi(t).ShadowRoot||t instanceof ShadowRoot)}function $s(t){return((Na(t)?t.ownerDocument:t.document)||window.document).documentElement}var Ia=Math.max,Fh=Math.min,Gl=Math.round;function Sm(){var t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function Mx(){return!/^((?!chrome|android).)*safari/i.test(Sm())}function zl(t,n,e){void 0===n&&(n=!1),void 0===e&&(e=!1);var r=t.getBoundingClientRect(),i=1,o=1;n&&Zi(t)&&(i=t.offsetWidth>0&&Gl(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Gl(r.height)/t.offsetHeight||1);var f=(Na(t)?Yi(t):window).visualViewport,p=!Mx()&&e,m=(r.left+(p&&f?f.offsetLeft:0))/i,y=(r.top+(p&&f?f.offsetTop:0))/o,D=r.width/i,A=r.height/o;return{width:D,height:A,top:y,right:m+D,bottom:y+A,left:m,x:m,y}}function Tm(t){var n=Yi(t);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function Nm(t){return zl($s(t)).left+Tm(t).scrollLeft}function ps(t){return Yi(t).getComputedStyle(t)}function Bo(t){return t?(t.nodeName||"").toLowerCase():null}function kh(t){return"html"===Bo(t)?t:t.assignedSlot||t.parentNode||(Am(t)?t.host:null)||$s(t)}function Im(t){var n=ps(t);return/auto|scroll|overlay|hidden/.test(n.overflow+n.overflowY+n.overflowX)}function Ox(t){return["html","body","#document"].indexOf(Bo(t))>=0?t.ownerDocument.body:Zi(t)&&Im(t)?t:Ox(kh(t))}function Uu(t,n){var e;void 0===n&&(n=[]);var r=Ox(t),i=r===(null==(e=t.ownerDocument)?void 0:e.body),o=Yi(r),c=i?[o].concat(o.visualViewport||[],Im(r)?r:[]):r,f=n.concat(c);return i?f:f.concat(Uu(kh(c)))}function c5(t){return["table","td","th"].indexOf(Bo(t))>=0}function Rx(t){return Zi(t)&&"fixed"!==ps(t).position?t.offsetParent:null}function Vu(t){for(var n=Yi(t),e=Rx(t);e&&c5(e)&&"static"===ps(e).position;)e=Rx(e);return e&&("html"===Bo(e)||"body"===Bo(e)&&"static"===ps(e).position)?n:e||function u5(t){var n=/firefox/i.test(Sm());if(/Trident/i.test(Sm())&&Zi(t)&&"fixed"===ps(t).position)return null;var i=kh(t);for(Am(i)&&(i=i.host);Zi(i)&&["html","body"].indexOf(Bo(i))<0;){var o=ps(i);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||n&&"filter"===o.willChange||n&&o.filter&&"none"!==o.filter)return i;i=i.parentNode}return null}(t)||n}function Fx(t,n){var e=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(e&&Am(e)){var r=n;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Mm(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function kx(t,n,e){return n===Tx?Mm(function a5(t,n){var e=Yi(t),r=$s(t),i=e.visualViewport,o=r.clientWidth,c=r.clientHeight,f=0,p=0;if(i){o=i.width,c=i.height;var m=Mx();(m||!m&&"fixed"===n)&&(f=i.offsetLeft,p=i.offsetTop)}return{width:o,height:c,x:f+Nm(t),y:p}}(t,e)):Na(n)?function d5(t,n){var e=zl(t,!1,"fixed"===n);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(n,e):Mm(function l5(t){var n,e=$s(t),r=Tm(t),i=null==(n=t.ownerDocument)?void 0:n.body,o=Ia(e.scrollWidth,e.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),c=Ia(e.scrollHeight,e.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),f=-r.scrollLeft+Nm(t),p=-r.scrollTop;return"rtl"===ps(i||e).direction&&(f+=Ia(e.clientWidth,i?i.clientWidth:0)-o),{width:o,height:c,x:f,y:p}}($s(t)))}function $l(t){return t.split("-")[1]}function Om(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Px(t){var p,n=t.reference,e=t.element,r=t.placement,i=r?Lo(r):null,o=r?$l(r):null,c=n.x+n.width/2-e.width/2,f=n.y+n.height/2-e.height/2;switch(i){case Si:p={x:c,y:n.y-e.height};break;case ho:p={x:c,y:n.y+n.height};break;case po:p={x:n.x+n.width,y:f};break;case Ti:p={x:n.x-e.width,y:f};break;default:p={x:n.x,y:n.y}}var m=i?Om(i):null;if(null!=m){var y="y"===m?"height":"width";switch(o){case jl:p[m]=p[m]-(n[y]/2-e[y]/2);break;case Lu:p[m]=p[m]+(n[y]/2-e[y]/2)}}return p}function Bx(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function Ux(t,n){return n.reduce(function(e,r){return e[r]=t,e},{})}function Rm(t,n){void 0===n&&(n={});var r=n.placement,i=void 0===r?t.placement:r,o=n.strategy,c=void 0===o?t.strategy:o,f=n.boundary,p=void 0===f?"clippingParents":f,m=n.rootBoundary,y=void 0===m?Tx:m,D=n.elementContext,A=void 0===D?Bu:D,I=n.altBoundary,P=void 0!==I&&I,B=n.padding,G=void 0===B?0:B,z=Bx("number"!=typeof G?G:Ux(G,Pu)),q=t.rects.popper,ne=t.elements[P?A===Bu?"reference":Bu:A],ge=function h5(t,n,e,r){var i="clippingParents"===n?function f5(t){var n=Uu(kh(t)),r=["absolute","fixed"].indexOf(ps(t).position)>=0&&Zi(t)?Vu(t):t;return Na(r)?n.filter(function(i){return Na(i)&&Fx(i,r)&&"body"!==Bo(i)}):[]}(t):[].concat(n),o=[].concat(i,[e]),f=o.reduce(function(p,m){var y=kx(t,m,r);return p.top=Ia(y.top,p.top),p.right=Fh(y.right,p.right),p.bottom=Fh(y.bottom,p.bottom),p.left=Ia(y.left,p.left),p},kx(t,o[0],r));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}(Na(ne)?ne:ne.contextElement||$s(t.elements.popper),p,y,c),Ae=zl(t.elements.reference),wt=Px({reference:Ae,element:q,strategy:"absolute",placement:i}),Ft=Mm(Object.assign({},q,wt)),Rn=A===Bu?Ft:Ae,Fn={top:ge.top-Rn.top+z.top,bottom:Rn.bottom-ge.bottom+z.bottom,left:ge.left-Rn.left+z.left,right:Rn.right-ge.right+z.right},pn=t.modifiersData.offset;if(A===Bu&&pn){var li=pn[i];Object.keys(Fn).forEach(function(hr){var vo=[po,ho].indexOf(hr)>=0?1:-1,yo=[Si,ho].indexOf(hr)>=0?"y":"x";Fn[hr]+=li[yo]*vo})}return Fn}const _5={name:"flip",enabled:!0,phase:"main",fn:function m5(t){var n=t.state,e=t.options,r=t.name;if(!n.modifiersData[r]._skip){for(var i=e.mainAxis,o=void 0===i||i,c=e.altAxis,f=void 0===c||c,p=e.fallbackPlacements,m=e.padding,y=e.boundary,D=e.rootBoundary,A=e.altBoundary,I=e.flipVariations,P=void 0===I||I,B=e.allowedAutoPlacements,G=n.options.placement,z=Lo(G),q=p||(z!==G&&P?function g5(t){if(Lo(t)===xm)return[];var n=Rh(t);return[Sx(t),n,Sx(n)]}(G):[Rh(G)]),ne=[G].concat(q).reduce(function(rc,Xs){return rc.concat(Lo(Xs)===xm?function p5(t,n){void 0===n&&(n={});var i=n.boundary,o=n.rootBoundary,c=n.padding,f=n.flipVariations,p=n.allowedAutoPlacements,m=void 0===p?Ix:p,y=$l(n.placement),D=y?f?Nx:Nx.filter(function(P){return $l(P)===y}):Pu,A=D.filter(function(P){return m.indexOf(P)>=0});0===A.length&&(A=D);var I=A.reduce(function(P,B){return P[B]=Rm(t,{placement:B,boundary:i,rootBoundary:o,padding:c})[Lo(B)],P},{});return Object.keys(I).sort(function(P,B){return I[P]-I[B]})}(n,{placement:Xs,boundary:y,rootBoundary:D,padding:m,flipVariations:P,allowedAutoPlacements:B}):Xs)},[]),ge=n.rects.reference,Ae=n.rects.popper,wt=new Map,Ft=!0,Rn=ne[0],Fn=0;Fn<ne.length;Fn++){var pn=ne[Fn],li=Lo(pn),hr=$l(pn)===jl,vo=[Si,ho].indexOf(li)>=0,yo=vo?"width":"height",Fr=Rm(n,{placement:pn,boundary:y,rootBoundary:D,altBoundary:A,padding:m}),bo=vo?hr?po:Ti:hr?ho:Si;ge[yo]>Ae[yo]&&(bo=Rh(bo));var ap=Rh(bo),ka=[];if(o&&ka.push(Fr[li]<=0),f&&ka.push(Fr[bo]<=0,Fr[ap]<=0),ka.every(function(rc){return rc})){Rn=pn,Ft=!1;break}wt.set(pn,ka)}if(Ft)for(var f_=function(Xs){var rd=ne.find(function(up){var Pa=wt.get(up);if(Pa)return Pa.slice(0,Xs).every(function(h_){return h_})});if(rd)return Rn=rd,"break"},nd=P?3:1;nd>0&&"break"!==f_(nd);nd--);n.placement!==Rn&&(n.modifiersData[r]._skip=!0,n.placement=Rn,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Hu(t,n,e){return Ia(t,Fh(n,e))}function Fm(t){var n=zl(t),e=t.offsetWidth,r=t.offsetHeight;return Math.abs(n.width-e)<=1&&(e=n.width),Math.abs(n.height-r)<=1&&(r=n.height),{x:t.offsetLeft,y:t.offsetTop,width:e,height:r}}const C5={name:"preventOverflow",enabled:!0,phase:"main",fn:function b5(t){var n=t.state,e=t.options,r=t.name,i=e.mainAxis,o=void 0===i||i,c=e.altAxis,f=void 0!==c&&c,A=e.tether,I=void 0===A||A,P=e.tetherOffset,B=void 0===P?0:P,G=Rm(n,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),z=Lo(n.placement),Z=$l(n.placement),q=!Z,ne=Om(z),ge=function v5(t){return"x"===t?"y":"x"}(ne),Ae=n.modifiersData.popperOffsets,wt=n.rects.reference,Ft=n.rects.popper,Rn="function"==typeof B?B(Object.assign({},n.rects,{placement:n.placement})):B,Fn="number"==typeof Rn?{mainAxis:Rn,altAxis:Rn}:Object.assign({mainAxis:0,altAxis:0},Rn),pn=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,li={x:0,y:0};if(Ae){if(o){var hr,vo="y"===ne?Si:Ti,yo="y"===ne?ho:po,Fr="y"===ne?"height":"width",bo=Ae[ne],ap=bo+G[vo],ka=bo-G[yo],lp=I?-Ft[Fr]/2:0,f_=Z===jl?wt[Fr]:Ft[Fr],nd=Z===jl?-Ft[Fr]:-wt[Fr],cp=n.elements.arrow,rc=I&&cp?Fm(cp):{width:0,height:0},Xs=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},rd=Xs[vo],up=Xs[yo],Pa=Hu(0,wt[Fr],rc[Fr]),h_=q?wt[Fr]/2-lp-Pa-rd-Fn.mainAxis:f_-Pa-rd-Fn.mainAxis,dj=q?-wt[Fr]/2+lp+Pa+up+Fn.mainAxis:nd+Pa+up+Fn.mainAxis,p_=n.elements.arrow&&Vu(n.elements.arrow),IS=null!=(hr=pn?.[ne])?hr:0,pj=bo+dj-IS,MS=Hu(I?Fh(ap,bo+h_-IS-(p_?"y"===ne?p_.clientTop||0:p_.clientLeft||0:0)):ap,bo,I?Ia(ka,pj):ka);Ae[ne]=MS,li[ne]=MS-bo}if(f){var OS,La=Ae[ge],dp="y"===ge?"height":"width",RS=La+G["x"===ne?Si:Ti],FS=La-G["x"===ne?ho:po],g_=-1!==[Si,Ti].indexOf(z),kS=null!=(OS=pn?.[ge])?OS:0,PS=g_?RS:La-wt[dp]-Ft[dp]-kS+Fn.altAxis,LS=g_?La+wt[dp]+Ft[dp]-kS-Fn.altAxis:FS,BS=I&&g_?function y5(t,n,e){var r=Hu(t,n,e);return r>e?e:r}(PS,La,LS):Hu(I?PS:RS,La,I?LS:FS);Ae[ge]=BS,li[ge]=BS-La}n.modifiersData[r]=li}},requiresIfExists:["offset"]},x5={name:"arrow",enabled:!0,phase:"main",fn:function D5(t){var n,e=t.state,r=t.name,i=t.options,o=e.elements.arrow,c=e.modifiersData.popperOffsets,f=Lo(e.placement),p=Om(f),y=[Ti,po].indexOf(f)>=0?"height":"width";if(o&&c){var D=function(n,e){return Bx("number"!=typeof(n="function"==typeof n?n(Object.assign({},e.rects,{placement:e.placement})):n)?n:Ux(n,Pu))}(i.padding,e),A=Fm(o),I="y"===p?Si:Ti,P="y"===p?ho:po,B=e.rects.reference[y]+e.rects.reference[p]-c[p]-e.rects.popper[y],G=c[p]-e.rects.reference[p],z=Vu(o),Z=z?"y"===p?z.clientHeight||0:z.clientWidth||0:0,Ae=Z/2-A[y]/2+(B/2-G/2),wt=Hu(D[I],Ae,Z-A[y]-D[P]);e.modifiersData[r]=((n={})[p]=wt,n.centerOffset=wt-Ae,n)}},effect:function E5(t){var n=t.state,r=t.options.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"==typeof i&&!(i=n.elements.popper.querySelector(i))||!Fx(n.elements.popper,i)||(n.elements.arrow=i))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function N5(t,n,e){void 0===e&&(e=!1);var r=Zi(n),i=Zi(n)&&function T5(t){var n=t.getBoundingClientRect(),e=Gl(n.width)/t.offsetWidth||1,r=Gl(n.height)/t.offsetHeight||1;return 1!==e||1!==r}(n),o=$s(n),c=zl(t,i,e),f={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(r||!r&&!e)&&(("body"!==Bo(n)||Im(o))&&(f=function S5(t){return t!==Yi(t)&&Zi(t)?function A5(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}(t):Tm(t)}(n)),Zi(n)?((p=zl(n,!0)).x+=n.clientLeft,p.y+=n.clientTop):o&&(p.x=Nm(o))),{x:c.left+f.scrollLeft-p.x,y:c.top+f.scrollTop-p.y,width:c.width,height:c.height}}function I5(t){var n=new Map,e=new Set,r=[];function i(o){e.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach(function(f){if(!e.has(f)){var p=n.get(f);p&&i(p)}}),r.push(o)}return t.forEach(function(o){n.set(o.name,o)}),t.forEach(function(o){e.has(o.name)||i(o)}),r}function O5(t){var n;return function(){return n||(n=new Promise(function(e){Promise.resolve().then(function(){n=void 0,e(t())})})),n}}var Vx={placement:"bottom",modifiers:[],strategy:"absolute"};function Hx(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return!n.some(function(r){return!(r&&"function"==typeof r.getBoundingClientRect)})}function F5(t){void 0===t&&(t={});var e=t.defaultModifiers,r=void 0===e?[]:e,i=t.defaultOptions,o=void 0===i?Vx:i;return function(f,p,m){void 0===m&&(m=o);var y={placement:"bottom",orderedModifiers:[],options:Object.assign({},Vx,o),modifiersData:{},elements:{reference:f,popper:p},attributes:{},styles:{}},D=[],A=!1,I={state:y,setOptions:function(z){var Z="function"==typeof z?z(y.options):z;B(),y.options=Object.assign({},o,y.options,Z),y.scrollParents={reference:Na(f)?Uu(f):f.contextElement?Uu(f.contextElement):[],popper:Uu(p)};var q=function M5(t){var n=I5(t);return s5.reduce(function(e,r){return e.concat(n.filter(function(i){return i.phase===r}))},[])}(function R5(t){var n=t.reduce(function(e,r){var i=e[r.name];return e[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,e},{});return Object.keys(n).map(function(e){return n[e]})}([].concat(r,y.options.modifiers)));return y.orderedModifiers=q.filter(function(pn){return pn.enabled}),function P(){y.orderedModifiers.forEach(function(G){var Z=G.options,ne=G.effect;if("function"==typeof ne){var ge=ne({state:y,name:G.name,instance:I,options:void 0===Z?{}:Z});D.push(ge||function(){})}})}(),I.update()},forceUpdate:function(){if(!A){var z=y.elements,Z=z.reference,q=z.popper;if(Hx(Z,q)){y.rects={reference:N5(Z,Vu(q),"fixed"===y.options.strategy),popper:Fm(q)},y.reset=!1,y.placement=y.options.placement,y.orderedModifiers.forEach(function(pn){return y.modifiersData[pn.name]=Object.assign({},pn.data)});for(var ge=0;ge<y.orderedModifiers.length;ge++)if(!0!==y.reset){var Ae=y.orderedModifiers[ge],wt=Ae.fn,Ft=Ae.options;"function"==typeof wt&&(y=wt({state:y,options:void 0===Ft?{}:Ft,name:Ae.name,instance:I})||y)}else y.reset=!1,ge=-1}}},update:O5(function(){return new Promise(function(G){I.forceUpdate(),G(y)})}),destroy:function(){B(),A=!0}};if(!Hx(f,p))return I;function B(){D.forEach(function(G){return G()}),D=[]}return I.setOptions(m).then(function(G){!A&&m.onFirstUpdate&&m.onFirstUpdate(G)}),I}}var Ph={passive:!0};const P5={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function k5(t){var n=t.state,e=t.instance,r=t.options,i=r.scroll,o=void 0===i||i,c=r.resize,f=void 0===c||c,p=Yi(n.elements.popper),m=[].concat(n.scrollParents.reference,n.scrollParents.popper);return o&&m.forEach(function(y){y.addEventListener("scroll",e.update,Ph)}),f&&p.addEventListener("resize",e.update,Ph),function(){o&&m.forEach(function(y){y.removeEventListener("scroll",e.update,Ph)}),f&&p.removeEventListener("resize",e.update,Ph)}},data:{}},B5={name:"popperOffsets",enabled:!0,phase:"read",fn:function L5(t){var n=t.state;n.modifiersData[t.name]=Px({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})},data:{}};var U5={top:"auto",right:"auto",bottom:"auto",left:"auto"};function jx(t){var n,e=t.popper,r=t.popperRect,i=t.placement,o=t.variation,c=t.offsets,f=t.position,p=t.gpuAcceleration,m=t.adaptive,y=t.roundOffsets,D=t.isFixed,A=c.x,I=void 0===A?0:A,P=c.y,B=void 0===P?0:P,G="function"==typeof y?y({x:I,y:B}):{x:I,y:B};I=G.x,B=G.y;var z=c.hasOwnProperty("x"),Z=c.hasOwnProperty("y"),q=Ti,ne=Si,ge=window;if(m){var Ae=Vu(e),wt="clientHeight",Ft="clientWidth";Ae===Yi(e)&&"static"!==ps(Ae=$s(e)).position&&"absolute"===f&&(wt="scrollHeight",Ft="scrollWidth"),(i===Si||(i===Ti||i===po)&&o===Lu)&&(ne=ho,B-=(D&&Ae===ge&&ge.visualViewport?ge.visualViewport.height:Ae[wt])-r.height,B*=p?1:-1),i!==Ti&&(i!==Si&&i!==ho||o!==Lu)||(q=po,I-=(D&&Ae===ge&&ge.visualViewport?ge.visualViewport.width:Ae[Ft])-r.width,I*=p?1:-1)}var hr,pn=Object.assign({position:f},m&&U5),li=!0===y?function V5(t){var e=t.y,i=window.devicePixelRatio||1;return{x:Gl(t.x*i)/i||0,y:Gl(e*i)/i||0}}({x:I,y:B}):{x:I,y:B};return I=li.x,B=li.y,Object.assign({},pn,p?((hr={})[ne]=Z?"0":"",hr[q]=z?"0":"",hr.transform=(ge.devicePixelRatio||1)<=1?"translate("+I+"px, "+B+"px)":"translate3d("+I+"px, "+B+"px, 0)",hr):((n={})[ne]=Z?B+"px":"",n[q]=z?I+"px":"",n.transform="",n))}const j5={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function H5(t){var n=t.state,e=t.options,r=e.gpuAcceleration,i=void 0===r||r,o=e.adaptive,c=void 0===o||o,f=e.roundOffsets,p=void 0===f||f,y={placement:Lo(n.placement),variation:$l(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:i,isFixed:"fixed"===n.options.strategy};null!=n.modifiersData.popperOffsets&&(n.styles.popper=Object.assign({},n.styles.popper,jx(Object.assign({},y,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:c,roundOffsets:p})))),null!=n.modifiersData.arrow&&(n.styles.arrow=Object.assign({},n.styles.arrow,jx(Object.assign({},y,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})},data:{}};var $5=[P5,B5,j5,{name:"applyStyles",enabled:!0,phase:"write",fn:function G5(t){var n=t.state;Object.keys(n.elements).forEach(function(e){var r=n.styles[e]||{},i=n.attributes[e]||{},o=n.elements[e];!Zi(o)||!Bo(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(c){var f=i[c];!1===f?o.removeAttribute(c):o.setAttribute(c,!0===f?"":f)}))})},effect:function z5(t){var n=t.state,e={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,e.popper),n.styles=e,n.elements.arrow&&Object.assign(n.elements.arrow.style,e.arrow),function(){Object.keys(n.elements).forEach(function(r){var i=n.elements[r],o=n.attributes[r]||{},f=Object.keys(n.styles.hasOwnProperty(r)?n.styles[r]:e[r]).reduce(function(p,m){return p[m]="",p},{});!Zi(i)||!Bo(i)||(Object.assign(i.style,f),Object.keys(o).forEach(function(p){i.removeAttribute(p)}))})}},requires:["computeStyles"]}],W5=F5({defaultModifiers:$5});const Z5={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Y5(t){var n=t.state,r=t.name,i=t.options.offset,o=void 0===i?[0,0]:i,c=Ix.reduce(function(y,D){return y[D]=function q5(t,n,e){var r=Lo(t),i=[Ti,Si].indexOf(r)>=0?-1:1,o="function"==typeof e?e(Object.assign({},n,{placement:t})):e,c=o[0],f=o[1];return c=c||0,f=(f||0)*i,[Ti,po].indexOf(r)>=0?{x:f,y:c}:{x:c,y:f}}(D,n.rects,o),y},{}),f=c[n.placement],m=f.y;null!=n.modifiersData.popperOffsets&&(n.modifiersData.popperOffsets.x+=f.x,n.modifiersData.popperOffsets.y+=m),n.modifiersData[r]=c}},km=["*"],lB=["month"],cB=["year"];function uB(t,n){if(1&t&&(w(0,"option",5),S(1),E()),2&t){const e=n.$implicit,r=K();F("value",e),Ut("aria-label",r.i18n.getMonthFullName(e,r.date.year)),M(1),Ct(r.i18n.getMonthShortName(e,r.date.year))}}function dB(t,n){if(1&t&&(w(0,"option",5),S(1),E()),2&t){const e=n.$implicit,r=K();F("value",e),M(1),Ct(r.i18n.getYearNumerals(e))}}function fB(t,n){if(1&t){const e=qe();w(0,"ngb-datepicker-navigation-select",7),j("select",function(i){return Ee(e),xe(K().select.emit(i))}),E()}if(2&t){const e=K();F("date",e.date)("disabled",e.disabled)("months",e.selectBoxes.months)("years",e.selectBoxes.years)}}function hB(t,n){1&t&&U(0,"div",0)}function pB(t,n){1&t&&U(0,"div",0)}function gB(t,n){if(1&t&&(Y(0,hB,1,0,"div",9),w(1,"div",10),S(2),E(),Y(3,pB,1,0,"div",9)),2&t){const e=n.$implicit,r=n.index,i=K(2);F("ngIf",r>0),M(2),ht(" ",i.i18n.getMonthLabel(e.firstDate)," "),M(1),F("ngIf",r!==i.months.length-1)}}function mB(t,n){1&t&&Y(0,gB,4,3,"ng-template",8),2&t&&F("ngForOf",K().months)}const _B=["ngbDatepickerDayView",""],vB=["defaultDayTemplate"],yB=["content"];function bB(t,n){if(1&t&&U(0,"div",7),2&t){const r=n.currentMonth,i=n.selected,o=n.disabled,c=n.focused;F("date",n.date)("currentMonth",r)("selected",i)("disabled",o)("focused",c)}}function CB(t,n){if(1&t&&(w(0,"div",12),S(1),E()),2&t){const e=K().$implicit,r=K(2);M(1),ht(" ",r.i18n.getMonthLabel(e.firstDate)," ")}}function wB(t,n){if(1&t&&(w(0,"div",9),Y(1,CB,2,1,"div",10),U(2,"ngb-datepicker-month",11),E()),2&t){const e=n.$implicit,r=K(2);M(1),F("ngIf","none"===r.navigation||r.displayMonths>1&&"select"===r.navigation),M(1),F("month",e.firstDate)}}function DB(t,n){1&t&&Y(0,wB,3,2,"div",8),2&t&&F("ngForOf",K().model.months)}function EB(t,n){if(1&t){const e=qe();w(0,"ngb-datepicker-navigation",13),j("navigate",function(i){return Ee(e),xe(K().onNavigateEvent(i))})("select",function(i){return Ee(e),xe(K().onNavigateDateSelect(i))}),E()}if(2&t){const e=K();F("date",e.model.firstDate)("months",e.model.months)("disabled",e.model.disabled)("showSelect","select"===e.model.navigation)("prevDisabled",e.model.prevDisabled)("nextDisabled",e.model.nextDisabled)("selectBoxes",e.model.selectBoxes)}}function xB(t,n){}function AB(t,n){}function SB(t,n){if(1&t&&(w(0,"div",5),S(1),E()),2&t){const e=K(2);M(1),Ct(e.i18n.getWeekLabel())}}function TB(t,n){if(1&t&&(w(0,"div",6),S(1),E()),2&t){const e=n.$implicit;M(1),Ct(e)}}function NB(t,n){if(1&t&&(w(0,"div",2),Y(1,SB,2,1,"div",3),Y(2,TB,2,1,"div",4),E()),2&t){const e=K();M(1),F("ngIf",e.datepicker.showWeekNumbers),M(1),F("ngForOf",e.viewModel.weekdays)}}function IB(t,n){if(1&t&&(w(0,"div",11),S(1),E()),2&t){const e=K(2).$implicit,r=K();M(1),Ct(r.i18n.getWeekNumerals(e.number))}}function MB(t,n){}function OB(t,n){if(1&t&&Y(0,MB,0,0,"ng-template",14),2&t){const e=K().$implicit;F("ngTemplateOutlet",K(3).datepicker.dayTemplate)("ngTemplateOutletContext",e.context)}}function RB(t,n){if(1&t){const e=qe();w(0,"div",12),j("click",function(i){const c=Ee(e).$implicit;return K(3).doSelect(c),xe(i.preventDefault())}),Y(1,OB,1,2,"ng-template",13),E()}if(2&t){const e=n.$implicit;ot("disabled",e.context.disabled)("hidden",e.hidden)("ngb-dp-today",e.context.today),F("tabindex",e.tabindex),Ut("aria-label",e.ariaLabel),M(1),F("ngIf",!e.hidden)}}function FB(t,n){if(1&t&&(w(0,"div",8),Y(1,IB,2,1,"div",9),Y(2,RB,2,9,"div",10),E()),2&t){const e=K().$implicit,r=K();M(1),F("ngIf",r.datepicker.showWeekNumbers),M(1),F("ngForOf",e.days)}}function kB(t,n){1&t&&Y(0,FB,3,2,"div",7),2&t&&F("ngIf",!n.$implicit.collapsed)}const PB=["dialog"],LB=["ngbNavOutlet",""];function BB(t,n){}const UB=function(t){return{$implicit:t}};function VB(t,n){if(1&t&&(w(0,"div",2),Y(1,BB,0,0,"ng-template",3),E()),2&t){const e=K().$implicit,r=K();F("item",e)("nav",r.nav)("role",r.paneRole),M(1),F("ngTemplateOutlet",(null==e.contentTpl?null:e.contentTpl.templateRef)||null)("ngTemplateOutletContext",ke(5,UB,e.active||r.isPanelTransitioning(e)))}}function HB(t,n){if(1&t&&Y(0,VB,2,7,"div",1),2&t){const e=n.$implicit,r=K();F("ngIf",e.isPanelInDom()||r.isPanelTransitioning(e))}}function jB(t,n){1&t&&(w(0,"span",9),Gr(1,10),E())}function GB(t,n){1&t&&(w(0,"span",9),Gr(1,11),E())}function zB(t,n){1&t&&(w(0,"span",9),Gr(1,12),E())}function $B(t,n){1&t&&(w(0,"span",9),Gr(1,13),E())}function WB(t,n){1&t&&S(0,"...")}function qB(t,n){1&t&&(w(0,"span",15),S(1,"(current)"),E())}function YB(t,n){if(1&t&&(S(0),Y(1,qB,2,0,"span",14)),2&t){const e=n.$implicit,r=n.currentPage;ht(" ",e," "),M(1),F("ngIf",e===r)}}function ZB(t,n){}const XB=function(t){return{disabled:!0,currentPage:t}};function QB(t,n){if(1&t&&(w(0,"a",20),Y(1,ZB,0,0,"ng-template",8),E()),2&t){const e=K(2).$implicit,r=K(),i=Ke(9);M(1),F("ngTemplateOutlet",(null==r.tplEllipsis?null:r.tplEllipsis.templateRef)||i)("ngTemplateOutletContext",ke(2,XB,e))}}function KB(t,n){}const JB=function(t,n,e){return{disabled:t,$implicit:n,currentPage:e}};function e7(t,n){if(1&t){const e=qe();w(0,"a",21),j("click",function(i){Ee(e);const o=K().$implicit;return K(2).selectPage(o),xe(i.preventDefault())}),Y(1,KB,0,0,"ng-template",8),E()}if(2&t){const e=K().$implicit,r=K(),i=r.disabled,o=r.$implicit,c=K(),f=Ke(11);Ut("tabindex",i?"-1":null)("aria-disabled",i?"true":null),M(1),F("ngTemplateOutlet",(null==c.tplNumber?null:c.tplNumber.templateRef)||f)("ngTemplateOutletContext",y1(4,JB,i,e,o))}}function t7(t,n){if(1&t&&(w(0,"li",17),Y(1,QB,2,4,"a",18),Y(2,e7,2,8,"a",19),E()),2&t){const e=n.$implicit,r=K(),i=r.$implicit,o=r.disabled,c=K();ot("active",e===i)("disabled",c.isEllipsis(e)||o),Ut("aria-current",e===i?"page":null),M(1),F("ngIf",c.isEllipsis(e)),M(1),F("ngIf",!c.isEllipsis(e))}}function n7(t,n){1&t&&Y(0,t7,3,7,"li",16),2&t&&F("ngForOf",n.pages)}function r7(t,n){}const Pm=function(t,n){return{disabled:t,currentPage:n}};function i7(t,n){if(1&t){const e=qe();w(0,"li",17)(1,"a",22),j("click",function(i){return Ee(e),K().selectPage(1),xe(i.preventDefault())}),Y(2,r7,0,0,"ng-template",8),E()()}if(2&t){const e=K(),r=Ke(1);ot("disabled",e.previousDisabled()),M(1),Ut("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),M(1),F("ngTemplateOutlet",(null==e.tplFirst?null:e.tplFirst.templateRef)||r)("ngTemplateOutletContext",ru(6,Pm,e.previousDisabled(),e.page))}}function o7(t,n){}const s7=function(t){return{disabled:t}};function a7(t,n){if(1&t){const e=qe();w(0,"li",17)(1,"a",23),j("click",function(i){Ee(e);const o=K();return o.selectPage(o.page-1),xe(i.preventDefault())}),Y(2,o7,0,0,"ng-template",8),E()()}if(2&t){const e=K(),r=Ke(3);ot("disabled",e.previousDisabled()),M(1),Ut("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),M(1),F("ngTemplateOutlet",(null==e.tplPrevious?null:e.tplPrevious.templateRef)||r)("ngTemplateOutletContext",ke(6,s7,e.previousDisabled()))}}function l7(t,n){}function c7(t,n){}function u7(t,n){if(1&t){const e=qe();w(0,"li",17)(1,"a",24),j("click",function(i){Ee(e);const o=K();return o.selectPage(o.page+1),xe(i.preventDefault())}),Y(2,c7,0,0,"ng-template",8),E()()}if(2&t){const e=K(),r=Ke(5);ot("disabled",e.nextDisabled()),M(1),Ut("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),M(1),F("ngTemplateOutlet",(null==e.tplNext?null:e.tplNext.templateRef)||r)("ngTemplateOutletContext",ru(6,Pm,e.nextDisabled(),e.page))}}function d7(t,n){}function f7(t,n){if(1&t){const e=qe();w(0,"li",17)(1,"a",25),j("click",function(i){Ee(e);const o=K();return o.selectPage(o.pageCount),xe(i.preventDefault())}),Y(2,d7,0,0,"ng-template",8),E()()}if(2&t){const e=K(),r=Ke(7);ot("disabled",e.nextDisabled()),M(1),Ut("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),M(1),F("ngTemplateOutlet",(null==e.tplLast?null:e.tplLast.templateRef)||r)("ngTemplateOutletContext",ru(6,Pm,e.nextDisabled(),e.page))}}const h7=function(t,n,e){return{$implicit:t,pages:n,disabled:e}};function _7(t,n){if(1&t){const e=qe();w(0,"button",11),j("click",function(){Ee(e);const i=K();return xe(i.changeHour(i.hourStep))}),U(1,"span",12),w(2,"span",13),Gr(3,14),E()()}if(2&t){const e=K();ot("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),F("disabled",e.disabled)}}function v7(t,n){if(1&t){const e=qe();w(0,"button",11),j("click",function(){Ee(e);const i=K();return xe(i.changeHour(-i.hourStep))}),U(1,"span",15),w(2,"span",13),Gr(3,16),E()()}if(2&t){const e=K();ot("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),F("disabled",e.disabled)}}function y7(t,n){if(1&t){const e=qe();w(0,"button",11),j("click",function(){Ee(e);const i=K();return xe(i.changeMinute(i.minuteStep))}),U(1,"span",12),w(2,"span",13),Gr(3,17),E()()}if(2&t){const e=K();ot("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),F("disabled",e.disabled)}}function b7(t,n){if(1&t){const e=qe();w(0,"button",11),j("click",function(){Ee(e);const i=K();return xe(i.changeMinute(-i.minuteStep))}),U(1,"span",15),w(2,"span",13),Gr(3,18),E()()}if(2&t){const e=K();ot("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),F("disabled",e.disabled)}}function C7(t,n){1&t&&(w(0,"div",5),S(1,":"),E())}function w7(t,n){if(1&t){const e=qe();w(0,"button",11),j("click",function(){Ee(e);const i=K(2);return xe(i.changeSecond(i.secondStep))}),U(1,"span",12),w(2,"span",13),Gr(3,21),E()()}if(2&t){const e=K(2);ot("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),F("disabled",e.disabled)}}function D7(t,n){if(1&t){const e=qe();w(0,"button",11),j("click",function(){Ee(e);const i=K(2);return xe(i.changeSecond(-i.secondStep))}),U(1,"span",15),w(2,"span",13),Gr(3,22),E()()}if(2&t){const e=K(2);ot("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),F("disabled",e.disabled)}}function E7(t,n){if(1&t){const e=qe();w(0,"div",19),Y(1,w7,4,7,"button",3),w(2,"input",20),j("change",function(i){return Ee(e),xe(K().updateSecond(i.target.value))})("blur",function(){return Ee(e),xe(K().handleBlur())})("input",function(i){return Ee(e),xe(K().formatInput(i.target))})("keydown.ArrowUp",function(i){Ee(e);const o=K();return o.changeSecond(o.secondStep),xe(i.preventDefault())})("keydown.ArrowDown",function(i){Ee(e);const o=K();return o.changeSecond(-o.secondStep),xe(i.preventDefault())}),E(),Y(3,D7,4,7,"button",3),E()}if(2&t){const e=K();M(1),F("ngIf",e.spinners),M(1),ot("form-control-sm",e.isSmallSize)("form-control-lg",e.isLargeSize),F("value",e.formatMinSec(null==e.model?null:e.model.second))("readOnly",e.readonlyInputs)("disabled",e.disabled),M(1),F("ngIf",e.spinners)}}function x7(t,n){1&t&&U(0,"div",5)}function A7(t,n){if(1&t&&(uf(0),Gr(1,27),df()),2&t){const e=K(2);M(1),nu(e.i18n.getAfternoonPeriod()),_f(1)}}function S7(t,n){1&t&&Gr(0,28),2&t&&(nu(K(2).i18n.getMorningPeriod()),_f(0))}function T7(t,n){if(1&t){const e=qe();w(0,"div",23)(1,"button",24),j("click",function(){return Ee(e),xe(K().toggleMeridian())}),Y(2,A7,2,1,"ng-container",25),Y(3,S7,1,1,"ng-template",null,26,Sn),E()()}if(2&t){const e=Ke(4),r=K();M(1),ot("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),F("disabled",r.disabled),M(1),F("ngIf",r.model&&r.model.hour>=12)("ngIfElse",e)}}function N7(t,n){if(1&t&&(w(0,"strong",3),S(1),E()),2&t){const e=K();M(1),Ct(e.header)}}function I7(t,n){}function M7(t,n){if(1&t){const e=qe();w(0,"div",4),Y(1,I7,0,0,"ng-template",5),w(2,"button",6),j("click",function(){return Ee(e),xe(K().hide())}),E()()}if(2&t){const e=K(),r=Ke(1);M(1),F("ngTemplateOutlet",e.contentHeaderTpl||r)}}function Rr(t){return parseInt(`${t}`,10)}function Wl(t){return"string"==typeof t}function zn(t){return!isNaN(Rr(t))}function Mn(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function Uo(t){return null!=t}function Gx(t){return t&&t.then}function ql(t){return zn(t)?`0${t}`.slice(-2):""}function zx(t,n){return t&&t.className&&t.className.split&&t.className.split(/\s+/).indexOf(n)>=0}function Ws(t){return(t||document.body).getBoundingClientRect()}const $x={animation:!0,transitionTimerDelayMs:5},V7=()=>{},{transitionTimerDelayMs:H7}=$x,ju=new Map,$n=(t,n,e,r)=>{let i=r.context||{};const o=ju.get(n);if(o)switch(r.runningTransition){case"continue":return wn;case"stop":t.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),ju.delete(n)}const c=e(n,r.animation,i)||V7;if(!r.animation||"none"===window.getComputedStyle(n).transitionProperty)return t.run(()=>c()),Ie(void 0).pipe(function B7(t){return n=>new pt(e=>n.subscribe({next:c=>t.run(()=>e.next(c)),error:c=>t.run(()=>e.error(c)),complete:()=>t.run(()=>e.complete())}))}(t));const f=new je,p=new je,m=f.pipe(function jL(...t){return n=>yu(n,Ie(...t))}(!0));ju.set(n,{transition$:f,complete:()=>{p.next(),p.complete()},context:i});const y=function U7(t){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return t.runOutsideAngular(()=>{const D=Er(n,"transitionend").pipe(hn(m),Jn(({target:I})=>I===n));Ex(wm(y+H7).pipe(hn(m)),D,p).pipe(hn(m)).subscribe(()=>{ju.delete(n),t.run(()=>{c(),f.next(),f.complete()})})}),f.asObservable()};let Yl=(()=>{class t{constructor(){this.animation=$x.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Qx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({imports:[si]}),t})(),Kx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({imports:[si]}),t})(),tA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({imports:[si]}),t})(),nA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({}),t})();class Wn{constructor(n,e,r){this.year=Mn(n)?n:null,this.month=Mn(e)?e:null,this.day=Mn(r)?r:null}static from(n){return n instanceof Wn?n:n?new Wn(n.year,n.month,n.day):null}equals(n){return null!=n&&this.year===n.year&&this.month===n.month&&this.day===n.day}before(n){return!!n&&(this.year===n.year?this.month===n.month?this.day!==n.day&&this.day<n.day:this.month<n.month:this.year<n.year)}after(n){return!!n&&(this.year===n.year?this.month===n.month?this.day!==n.day&&this.day>n.day:this.month>n.month:this.year>n.year)}}function Zl(t,n){return!function K7(t,n){return!t&&!n||!!t&&!!n&&t.equals(n)}(t,n)}function rA(t,n){return!(!t&&!n||t&&n&&t.year===n.year&&t.month===n.month)}function Bh(t,n,e){return t&&n&&t.before(n)?n:t&&e&&t.after(e)?e:t||null}function Um(t,n){const{minDate:e,maxDate:r,disabled:i,markDisabled:o}=n;return!(null==t||i||o&&o(t,{year:t.year,month:t.month})||e&&t.before(e)||r&&t.after(r))}function iA(t){return new Wn(t.getFullYear(),t.getMonth()+1,t.getDate())}function Uh(t){const n=new Date(t.year,t.month-1,t.day,12);return isNaN(n.getTime())||n.setFullYear(t.year),n}let Vh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ie({token:t,factory:function(){return function a9(){return new l9}()},providedIn:"root"}),t})(),l9=(()=>{class t extends Vh{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(e,r="d",i=1){let o=Uh(e),c=!0,f=o.getMonth();switch(r){case"y":o.setFullYear(o.getFullYear()+i);break;case"m":f+=i,o.setMonth(f),f%=12,f<0&&(f+=12);break;case"d":o.setDate(o.getDate()+i),c=!1;break;default:return e}return c&&o.getMonth()!==f&&o.setDate(0),iA(o)}getPrev(e,r="d",i=1){return this.getNext(e,r,-i)}getWeekday(e){let i=Uh(e).getDay();return 0===i?7:i}getWeekNumber(e,r){7===r&&(r=0);const c=Uh(e[(11-r)%7]);c.setDate(c.getDate()+4-(c.getDay()||7));const f=c.getTime();return c.setMonth(0),c.setDate(1),Math.floor(Math.round((f-c.getTime())/864e5)/7)+1}getToday(){return iA(new Date)}isValid(e){if(!(e&&Mn(e.year)&&Mn(e.month)&&Mn(e.day)&&0!==e.year))return!1;const r=Uh(e);return!isNaN(r.getTime())&&r.getFullYear()===e.year&&r.getMonth()+1===e.month&&r.getDate()===e.day}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Nt(t)))(r||t)}}(),t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})(),Oa=(()=>{class t{getMonthLabel(e){return`${this.getMonthFullName(e.month,e.year)} ${this.getYearNumerals(e.year)}`}getDayNumerals(e){return`${e.day}`}getWeekNumerals(e){return`${e}`}getYearNumerals(e){return`${e}`}getWeekLabel(){return""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ie({token:t,factory:function(e){let r=null;return r=e?new e:function c9(t){return new u9(t)}(oe(xi)),r},providedIn:"root"}),t})(),u9=(()=>{class t extends Oa{constructor(e){super(),this._locale=e,this._monthsShort=Z1(e,fn.Standalone,Je.Abbreviated),this._monthsFull=Z1(e,fn.Standalone,Je.Wide)}getWeekdayLabel(e,r){const i=eD(this._locale,fn.Standalone,void 0===r?Je.Short:r);return i.map((c,f)=>i[(f+1)%7])[e-1]||""}getMonthShortName(e){return this._monthsShort[e-1]||""}getMonthFullName(e){return this._monthsFull[e-1]||""}getDayAriaLabel(e){return nD(new Date(e.year,e.month-1,e.day),"fullDate",this._locale)}}return t.\u0275fac=function(e){return new(e||t)(oe(xi))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})(),Vm=(()=>{class t{constructor(e,r){this._calendar=e,this._i18n=r,this._VALIDATORS={dayTemplateData:i=>{if(this._state.dayTemplateData!==i)return{dayTemplateData:i}},displayMonths:i=>{if(Mn(i=Rr(i))&&i>0&&this._state.displayMonths!==i)return{displayMonths:i}},disabled:i=>{if(this._state.disabled!==i)return{disabled:i}},firstDayOfWeek:i=>{if(Mn(i=Rr(i))&&i>=0&&this._state.firstDayOfWeek!==i)return{firstDayOfWeek:i}},focusVisible:i=>{if(this._state.focusVisible!==i&&!this._state.disabled)return{focusVisible:i}},markDisabled:i=>{if(this._state.markDisabled!==i)return{markDisabled:i}},maxDate:i=>{const o=this.toValidDate(i,null);if(Zl(this._state.maxDate,o))return{maxDate:o}},minDate:i=>{const o=this.toValidDate(i,null);if(Zl(this._state.minDate,o))return{minDate:o}},navigation:i=>{if(this._state.navigation!==i)return{navigation:i}},outsideDays:i=>{if(this._state.outsideDays!==i)return{outsideDays:i}},weekdays:i=>{const o=!0===i||!1===i?Je.Short:i,c=!0!==i&&!1!==i||i;if(this._state.weekdayWidth!==o||this._state.weekdaysVisible!==c)return{weekdayWidth:o,weekdaysVisible:c}}},this._model$=new je,this._dateSelect$=new je,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:Je.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(Jn(e=>e.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(Jn(e=>null!==e))}set(e){let r=Object.keys(e).map(i=>this._VALIDATORS[i](e[i])).reduce((i,o)=>({...i,...o}),{});Object.keys(r).length>0&&this._nextState(r)}focus(e){const r=this.toValidDate(e,null);null!=r&&!this._state.disabled&&Zl(this._state.focusDate,r)&&this._nextState({focusDate:e})}focusSelect(){Um(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(e){const r=this.toValidDate(e,this._calendar.getToday());null!=r&&!this._state.disabled&&(!this._state.firstDate||rA(this._state.firstDate,r))&&this._nextState({firstDate:r})}select(e,r={}){const i=this.toValidDate(e,null);null!=i&&!this._state.disabled&&(Zl(this._state.selectedDate,i)&&this._nextState({selectedDate:i}),r.emitEvent&&Um(i,this._state)&&this._dateSelect$.next(i))}toValidDate(e,r){const i=Wn.from(e);return void 0===r&&(r=this._calendar.getToday()),this._calendar.isValid(i)?i:r}getMonth(e){for(let r of this._state.months)if(e.month===r.number&&e.year===r.year)return r;throw new Error(`month ${e.month} of year ${e.year} not found`)}_nextState(e){const r=this._updateState(e);this._patchContexts(r),this._state=r,this._model$.next(this._state)}_patchContexts(e){const{months:r,displayMonths:i,selectedDate:o,focusDate:c,focusVisible:f,disabled:p,outsideDays:m}=e;e.months.forEach(y=>{y.weeks.forEach(D=>{D.days.forEach(A=>{c&&(A.context.focused=c.equals(A.date)&&f),A.tabindex=!p&&c&&A.date.equals(c)&&c.month===y.number?0:-1,!0===p&&(A.context.disabled=!0),void 0!==o&&(A.context.selected=null!==o&&o.equals(A.date)),y.number!==A.date.month&&(A.hidden="hidden"===m||"collapsed"===m||i>1&&A.date.after(r[0].firstDate)&&A.date.before(r[i-1].lastDate))})})})}_updateState(e){const r=Object.assign({},this._state,e);let i=r.firstDate;if(("minDate"in e||"maxDate"in e)&&(function J7(t,n){if(n&&t&&n.before(t))throw new Error(`'maxDate' ${n} should be greater than 'minDate' ${t}`)}(r.minDate,r.maxDate),r.focusDate=Bh(r.focusDate,r.minDate,r.maxDate),r.firstDate=Bh(r.firstDate,r.minDate,r.maxDate),i=r.focusDate),"disabled"in e&&(r.focusVisible=!1),"selectedDate"in e&&0===this._state.months.length&&(i=r.selectedDate),"focusVisible"in e||"focusDate"in e&&(r.focusDate=Bh(r.focusDate,r.minDate,r.maxDate),i=r.focusDate,0!==r.months.length&&r.focusDate&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in e&&(r.firstDate=Bh(r.firstDate,r.minDate,r.maxDate),i=r.firstDate),i){const c=function i9(t,n,e,r,i){const{displayMonths:o,months:c}=e,f=c.splice(0,c.length);return Array.from({length:o},(m,y)=>{const D=Object.assign(t.getNext(n,"m",y),{day:1});if(c[y]=null,!i){const A=f.findIndex(I=>I.firstDate.equals(D));-1!==A&&(c[y]=f.splice(A,1)[0])}return D}).forEach((m,y)=>{null===c[y]&&(c[y]=function o9(t,n,e,r,i={}){const{dayTemplateData:o,minDate:c,maxDate:f,firstDayOfWeek:p,markDisabled:m,outsideDays:y,weekdayWidth:D,weekdaysVisible:A}=e,I=t.getToday();i.firstDate=null,i.lastDate=null,i.number=n.month,i.year=n.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],n=function s9(t,n,e){const r=t.getDaysPerWeek(),i=new Wn(n.year,n.month,1),o=t.getWeekday(i)%r;return t.getPrev(i,"d",(r+o-e)%r)}(t,n,p),A||(i.weekdays.length=0);for(let P=0;P<t.getWeeksPerMonth();P++){let B=i.weeks[P];B||(B=i.weeks[P]={number:0,days:[],collapsed:!0});const G=B.days;for(let z=0;z<t.getDaysPerWeek();z++){0===P&&A&&(i.weekdays[z]=r.getWeekdayLabel(t.getWeekday(n),D));const Z=new Wn(n.year,n.month,n.day),q=t.getNext(Z),ne=r.getDayAriaLabel(Z);let ge=!!(c&&Z.before(c)||f&&Z.after(f));!ge&&m&&(ge=m(Z,{month:i.number,year:i.year}));let Ae=Z.equals(I),wt=o?o(Z,{month:i.number,year:i.year}):void 0;null===i.firstDate&&Z.month===i.number&&(i.firstDate=Z),Z.month===i.number&&q.month!==i.number&&(i.lastDate=Z);let Ft=G[z];Ft||(Ft=G[z]={}),Ft.date=Z,Ft.context=Object.assign(Ft.context||{},{$implicit:Z,date:Z,data:wt,currentMonth:i.number,currentYear:i.year,disabled:ge,focused:!1,selected:!1,today:Ae}),Ft.tabindex=-1,Ft.ariaLabel=ne,Ft.hidden=!1,n=q}B.number=t.getWeekNumber(G.map(z=>z.date),p),B.collapsed="collapsed"===y&&G[0].date.month!==i.number&&G[G.length-1].date.month!==i.number}return i}(t,m,e,r,f.shift()||{}))}),c}(this._calendar,i,r,this._i18n,"dayTemplateData"in e||"firstDayOfWeek"in e||"markDisabled"in e||"minDate"in e||"maxDate"in e||"disabled"in e||"outsideDays"in e||"weekdaysVisible"in e);r.months=c,r.firstDate=c[0].firstDate,r.lastDate=c[c.length-1].lastDate,"selectedDate"in e&&!Um(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in e&&(!r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=i);const f=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,p=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;"select"===r.navigation?(("minDate"in e||"maxDate"in e||0===r.selectBoxes.years.length||f)&&(r.selectBoxes.years=function t9(t,n,e){if(!t)return[];const r=n?Math.max(n.year,t.year-500):t.year-10,o=(e?Math.min(e.year,t.year+500):t.year+10)-r+1,c=Array(o);for(let f=0;f<o;f++)c[f]=r+f;return c}(r.firstDate,r.minDate,r.maxDate)),("minDate"in e||"maxDate"in e||0===r.selectBoxes.months.length||f)&&(r.selectBoxes.months=function e9(t,n,e,r){if(!n)return[];let i=t.getMonths(n.year);if(e&&n.year===e.year){const o=i.findIndex(c=>c===e.month);i=i.slice(o)}if(r&&n.year===r.year){const o=i.findIndex(c=>c===r.month);i=i.slice(0,o+1)}return i}(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},("arrows"===r.navigation||"select"===r.navigation)&&(p||f||"minDate"in e||"maxDate"in e||"disabled"in e)&&(r.prevDisabled=r.disabled||function r9(t,n,e){const r=Object.assign(t.getPrev(n,"m"),{day:1});return null!=e&&(r.year===e.year&&r.month<e.month||r.year<e.year&&1===e.month)}(this._calendar,r.firstDate,r.minDate),r.nextDisabled=r.disabled||function n9(t,n,e){const r=Object.assign(t.getNext(n,"m"),{day:1});return null!=e&&r.after(e)}(this._calendar,r.lastDate,r.maxDate))}return r}}return t.\u0275fac=function(e){return new(e||t)(oe(Vh),oe(Oa))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();var Xl=(()=>{return(t=Xl||(Xl={}))[t.PREV=0]="PREV",t[t.NEXT=1]="NEXT",Xl;var t})();let Hm=(()=>{class t{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=Je.Short}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),jm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ie({token:t,factory:function(){return function d9(){return new f9}()},providedIn:"root"}),t})(),f9=(()=>{class t extends jm{fromModel(e){return e&&Mn(e.year)&&Mn(e.month)&&Mn(e.day)?{year:e.year,month:e.month,day:e.day}:null}toModel(e){return e&&Mn(e.year)&&Mn(e.month)&&Mn(e.day)?{year:e.year,month:e.month,day:e.day}:null}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Nt(t)))(r||t)}}(),t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})(),h9=(()=>{class t{constructor(e,r){this.i18n=e,this._renderer=r,this.select=new Pe,this._month=-1,this._year=-1}changeMonth(e){this.select.emit(new Wn(this.date.year,Rr(e),1))}changeYear(e){this.select.emit(new Wn(Rr(e),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return t.\u0275fac=function(e){return new(e||t)(N(Oa),N(Di))},t.\u0275cmp=fe({type:t,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(e,r){if(1&e&&(_a(lB,7,It),_a(cB,7,It)),2&e){let i;Wt(i=qt())&&(r.monthSelect=i.first),Wt(i=qt())&&(r.yearSelect=i.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:6,vars:4,consts:function(){let n,e,r,i;return n=$localize`:@@ngb.datepicker.select-month:Select month`,e=$localize`:@@ngb.datepicker.select-month:Select month`,r=$localize`:@@ngb.datepicker.select-year:Select year`,i=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",n,"title",e,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",r,"title",i,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(e,r){1&e&&(w(0,"select",0,1),j("change",function(o){return r.changeMonth(o.target.value)}),Y(2,uB,2,3,"option",2),E(),w(3,"select",3,4),j("change",function(o){return r.changeYear(o.target.value)}),Y(5,dB,2,2,"option",2),E()),2&e&&(F("disabled",r.disabled),M(2),F("ngForOf",r.months),M(1),F("disabled",r.disabled),M(2),F("ngForOf",r.years))},dependencies:[cn,k2,L2],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),t})(),p9=(()=>{class t{constructor(e){this.i18n=e,this.navigation=Xl,this.months=[],this.navigate=new Pe,this.select=new Pe}onClickPrev(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return t.\u0275fac=function(e){return new(e||t)(N(Oa))},t.\u0275cmp=fe({type:t,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:8,vars:4,consts:function(){let n,e,r,i;return n=$localize`:@@ngb.datepicker.previous-month:Previous month`,e=$localize`:@@ngb.datepicker.previous-month:Previous month`,r=$localize`:@@ngb.datepicker.next-month:Next month`,i=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",n,"title",e,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",r,"title",i,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(e,r){1&e&&(w(0,"div",0)(1,"button",1),j("click",function(o){return r.onClickPrev(o)}),U(2,"span",2),E()(),Y(3,fB,1,4,"ngb-datepicker-navigation-select",3),Y(4,mB,1,1,null,4),w(5,"div",5)(6,"button",6),j("click",function(o){return r.onClickNext(o)}),U(7,"span",2),E()()),2&e&&(M(1),F("disabled",r.prevDisabled),M(2),F("ngIf",r.showSelect),M(1),F("ngIf",!r.showSelect),M(2),F("disabled",r.nextDisabled))},dependencies:[cn,Nn,h9],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),t})(),g9=(()=>{class t{constructor(e){this.i18n=e}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return t.\u0275fac=function(e){return new(e||t)(N(Oa))},t.\u0275cmp=fe({type:t,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(e,r){2&e&&ot("bg-primary",r.selected)("text-white",r.selected)("text-muted",r.isMuted())("outside",r.isMuted())("active",r.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:_B,decls:1,vars:1,template:function(e,r){1&e&&S(0),2&e&&Ct(r.i18n.getDayNumerals(r.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),t})();var jt=(()=>{return(t=jt||(jt={}))[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",jt;var t})();let m9=(()=>{class t{processKey(e,r){const{state:i,calendar:o}=r;switch(e.which){case jt.PageUp:r.focusDate(o.getPrev(i.focusedDate,e.shiftKey?"y":"m",1));break;case jt.PageDown:r.focusDate(o.getNext(i.focusedDate,e.shiftKey?"y":"m",1));break;case jt.End:r.focusDate(e.shiftKey?i.maxDate:i.lastDate);break;case jt.Home:r.focusDate(e.shiftKey?i.minDate:i.firstDate);break;case jt.ArrowLeft:r.focusDate(o.getPrev(i.focusedDate,"d",1));break;case jt.ArrowUp:r.focusDate(o.getPrev(i.focusedDate,"d",o.getDaysPerWeek()));break;case jt.ArrowRight:r.focusDate(o.getNext(i.focusedDate,"d",1));break;case jt.ArrowDown:r.focusDate(o.getNext(i.focusedDate,"d",o.getDaysPerWeek()));break;case jt.Enter:case jt.Space:r.focusSelect();break;default:return}e.preventDefault(),e.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),_9=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(N(dn))},t.\u0275dir=me({type:t,selectors:[["ng-template","ngbDatepickerContent",""]]}),t})(),oA=(()=>{class t{constructor(e,r,i,o,c,f,p,m){this._service=e,this._calendar=r,this.i18n=i,this._elementRef=f,this._ngbDateAdapter=p,this._ngZone=m,this._controlValue=null,this._destroyed$=new je,this._publicState={},this.navigate=new Pe,this.dateSelect=new Pe,this.onChange=y=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(y=>this[y]=o[y]),e.dateSelect$.pipe(hn(this._destroyed$)).subscribe(y=>{this.dateSelect.emit(y)}),e.model$.pipe(hn(this._destroyed$)).subscribe(y=>{const D=y.firstDate,A=this.model?this.model.firstDate:null;this._publicState={maxDate:y.maxDate,minDate:y.minDate,firstDate:y.firstDate,lastDate:y.lastDate,focusedDate:y.focusDate,months:y.months.map(z=>z.firstDate)};let I=!1;if(!D.equals(A)&&(this.navigate.emit({current:A?{year:A.year,month:A.month}:null,next:{year:D.year,month:D.month},preventDefault:()=>I=!0}),I&&null!==A))return void this._service.open(A);const P=y.selectedDate,B=y.focusDate,G=this.model?this.model.focusDate:null;this.model=y,Zl(P,this._controlValue)&&(this._controlValue=P,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(P))),Zl(B,G)&&G&&y.focusVisible&&this.focus(),c.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(e){this._service.focus(Wn.from(e))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(Gn(1)).subscribe(()=>{const e=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');e&&e.focus()})}navigateTo(e){this._service.open(Wn.from(e?e.day?e:{...e,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=Er(this._contentEl.nativeElement,"focusin"),r=Er(this._contentEl.nativeElement,"focusout"),{nativeElement:i}=this._elementRef;Dt(e,r).pipe(Jn(({target:o,relatedTarget:c})=>!(zx(o,"ngb-dp-day")&&zx(c,"ngb-dp-day")&&i.contains(o)&&i.contains(c))),hn(this._destroyed$)).subscribe(({type:o})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===o})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const e={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(r=>e[r]=this[r]),this._service.set(e),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(e){const r={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(i=>i in e).forEach(i=>r[i]=this[i]),this._service.set(r),"startDate"in e){const{currentValue:i,previousValue:o}=e.startDate;rA(o,i)&&this.navigateTo(this.startDate)}}onDateSelect(e){this._service.focus(e),this._service.select(e,{emitEvent:!0})}onNavigateDateSelect(e){this._service.open(e)}onNavigateEvent(e){switch(e){case Xl.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Xl.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._service.set({disabled:e})}writeValue(e){this._controlValue=Wn.from(this._ngbDateAdapter.fromModel(e)),this._service.select(this._controlValue)}}return t.\u0275fac=function(e){return new(e||t)(N(Vm),N(Vh),N(Oa),N(Hm),N(Gi),N(It),N(jm),N(Mt))},t.\u0275cmp=fe({type:t,selectors:[["ngb-datepicker"]],contentQueries:function(e,r,i){if(1&e&&An(i,_9,7),2&e){let o;Wt(o=qt())&&(r.contentTemplate=o.first)}},viewQuery:function(e,r){if(1&e&&(_a(vB,7),_a(yB,7)),2&e){let i;Wt(i=qt())&&(r._defaultDayTemplate=i.first),Wt(i=qt())&&(r._contentEl=i.first)}},hostVars:2,hostBindings:function(e,r){2&e&&ot("disabled",r.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],features:[Jt([{provide:Ai,useExisting:dt(()=>t),multi:!0},Vm]),ar],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(e,r){if(1&e&&(Y(0,bB,1,5,"ng-template",null,0,Sn),Y(2,DB,1,1,"ng-template",null,1,Sn),w(4,"div",2),Y(5,EB,1,7,"ngb-datepicker-navigation",3),E(),w(6,"div",4,5),Y(8,xB,0,0,"ng-template",6),E(),Y(9,AB,0,0,"ng-template",6)),2&e){const i=Ke(3);M(5),F("ngIf","none"!==r.navigation),M(1),ot("ngb-dp-months",!r.contentTemplate),M(2),F("ngTemplateOutlet",(null==r.contentTemplate?null:r.contentTemplate.templateRef)||i),M(1),F("ngTemplateOutlet",r.footerTemplate)}},dependencies:function(){return[cn,Nn,ks,v9,p9,g9]},styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),t})(),v9=(()=>{class t{constructor(e,r,i,o){this.i18n=e,this.datepicker=r,this._keyboardService=i,this._service=o}set month(e){this.viewModel=this._service.getMonth(e)}onKeyDown(e){this._keyboardService.processKey(e,this.datepicker)}doSelect(e){!e.context.disabled&&!e.hidden&&this.datepicker.onDateSelect(e.date)}}return t.\u0275fac=function(e){return new(e||t)(N(Oa),N(oA),N(m9),N(Vm))},t.\u0275cmp=fe({type:t,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(e,r){1&e&&j("keydown",function(o){return r.onKeyDown(o)})},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,r){1&e&&(Y(0,NB,3,2,"div",0),Y(1,kB,1,1,"ng-template",1)),2&e&&(F("ngIf",r.viewModel.weekdays.length>0),M(1),F("ngForOf",r.viewModel.weeks))},dependencies:[cn,Nn,ks],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),t})();const Hh=(t,n)=>!!n&&n.some(e=>e.contains(t)),sA=(t,n)=>!n||null!=function L7(t,n){return!n||typeof t.closest>"u"?null:t.closest(n)}(t,n),y9=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function aA(t,n,e,r,i,o,c,f){e&&t.runOutsideAngular((t=>y9?()=>setTimeout(()=>t(),100):t)(()=>{const m=Er(n,"keydown").pipe(hn(i),Jn(A=>A.which===jt.Escape),Dr(A=>A.preventDefault())),y=Er(n,"mousedown").pipe(Be(A=>{const I=A.target;return 2!==A.button&&!Hh(I,c)&&("inside"===e?Hh(I,o)&&sA(I,f):"outside"===e?!Hh(I,o):sA(I,f)||!Hh(I,o))}),hn(i)),D=Er(n,"mouseup").pipe(Em(y),Jn(([A,I])=>I),function $L(t,n=wx){const e=wm(t,n);return Ax(()=>e)}(0),hn(i));Ex([m.pipe(Be(A=>0)),D.pipe(Be(A=>1))]).subscribe(A=>t.run(()=>r(A)))}))}const lA=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Gm(t){const n=Array.from(t.querySelectorAll(lA)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}const zm=(t,n,e,r=!1)=>{t.runOutsideAngular(()=>{const i=Er(n,"focusin").pipe(hn(e),Be(o=>o.target));Er(n,"keydown").pipe(hn(e),Jn(o=>o.which===jt.Tab),Em(i)).subscribe(([o,c])=>{const[f,p]=Gm(n);(c===f||c===n)&&o.shiftKey&&(p.focus(),o.preventDefault()),c===p&&!o.shiftKey&&(f.focus(),o.preventDefault())}),r&&Er(n,"click").pipe(hn(e),Em(i),Be(o=>o[1])).subscribe(o=>o.focus())})},C9=/\s+/,w9=/  +/gi,D9={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},x9=/^left/,A9=/^right/,S9=/^start/,T9=/^end/;function cA({placement:t,baseClass:n},e){let r=Array.isArray(t)?t:t.split(C9),o=r.findIndex(m=>"auto"===m);o>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(m){null==r.find(y=>-1!==y.search("^"+m))&&r.splice(o++,1,m)});const c=r.map(m=>function E9(t,n){const[e,r]=D9[t];return n&&r||e}(m,e.isRTL()));return{placement:c.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!n,phase:"write",fn({state:m}){const y=new RegExp(n+"(-[a-z]+)*","gi"),D=m.elements.popper,A=m.placement;let I=D.className;I=I.replace(y,""),I+=` ${function N9(t,n){let[e,r]=n.split("-");const i=e.replace(x9,"start").replace(A9,"end");let o=[i];if(r){let c=r;("left"===e||"right"===e)&&(c=c.replace(S9,"top").replace(T9,"bottom")),o.push(`${i}-${c}`)}return t&&(o=o.map(c=>`${t}-${c}`)),o.join(" ")}(n,A)}`,I=I.trim().replace(w9," "),D.className=I}},_5,C5,x5,{enabled:!0,name:"flip",options:{fallbackPlacements:c}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function uA(t){return t}let fA=(()=>{class t extends Hm{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=e=>e,this.restoreFocus=!0}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Nt(t)))(r||t)}}(),t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let pA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ie({token:t,factory:function(){return function I9(){return new M9}()},providedIn:"root"}),t})(),M9=(()=>{class t extends pA{parse(e){if(null!=e){const r=e.trim().split("-");if(1===r.length&&zn(r[0]))return{year:Rr(r[0]),month:null,day:null};if(2===r.length&&zn(r[0])&&zn(r[1]))return{year:Rr(r[0]),month:Rr(r[1]),day:null};if(3===r.length&&zn(r[0])&&zn(r[1])&&zn(r[2]))return{year:Rr(r[0]),month:Rr(r[1]),day:Rr(r[2])}}return null}format(e){return e?`${e.year}-${zn(e.month)?ql(e.month):""}-${zn(e.day)?ql(e.day):""}`:""}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Nt(t)))(r||t)}}(),t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})(),gA=(()=>{class t{constructor(e){this._element=e.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}}return t.\u0275fac=function(e){return new(e||t)(oe(vn))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$m=(()=>{class t{constructor(e,r,i,o,c,f,p,m,y,D,A){this._parserFormatter=e,this._elRef=r,this._vcRef=i,this._renderer=o,this._ngZone=c,this._calendar=f,this._dateAdapter=p,this._document=y,this._changeDetector=D,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this._destroyCloseHandlers$=new je,this.dateSelect=new Pe,this.navigate=new Pe,this.closed=new Pe,this._onChange=I=>{},this._onTouched=()=>{},this._validatorChange=()=>{},["autoClose","container","positionTarget","placement","popperOptions"].forEach(I=>this[I]=A[I]),this._positioning=function dA(t){let n=null;return{createPopper(e){if(!n){let i=(e.updatePopperOptions||uA)(cA(e,t));n=W5(e.hostElement,e.targetElement,i)}},update(){n&&n.update()},setOptions(e){if(n){let i=(e.updatePopperOptions||uA)(cA(e,t));n.setOptions(i)}},destroy(){n&&(n.destroy(),n=null)}}}(m)}get disabled(){return this._disabled}set disabled(e){this._disabled=""===e||e&&"false"!==e,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}registerOnValidatorChange(e){this._validatorChange=e}setDisabledState(e){this.disabled=e}validate(e){const{value:r}=e;if(null!=r){const i=this._fromDateStruct(this._dateAdapter.fromModel(r));if(!i)return{ngbDate:{invalid:r}};if(this.minDate&&i.before(Wn.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:r}}};if(this.maxDate&&i.after(Wn.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:r}}}}return null}writeValue(e){this._model=this._fromDateStruct(this._dateAdapter.fromModel(e)),this._writeModelValue(this._model)}manualDateChange(e,r=!1){const i=e!==this._inputValue;i&&(this._inputValue=e,this._model=this._fromDateStruct(this._parserFormatter.parse(e))),(i||!r)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):""===e?null:e),r&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){let e;if(this._cRef=this._vcRef.createComponent(oA),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(r=>{this.writeValue(r),this._onChange(r),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,zm(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),setTimeout(()=>this._cRef?.instance.focus()),e=Wl(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this._ngZone.runOutsideAngular(()=>{this._cRef&&(this._positioning.createPopper({hostElement:e,targetElement:this._cRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:r=>this.popperOptions(function hA(t){return n=>(n.modifiers.push(Z5,{name:"offset",options:{offset:()=>t}}),n)}([0,2])(r))}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update()))}),this.positionTarget&&!e)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");this._setCloseHandlers()}}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.closed.emit(),this._changeDetector.markForCheck();let e=this._elWithFocus;Wl(this.restoreFocus)?e=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(e=this.restoreFocus),e&&e.focus?e.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(e){this.isOpen()&&this._cRef.instance.navigateTo(e)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(e){if((e.minDate||e.maxDate)&&(this._validatorChange(),this.isOpen()&&(e.minDate&&(this._cRef.instance.minDate=this.minDate),e.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(e))),e.datepickerClass){const{currentValue:r,previousValue:i}=e.datepickerClass;this._applyPopupClass(r,i)}e.autoClose&&this.isOpen()&&this._setCloseHandlers()}ngOnDestroy(){this.close()}_applyDatepickerInputs(e){["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(r=>{void 0!==this[r]&&e.setInput(r,this[r])}),e.setInput("startDate",this.startDate||this._model)}_applyPopupClass(e,r){const i=this._cRef?.location.nativeElement;i&&(e&&this._renderer.addClass(i,e),r&&this._renderer.removeClass(i,r))}_applyPopupStyling(e){this._renderer.addClass(e,"dropdown-menu"),this._renderer.addClass(e,"show"),"body"===this.container&&this._renderer.addClass(e,"ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(e){e.navigate.subscribe(r=>this.navigate.emit(r)),e.dateSelect.subscribe(r=>{this.dateSelect.emit(r),(!0===this.autoClose||"inside"===this.autoClose)&&this.close()})}_writeModelValue(e){const r=this._parserFormatter.format(e);this._inputValue=r,this._renderer.setProperty(this._elRef.nativeElement,"value",r),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(e)),this._onTouched())}_fromDateStruct(e){const r=e?new Wn(e.year,e.month,e.day):null;return this._calendar.isValid(r)?r:null}_setCloseHandlers(){this._destroyCloseHandlers$.next(),aA(this._ngZone,this._document,this.autoClose,()=>this.close(),this._destroyCloseHandlers$,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}}return t.\u0275fac=function(e){return new(e||t)(N(pA),N(It),N(ji),N(Di),N(Mt),N(Vh),N(jm),N(gA),N(vn),N(Gi),N(fA))},t.\u0275dir=me({type:t,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(e,r){1&e&&j("input",function(o){return r.manualDateChange(o.target.value)})("change",function(o){return r.manualDateChange(o.target.value,!0)})("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()}),2&e&&pa("disabled",r.disabled)},inputs:{autoClose:"autoClose",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",popperOptions:"popperOptions",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays",disabled:"disabled"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[Jt([{provide:Ai,useExisting:dt(()=>t),multi:!0},{provide:Tr,useExisting:dt(()=>t),multi:!0},{provide:Hm,useExisting:fA}]),ar]}),t})();new Date(1882,10,12),new Date(2174,10,25);let CA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({imports:[si,rh]}),t})(),Zm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=me({type:t,selectors:[["",8,"navbar"]]}),t})(),EA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({}),t})();class mo{constructor(n,e,r){this.nodes=n,this.viewRef=e,this.componentRef=r}}let H9=(()=>{class t{constructor(e,r){this._el=e,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(Gn(1)).subscribe(()=>{$n(this._zone,this._el.nativeElement,(e,r)=>{r&&Ws(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return $n(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(N(It),N(Mt))},t.\u0275cmp=fe({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,r){2&e&&(ss("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),ot("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,r){},encapsulation:2}),t})();class rn{close(n){}dismiss(n){}}class j9{constructor(n,e,r,i){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new je,this._dismissed=new je,this._hidden=new je,n.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,c)=>{this._resolve=o,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(hn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(hn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();Gx(e)?e.then(r=>{!1!==r&&this._dismiss(n)},()=>{}):!1!==e&&this._dismiss(n)}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Ie(void 0);n.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),ku(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Wu=(()=>{return(t=Wu||(Wu={}))[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",Wu;var t})();let G9=(()=>{class t{constructor(e,r,i){this._document=e,this._elRef=r,this._zone=i,this._closed$=new je,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Pe,this.shown=new je,this.hidden=new je}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Wl(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Gn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,r={animation:this.animation,runningTransition:"stop"},c=ku($n(this._zone,e,()=>e.classList.remove("show"),r),$n(this._zone,this._dialogEl.nativeElement,()=>{},r));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const e={animation:this.animation,runningTransition:"continue"};ku($n(this._zone,this._elRef.nativeElement,(o,c)=>{c&&Ws(o),o.classList.add("show")},e),$n(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Er(e,"keydown").pipe(hn(this._closed$),Jn(i=>i.which===jt.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(Wu.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Er(this._dialogEl.nativeElement,"mousedown").pipe(hn(this._closed$),Dr(()=>r=!1),Wi(()=>Er(e,"mouseup").pipe(hn(this._closed$),Gn(1))),Jn(({target:i})=>e===i)).subscribe(()=>{r=!0}),Er(e,"click").pipe(hn(this._closed$)).subscribe(({target:i})=>{e===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Wu.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const r=e.querySelector("[ngbAutofocus]"),i=Gm(e)[0];(r||i||e).focus()}}_restoreFocus(){const e=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&e.contains(r)?r:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&$n(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(N(vn),N(It),N(Mt))},t.\u0275cmp=fe({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(e,r){if(1&e&&_a(PB,7),2&e){let i;Wt(i=qt())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,r){2&e&&(Ut("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),ss("modal d-block"+(r.windowClass?" "+r.windowClass:"")),ot("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:km,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,r){1&e&&(Yc(),w(0,"div",0,1)(2,"div",2),Zc(3),E()()),2&e&&ss("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),t})(),xA=(()=>{class t{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:o,paddingRight:c}=i;if(e>0){const f=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${f+e}px`}return i.overflow="hidden",()=>{e>0&&(i.paddingRight=c),i.overflow=o}}}return t.\u0275fac=function(e){return new(e||t)(oe(vn))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),z9=(()=>{class t{constructor(e,r,i,o,c,f){this._applicationRef=e,this._injector=r,this._document=i,this._scrollBar=o,this._rendererFactory=c,this._ngZone=f,this._activeWindowCmptHasChanged=new je,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new Pe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const p=this._windowCmpts[this._windowCmpts.length-1];zm(this._ngZone,p.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(p.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,r,i){const o=i.container instanceof HTMLElement?i.container:Uo(i.container)?this._document.querySelector(i.container):this._document.body,c=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const f=new rn,p=this._getContentRef(i.injector||e,r,f,i);let m=!1!==i.backdrop?this._attachBackdrop(o):void 0,y=this._attachWindowComponent(o,p.nodes),D=new j9(y,p,m,i.beforeDismiss);return this._registerModalRef(D),this._registerWindowCmpt(y),D.hidden.pipe(Gn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(c.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),f.close=A=>{D.close(A)},f.dismiss=A=>{D.dismiss(A)},this._applyWindowOptions(y.instance,i),1===this._modalRefs.length&&c.addClass(this._document.body,"modal-open"),m&&m.instance&&(this._applyBackdropOptions(m.instance,i),m.changeDetectorRef.detectChanges()),y.changeDetectorRef.detectChanges(),D}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(r=>r.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let r=ba(H9,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_attachWindowComponent(e,r){let i=ba(G9,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_applyWindowOptions(e,r){this._windowAttributes.forEach(i=>{Uo(r[i])&&(e[i]=r[i])})}_applyBackdropOptions(e,r){this._backdropAttributes.forEach(i=>{Uo(r[i])&&(e[i]=r[i])})}_getContentRef(e,r,i,o){return r?r instanceof dn?this._createFromTemplateRef(r,i):Wl(r)?this._createFromString(r):this._createFromComponent(e,r,i,o):new mo([])}_createFromTemplateRef(e,r){const o=e.createEmbeddedView({$implicit:r,close(c){r.close(c)},dismiss(c){r.dismiss(c)}});return this._applicationRef.attachView(o),new mo([o.rootNodes],o)}_createFromString(e){const r=this._document.createTextNode(`${e}`);return new mo([[r]])}_createFromComponent(e,r,i,o){const c=St.create({providers:[{provide:rn,useValue:i}],parent:e}),f=ba(r,{environmentInjector:this._applicationRef.injector,elementInjector:c}),p=f.location.nativeElement;return o.scrollable&&p.classList.add("component-host-scrollable"),this._applicationRef.attachView(f.hostView),new mo([[p]],f.hostView,f)}_setAriaHidden(e){const r=e.parentElement;r&&e!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==e&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,r)=>{e?r.setAttribute("aria-hidden",e):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const r=()=>{const i=this._modalRefs.indexOf(e);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(r,r)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const r=this._windowCmpts.indexOf(e);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(oe(va),oe(St),oe(vn),oe(xA),oe(Sg),oe(Mt))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$9=(()=>{class t{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(oe(Yl))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Gt=(()=>{class t{constructor(e,r,i){this._injector=e,this._modalStack=r,this._config=i}open(e,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,e,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(oe(St),oe(z9),oe($9))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),AA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({providers:[Gt]}),t})(),W9=(()=>{class t{constructor(e){this._ngbConfig=e,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(oe(Yl))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const SA=t=>Uo(t)&&""!==t;let q9=0,qh=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(N(dn))},t.\u0275dir=me({type:t,selectors:[["ng-template","ngbNavContent",""]]}),t})(),qu=(()=>{class t{constructor(e,r){this._nav=e,this.elementRef=r,this.disabled=!1,this.shown=new Pe,this.hidden=new Pe}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){Uo(this.domId)||(this.domId="ngb-nav-"+q9++)}get active(){return this._nav.activeId===this.id}get id(){return SA(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(Uo(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}}return t.\u0275fac=function(e){return new(e||t)(N(dt(()=>Yu)),N(It))},t.\u0275dir=me({type:t,selectors:[["","ngbNavItem",""]],contentQueries:function(e,r,i){if(1&e&&An(i,qh,4),2&e){let o;Wt(o=qt())&&(r.contentTpls=o)}},hostVars:2,hostBindings:function(e,r){2&e&&ot("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:["ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"]}),t})(),Yu=(()=>{class t{constructor(e,r,i,o){this.role=e,this._cd=i,this._document=o,this.activeIdChange=new Pe,this.shown=new Pe,this.hidden=new Pe,this.destroy$=new je,this.navItemChange$=new je,this.navChange=new Pe,this.animation=r.animation,this.destroyOnHide=r.destroyOnHide,this.orientation=r.orientation,this.roles=r.roles,this.keyboard=r.keyboard}click(e){e.disabled||this._updateActiveId(e.id)}onKeyDown(e){if("tablist"!==this.roles||!this.keyboard)return;const r=e.which,i=this.links.filter(f=>!f.navItem.disabled),{length:o}=i;let c=-1;if(i.forEach((f,p)=>{f.elRef.nativeElement===this._document.activeElement&&(c=p)}),o){switch(r){case jt.ArrowLeft:if("vertical"===this.orientation)return;c=(c-1+o)%o;break;case jt.ArrowRight:if("vertical"===this.orientation)return;c=(c+1)%o;break;case jt.ArrowDown:if("horizontal"===this.orientation)return;c=(c+1)%o;break;case jt.ArrowUp:if("horizontal"===this.orientation)return;c=(c-1+o)%o;break;case jt.Home:c=0;break;case jt.End:c=o-1}"changeWithArrows"===this.keyboard&&this.select(i[c].navItem.id),i[c].elRef.nativeElement.focus(),e.preventDefault()}}select(e){this._updateActiveId(e,!1)}ngAfterContentInit(){if(!Uo(this.activeId)){const e=this.items.first?this.items.first.id:null;SA(e)&&(this._updateActiveId(e,!1),this._cd.detectChanges())}this.items.changes.pipe(hn(this.destroy$)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:e}){e&&!e.firstChange&&this._notifyItemChanged(e.currentValue)}ngOnDestroy(){this.destroy$.next()}_updateActiveId(e,r=!0){if(this.activeId!==e){let i=!1;r&&this.navChange.emit({activeId:this.activeId,nextId:e,preventDefault:()=>{i=!0}}),i||(this.activeId=e,this.activeIdChange.emit(e),this._notifyItemChanged(e))}}_notifyItemChanged(e){this.navItemChange$.next(this._getItemById(e))}_getItemById(e){return this.items&&this.items.find(r=>r.id===e)||null}}return t.\u0275fac=function(e){return new(e||t)(Is("role"),N(W9),N(Gi),N(vn))},t.\u0275dir=me({type:t,selectors:[["","ngbNav",""]],contentQueries:function(e,r,i){if(1&e&&(An(i,qu,4),An(i,Yh,5)),2&e){let o;Wt(o=qt())&&(r.items=o),Wt(o=qt())&&(r.links=o)}},hostVars:6,hostBindings:function(e,r){1&e&&j("keydown.arrowLeft",function(o){return r.onKeyDown(o)})("keydown.arrowRight",function(o){return r.onKeyDown(o)})("keydown.arrowDown",function(o){return r.onKeyDown(o)})("keydown.arrowUp",function(o){return r.onKeyDown(o)})("keydown.Home",function(o){return r.onKeyDown(o)})("keydown.End",function(o){return r.onKeyDown(o)}),2&e&&(Ut("aria-orientation","vertical"===r.orientation&&"tablist"===r.roles?"vertical":void 0)("role",r.role?r.role:r.roles?"tablist":void 0),ot("nav",!0)("flex-column","vertical"===r.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],features:[ar]}),t})(),Yh=(()=>{class t{constructor(e,r,i,o){this.role=e,this.navItem=r,this.nav=i,this.elRef=o}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(Is("role"),N(qu),N(Yu),N(It))},t.\u0275dir=me({type:t,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostVars:14,hostBindings:function(e,r){1&e&&j("click",function(o){return r.nav.click(r.navItem),o.preventDefault()}),2&e&&(pa("id",r.navItem.domId),Ut("role",r.role?r.role:r.nav.roles?"tab":void 0)("tabindex",r.navItem.disabled?-1:void 0)("aria-controls",r.navItem.isPanelInDom()?r.navItem.panelDomId:null)("aria-selected",r.navItem.active)("aria-disabled",r.navItem.disabled),ot("nav-link",!0)("nav-item",r.hasNavItemClass())("active",r.navItem.active)("disabled",r.navItem.disabled))}}),t})();const Y9=({classList:t})=>(t.remove("show"),()=>t.remove("active")),Z9=(t,n)=>{n&&Ws(t),t.classList.add("show")};let Xm=(()=>{class t{constructor(e){this.elRef=e}}return t.\u0275fac=function(e){return new(e||t)(N(It))},t.\u0275dir=me({type:t,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(e,r){2&e&&(pa("id",r.item.panelDomId),Ut("role",r.role?r.role:r.nav.roles?"tabpanel":void 0)("aria-labelledby",r.item.domId),ot("fade",r.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"}}),t})(),Qm=(()=>{class t{constructor(e,r){this._cd=e,this._ngZone=r,this._activePane=null}isPanelTransitioning(e){return this._activePane?.item===e}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(hn(this.nav.destroy$),lh(this._activePane?.item||null),function Dm(t,n=Zt){return t=t??GL,en((e,r)=>{let i,o=!0;e.subscribe(Ye(r,c=>{const f=n(c);(o||!t(i,f))&&(o=!1,i=f,r.next(c))}))})}(),function WL(t){return Jn((n,e)=>t<=e)}(1)).subscribe(e=>{const r={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?$n(this._ngZone,this._activePane.elRef.nativeElement,Y9,r).subscribe(()=>{const i=this._activePane?.item;this._activePane=this._getPaneForItem(e),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),$n(this._ngZone,this._activePane.elRef.nativeElement,Z9,r).subscribe(()=>{e&&(e.shown.emit(),this.nav.shown.emit(e.id))})),i&&(i.hidden.emit(),this.nav.hidden.emit(i.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(e){return this._panes&&this._panes.find(r=>r.item===e)||null}_getActivePane(){return this._panes&&this._panes.find(e=>e.item.active)||null}}return t.\u0275fac=function(e){return new(e||t)(N(Gi),N(Mt))},t.\u0275cmp=fe({type:t,selectors:[["","ngbNavOutlet",""]],viewQuery:function(e,r){if(1&e&&_a(Xm,5),2&e){let i;Wt(i=qt())&&(r._panes=i)}},hostVars:2,hostBindings:function(e,r){2&e&&ot("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},attrs:LB,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,r){1&e&&Y(0,HB,1,1,"ng-template",0),2&e&&F("ngForOf",r.nav.items)},dependencies:[cn,Nn,ks,Xm],encapsulation:2,changeDetection:0}),t})(),Km=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({imports:[si]}),t})(),X9=(()=>{class t{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),TA=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(N(dn))},t.\u0275dir=me({type:t,selectors:[["ng-template","ngbPaginationEllipsis",""]]}),t})(),NA=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(N(dn))},t.\u0275dir=me({type:t,selectors:[["ng-template","ngbPaginationFirst",""]]}),t})(),IA=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(N(dn))},t.\u0275dir=me({type:t,selectors:[["ng-template","ngbPaginationLast",""]]}),t})(),MA=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(N(dn))},t.\u0275dir=me({type:t,selectors:[["ng-template","ngbPaginationNext",""]]}),t})(),OA=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(N(dn))},t.\u0275dir=me({type:t,selectors:[["ng-template","ngbPaginationNumber",""]]}),t})(),RA=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(N(dn))},t.\u0275dir=me({type:t,selectors:[["ng-template","ngbPaginationPrevious",""]]}),t})(),FA=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(N(dn))},t.\u0275dir=me({type:t,selectors:[["ng-template","ngbPaginationPages",""]]}),t})(),kA=(()=>{class t{constructor(e){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new Pe(!0),this.disabled=e.disabled,this.boundaryLinks=e.boundaryLinks,this.directionLinks=e.directionLinks,this.ellipses=e.ellipses,this.maxSize=e.maxSize,this.pageSize=e.pageSize,this.rotate=e.rotate,this.size=e.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(e){this._updatePages(e)}ngOnChanges(e){this._updatePages(this.page)}isEllipsis(e){return-1===e}_applyEllipses(e,r){this.ellipses&&(e>0&&(e>2?this.pages.unshift(-1):2===e&&this.pages.unshift(2),this.pages.unshift(1)),r<this.pageCount&&(r<this.pageCount-2?this.pages.push(-1):r===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let e=0,r=this.pageCount,i=Math.floor(this.maxSize/2);return this.page<=i?r=this.maxSize:this.pageCount-this.page<i?e=this.pageCount-this.maxSize:(e=this.page-i-1,r=this.page+(this.maxSize%2==0?i-1:i)),[e,r]}_applyPagination(){let r=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[r,r+this.maxSize]}_setPageInRange(e){const r=this.page;this.page=function P7(t,n,e=0){return Math.max(Math.min(t,n),e)}(e,this.pageCount,1),this.page!==r&&zn(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(e){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),zn(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let r=1;r<=this.pageCount;r++)this.pages.push(r);if(this._setPageInRange(e),this.maxSize>0&&this.pageCount>this.maxSize){let r=0,i=this.pageCount;[r,i]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(r,i),this._applyEllipses(r,i)}}}return t.\u0275fac=function(e){return new(e||t)(N(X9))},t.\u0275cmp=fe({type:t,selectors:[["ngb-pagination"]],contentQueries:function(e,r,i){if(1&e&&(An(i,TA,5),An(i,NA,5),An(i,IA,5),An(i,MA,5),An(i,OA,5),An(i,RA,5),An(i,FA,5)),2&e){let o;Wt(o=qt())&&(r.tplEllipsis=o.first),Wt(o=qt())&&(r.tplFirst=o.first),Wt(o=qt())&&(r.tplLast=o.first),Wt(o=qt())&&(r.tplNext=o.first),Wt(o=qt())&&(r.tplNumber=o.first),Wt(o=qt())&&(r.tplPrevious=o.first),Wt(o=qt())&&(r.tplPages=o.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},features:[ar],decls:20,vars:12,consts:function(){let n,e,r,i,o,c,f,p;return n=$localize`:@@ngb.pagination.first:««`,e=$localize`:@@ngb.pagination.previous:«`,r=$localize`:@@ngb.pagination.next:»`,i=$localize`:@@ngb.pagination.last:»»`,o=$localize`:@@ngb.pagination.first-aria:First`,c=$localize`:@@ngb.pagination.previous-aria:Previous`,f=$localize`:@@ngb.pagination.next-aria:Next`,p=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],n,e,r,i,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",o,"href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"],["aria-label",f,"href","",1,"page-link",3,"click"],["aria-label",p,"href","",1,"page-link",3,"click"]]},template:function(e,r){if(1&e&&(Y(0,jB,2,0,"ng-template",null,0,Sn),Y(2,GB,2,0,"ng-template",null,1,Sn),Y(4,zB,2,0,"ng-template",null,2,Sn),Y(6,$B,2,0,"ng-template",null,3,Sn),Y(8,WB,1,0,"ng-template",null,4,Sn),Y(10,YB,2,2,"ng-template",null,5,Sn),Y(12,n7,1,1,"ng-template",null,6,Sn),w(14,"ul"),Y(15,i7,3,9,"li",7),Y(16,a7,3,8,"li",7),Y(17,l7,0,0,"ng-template",8),Y(18,u7,3,9,"li",7),Y(19,f7,3,9,"li",7),E()),2&e){const i=Ke(13);M(14),ss("pagination"+(r.size?" pagination-"+r.size:"")),M(1),F("ngIf",r.boundaryLinks),M(1),F("ngIf",r.directionLinks),M(1),F("ngTemplateOutlet",(null==r.tplPages?null:r.tplPages.templateRef)||i)("ngTemplateOutletContext",y1(8,h7,r.page,r.pages,r.disabled)),M(1),F("ngIf",r.directionLinks),M(1),F("ngIf",r.boundaryLinks)}},dependencies:[cn,Nn,ks],encapsulation:2,changeDetection:0}),t})(),PA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({imports:[si]}),t})(),BA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({imports:[si]}),t})(),UA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({imports:[si]}),t})(),VA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({imports:[si]}),t})();class HA{constructor(n,e,r){this.hour=Rr(n),this.minute=Rr(e),this.second=Rr(r)}changeHour(n=1){this.updateHour((isNaN(this.hour)?0:this.hour)+n)}updateHour(n){this.hour=zn(n)?(n<0?24+n:n)%24:NaN}changeMinute(n=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+n)}updateMinute(n){zn(n)?(this.minute=n%60<0?60+n%60:n%60,this.changeHour(Math.floor(n/60))):this.minute=NaN}changeSecond(n=1){this.updateSecond((isNaN(this.second)?0:this.second)+n)}updateSecond(n){zn(n)?(this.second=n<0?60+n%60:n%60,this.changeMinute(Math.floor(n/60))):this.second=NaN}isValid(n=!0){return zn(this.hour)&&zn(this.minute)&&(!n||zn(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let nU=(()=>{class t{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),jA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ie({token:t,factory:function(){return function rU(){return new iU}()},providedIn:"root"}),t})(),iU=(()=>{class t extends jA{fromModel(e){return e&&Mn(e.hour)&&Mn(e.minute)?{hour:e.hour,minute:e.minute,second:Mn(e.second)?e.second:null}:null}toModel(e){return e&&Mn(e.hour)&&Mn(e.minute)?{hour:e.hour,minute:e.minute,second:Mn(e.second)?e.second:null}:null}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Nt(t)))(r||t)}}(),t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})(),GA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ie({token:t,factory:function(e){let r=null;return r=e?new e:function oU(t){return new sU(t)}(oe(xi)),r},providedIn:"root"}),t})(),sU=(()=>{class t extends GA{constructor(e){super(),this._periods=Jw(e,fn.Standalone,Je.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return t.\u0275fac=function(e){return new(e||t)(oe(xi))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();const aU=/[^0-9]/g;let lU=(()=>{class t{constructor(e,r,i,o){this._config=e,this._ngbTimeAdapter=r,this._cd=i,this.i18n=o,this.onChange=c=>{},this.onTouched=()=>{},this.meridian=e.meridian,this.spinners=e.spinners,this.seconds=e.seconds,this.hourStep=e.hourStep,this.minuteStep=e.minuteStep,this.secondStep=e.secondStep,this.disabled=e.disabled,this.readonlyInputs=e.readonlyInputs,this.size=e.size}set hourStep(e){this._hourStep=Mn(e)?e:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(e){this._minuteStep=Mn(e)?e:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(e){this._secondStep=Mn(e)?e:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(e){const r=this._ngbTimeAdapter.fromModel(e);this.model=r?new HA(r.hour,r.minute,r.second):new HA,!this.seconds&&(!r||!zn(r.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}changeHour(e){this.model?.changeHour(e),this.propagateModelChange()}changeMinute(e){this.model?.changeMinute(e),this.propagateModelChange()}changeSecond(e){this.model?.changeSecond(e),this.propagateModelChange()}updateHour(e){const r=!!this.model&&this.model.hour>=12,i=Rr(e);this.model?.updateHour(this.meridian&&(r&&i<12||!r&&12===i)?i+12:i),this.propagateModelChange()}updateMinute(e){this.model?.updateMinute(Rr(e)),this.propagateModelChange()}updateSecond(e){this.model?.updateSecond(Rr(e)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(e){e.value=e.value.replace(aU,"")}formatHour(e){return zn(e)?ql(this.meridian?e%12==0?12:e%12:e%24):ql(NaN)}formatMinSec(e){return ql(zn(e)?e:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(e){e.seconds&&!this.seconds&&this.model&&!zn(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(e=!0){e&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return t.\u0275fac=function(e){return new(e||t)(N(nU),N(jA),N(Gi),N(GA))},t.\u0275cmp=fe({type:t,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],features:[Jt([{provide:Ai,useExisting:dt(()=>t),multi:!0}]),ar],decls:16,vars:25,consts:function(){let n,e,r,i,o,c,f,p,m,y,D,A,I,P;return n=$localize`:@@ngb.timepicker.HH:HH`,e=$localize`:@@ngb.timepicker.hours:Hours`,r=$localize`:@@ngb.timepicker.MM:MM`,i=$localize`:@@ngb.timepicker.minutes:Minutes`,o=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,c=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,f=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,p=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,m=$localize`:@@ngb.timepicker.SS:SS`,y=$localize`:@@ngb.timepicker.seconds:Seconds`,D=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,A=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,I=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,P=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",n,"aria-label",e,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",r,"aria-label",i,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],o,[1,"chevron","ngb-tp-chevron","bottom"],c,f,p,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",m,"aria-label",y,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],D,A,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],I,P]},template:function(e,r){1&e&&(w(0,"fieldset",0)(1,"div",1)(2,"div",2),Y(3,_7,4,7,"button",3),w(4,"input",4),j("change",function(o){return r.updateHour(o.target.value)})("blur",function(){return r.handleBlur()})("input",function(o){return r.formatInput(o.target)})("keydown.ArrowUp",function(o){return r.changeHour(r.hourStep),o.preventDefault()})("keydown.ArrowDown",function(o){return r.changeHour(-r.hourStep),o.preventDefault()}),E(),Y(5,v7,4,7,"button",3),E(),w(6,"div",5),S(7,":"),E(),w(8,"div",6),Y(9,y7,4,7,"button",3),w(10,"input",7),j("change",function(o){return r.updateMinute(o.target.value)})("blur",function(){return r.handleBlur()})("input",function(o){return r.formatInput(o.target)})("keydown.ArrowUp",function(o){return r.changeMinute(r.minuteStep),o.preventDefault()})("keydown.ArrowDown",function(o){return r.changeMinute(-r.minuteStep),o.preventDefault()}),E(),Y(11,b7,4,7,"button",3),E(),Y(12,C7,2,0,"div",8),Y(13,E7,4,9,"div",9),Y(14,x7,1,0,"div",8),Y(15,T7,5,9,"div",10),E()()),2&e&&(ot("disabled",r.disabled),F("disabled",r.disabled),M(3),F("ngIf",r.spinners),M(1),ot("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),F("value",r.formatHour(null==r.model?null:r.model.hour))("readOnly",r.readonlyInputs)("disabled",r.disabled),M(1),F("ngIf",r.spinners),M(4),F("ngIf",r.spinners),M(1),ot("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),F("value",r.formatMinSec(null==r.model?null:r.model.minute))("readOnly",r.readonlyInputs)("disabled",r.disabled),M(1),F("ngIf",r.spinners),M(1),F("ngIf",r.seconds),M(1),F("ngIf",r.seconds),M(1),F("ngIf",r.meridian),M(1),F("ngIf",r.meridian))},dependencies:[Nn],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),t})(),zA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({imports:[si]}),t})();const cU=(t,n)=>{const{classList:e}=t;if(n)return e.remove("hide"),Ws(t),e.add("showing"),()=>{e.remove("showing"),e.add("show")};e.add("show")},uU=({classList:t})=>(t.remove("show"),()=>{t.add("hide")});let dU=(()=>{class t{constructor(e){this._ngbConfig=e,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(oe(Yl))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=me({type:t,selectors:[["","ngbToastHeader",""]]}),t})(),fU=(()=>{class t{constructor(e,r,i,o){this.ariaLive=e,this._zone=i,this._element=o,this.contentHeaderTpl=null,this.shown=new Pe,this.hidden=new Pe,null==this.ariaLive&&(this.ariaLive=r.ariaLive),this.delay=r.delay,this.autohide=r.autohide,this.animation=r.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(Gn(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(e){"autohide"in e&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const e=$n(this._zone,this._element.nativeElement,uU,{animation:this.animation,runningTransition:"stop"});return e.subscribe(()=>{this.hidden.emit()}),e}show(){const e=$n(this._zone,this._element.nativeElement,cU,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>{this.shown.emit()}),e}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return t.\u0275fac=function(e){return new(e||t)(Is("aria-live"),N(dU),N(Mt),N(It))},t.\u0275cmp=fe({type:t,selectors:[["ngb-toast"]],contentQueries:function(e,r,i){if(1&e&&An(i,$A,7,dn),2&e){let o;Wt(o=qt())&&(r.contentHeaderTpl=o.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(e,r){2&e&&(Ut("aria-live",r.ariaLive),ot("fade",r.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],features:[ar],ngContentSelectors:km,decls:5,vars:1,consts:function(){let n;return n=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",n,1,"btn-close",3,"click"]]},template:function(e,r){1&e&&(Yc(),Y(0,N7,2,1,"ng-template",null,0,Sn),Y(2,M7,3,1,"ng-template",1),w(3,"div",2),Zc(4),E()),2&e&&(M(2),F("ngIf",r.contentHeaderTpl||r.header))},dependencies:[Nn,ks],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),t})(),WA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({imports:[si]}),t})(),qA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({}),t})();new Fe("live announcer delay",{providedIn:"root",factory:function hU(){return 100}});let YA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({imports:[si]}),t})();var Zu=(()=>{return(t=Zu||(Zu={}))[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",Zu;var t})();let pU=(()=>{class t{constructor(e,r){this._el=e,this._zone=r,this.dismissEvent=new Pe}ngOnInit(){this._zone.onStable.asObservable().pipe(Gn(1)).subscribe(()=>{$n(this._zone,this._el.nativeElement,(e,r)=>{r&&Ws(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return $n(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}dismiss(){this.static||this.dismissEvent.emit(Zu.BACKDROP_CLICK)}}return t.\u0275fac=function(e){return new(e||t)(N(It),N(Mt))},t.\u0275cmp=fe({type:t,selectors:[["ngb-offcanvas-backdrop"]],hostVars:6,hostBindings:function(e,r){1&e&&j("mousedown",function(){return r.dismiss()}),2&e&&(ss("offcanvas-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),ot("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass",static:"static"},outputs:{dismissEvent:"dismiss"},decls:0,vars:0,template:function(e,r){},encapsulation:2}),t})(),gU=(()=>{class t{constructor(e,r,i){this._document=e,this._elRef=r,this._zone=i,this._closed$=new je,this._elWithFocus=null,this.keyboard=!0,this.position="start",this.dismissEvent=new Pe,this.shown=new je,this.hidden=new je}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Gn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i=$n(this._zone,this._elRef.nativeElement,o=>(e.classList.remove("showing"),e.classList.add("hiding"),()=>e.classList.remove("show","hiding")),{animation:this.animation,runningTransition:"stop"});return i.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),i}_show(){$n(this._zone,this._elRef.nativeElement,(i,o)=>(o&&Ws(i),i.classList.add("show","showing"),()=>i.classList.remove("showing")),{animation:this.animation,runningTransition:"continue"}).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Er(e,"keydown").pipe(hn(this._closed$),Jn(r=>r.which===jt.Escape)).subscribe(r=>{this.keyboard&&requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Zu.ESC))})})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const r=e.querySelector("[ngbAutofocus]"),i=Gm(e)[0];(r||i||e).focus()}}_restoreFocus(){const e=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&e.contains(r)?r:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}}return t.\u0275fac=function(e){return new(e||t)(N(vn),N(It),N(Mt))},t.\u0275cmp=fe({type:t,selectors:[["ngb-offcanvas-panel"]],hostAttrs:["role","dialog","tabindex","-1"],hostVars:5,hostBindings:function(e,r){2&e&&(Ut("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),ss("offcanvas offcanvas-"+r.position+(r.panelClass?" "+r.panelClass:"")))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",keyboard:"keyboard",panelClass:"panelClass",position:"position"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:km,decls:1,vars:0,template:function(e,r){1&e&&(Yc(),Zc(0))},encapsulation:2}),t})();class Jm{close(n){}dismiss(n){}}class mU{constructor(n,e,r,i){this._panelCmptRef=n,this._contentRef=e,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new je,this._dismissed=new je,this._hidden=new je,n.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),r&&r.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,c)=>{this._resolve=o,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(hn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(hn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._panelCmptRef.instance.shown.asObservable()}close(n){this._panelCmptRef&&(this._closed.next(n),this._resolve(n),this._removeOffcanvasElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeOffcanvasElements()}dismiss(n){if(this._panelCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();Gx(e)?e.then(r=>{!1!==r&&this._dismiss(n)},()=>{}):!1!==e&&this._dismiss(n)}else this._dismiss(n)}_removeOffcanvasElements(){const n=this._panelCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Ie(void 0);n.subscribe(()=>{const{nativeElement:r}=this._panelCmptRef.location;r.parentNode.removeChild(r),this._panelCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._panelCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),ku(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}let _U=(()=>{class t{constructor(e,r,i,o,c){this._applicationRef=e,this._injector=r,this._document=i,this._scrollBar=o,this._ngZone=c,this._activePanelCmptHasChanged=new je,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._panelAttributes=["animation","ariaDescribedBy","ariaLabelledBy","keyboard","panelClass","position"],this._activeInstance=new Pe,this._activePanelCmptHasChanged.subscribe(()=>{this._panelCmpt&&zm(this._ngZone,this._panelCmpt.location.nativeElement,this._activePanelCmptHasChanged)})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,r,i){const o=i.container instanceof HTMLElement?i.container:Uo(i.container)?this._document.querySelector(i.container):this._document.body;if(!o)throw new Error(`The specified offcanvas container "${i.container||"body"}" was not found in the DOM.`);i.scroll||this._hideScrollBar();const c=new Jm,f=this._getContentRef(i.injector||e,r,c);let p=!1!==i.backdrop?this._attachBackdrop(o):void 0,m=this._attachWindowComponent(o,f.nodes),y=new mU(m,f,p,i.beforeDismiss);return this._registerOffcanvasRef(y),this._registerPanelCmpt(m),y.hidden.pipe(uh(()=>this._restoreScrollBar())).subscribe(),c.close=D=>{y.close(D)},c.dismiss=D=>{y.dismiss(D)},this._applyPanelOptions(m.instance,i),p&&p.instance&&(this._applyBackdropOptions(p.instance,i),p.changeDetectorRef.detectChanges()),m.changeDetectorRef.detectChanges(),y}get activeInstance(){return this._activeInstance}dismiss(e){this._offcanvasRef?.dismiss(e)}hasOpenOffcanvas(){return!!this._offcanvasRef}_attachBackdrop(e){let r=ba(pU,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_attachWindowComponent(e,r){let i=ba(gU,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_applyPanelOptions(e,r){this._panelAttributes.forEach(i=>{Uo(r[i])&&(e[i]=r[i])})}_applyBackdropOptions(e,r){this._backdropAttributes.forEach(i=>{Uo(r[i])&&(e[i]=r[i])}),e.static="static"===r.backdrop}_getContentRef(e,r,i){return r?r instanceof dn?this._createFromTemplateRef(r,i):Wl(r)?this._createFromString(r):this._createFromComponent(e,r,i):new mo([])}_createFromTemplateRef(e,r){const o=e.createEmbeddedView({$implicit:r,close(c){r.close(c)},dismiss(c){r.dismiss(c)}});return this._applicationRef.attachView(o),new mo([o.rootNodes],o)}_createFromString(e){const r=this._document.createTextNode(`${e}`);return new mo([[r]])}_createFromComponent(e,r,i){const o=St.create({providers:[{provide:Jm,useValue:i}],parent:e}),c=ba(r,{environmentInjector:this._applicationRef.injector,elementInjector:o}),f=c.location.nativeElement;return this._applicationRef.attachView(c.hostView),new mo([[f]],c.hostView,c)}_registerOffcanvasRef(e){const r=()=>{this._offcanvasRef=void 0,this._activeInstance.emit(this._offcanvasRef)};this._offcanvasRef=e,this._activeInstance.emit(this._offcanvasRef),e.result.then(r,r)}_registerPanelCmpt(e){this._panelCmpt=e,this._activePanelCmptHasChanged.next(),e.onDestroy(()=>{this._panelCmpt=void 0,this._activePanelCmptHasChanged.next()})}}return t.\u0275fac=function(e){return new(e||t)(oe(va),oe(St),oe(vn),oe(xA),oe(Mt))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),vU=(()=>{class t{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0,this.position="start",this.scroll=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(oe(Yl))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),yU=(()=>{class t{constructor(e,r,i){this._injector=e,this._offcanvasStack=r,this._config=i}open(e,r={}){const i={...this._config,animation:this._config.animation,...r};return this._offcanvasStack.open(this._injector,e,i)}get activeInstance(){return this._offcanvasStack.activeInstance}dismiss(e){this._offcanvasStack.dismiss(e)}hasOpenOffcanvas(){return this._offcanvasStack.hasOpenOffcanvas()}}return t.\u0275fac=function(e){return new(e||t)(oe(St),oe(_U),oe(vU))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ZA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({}),t})();const bU=[Qx,Kx,tA,nA,CA,EA,AA,Km,ZA,PA,BA,UA,VA,zA,WA,qA,YA];let XA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({imports:[bU,Qx,Kx,tA,nA,CA,EA,AA,Km,ZA,PA,BA,UA,VA,zA,WA,qA,YA]}),t})(),CU=(()=>{class t{constructor(e,r,i){this.activeOffcanvas=e,this.authService=r,this.router=i}logout(){var e=this;return se(function*(){(yield e.authService.logout())&&e.router.navigate(["/login"])})()}}return t.\u0275fac=function(e){return new(e||t)(N(Jm),N(Mh),N(tr))},t.\u0275cmp=fe({type:t,selectors:[["app-main-sidebar"]],decls:51,vars:0,consts:[[1,"h-100vh","d-flex","flex-column"],[1,"offcanvas-header","px-3","pt-3","p-0"],["id","offcanvasExampleLabel",1,"offcanvas-title"],[1,"offcanvas-body","px-3","py-0"],[1,"nav","nav-pills","flex-column","mb-auto"],[1,"nav-item"],["routerLink","/home","routerLinkActive","active",1,"nav-link",3,"click"],[1,"bi","bi-house-fill","me-2"],["routerLink","/users","routerLinkActive","active",1,"nav-link",3,"click"],[1,"bi","bi-people-fill","me-2"],["routerLink","/clients","routerLinkActive","active",1,"nav-link",3,"click"],[1,"bi","bi-file-earmark-person-fill","me-1"],["routerLink","/zones","routerLinkActive","active",1,"nav-link",3,"click"],[1,"bi","bi-map-fill","me-2"],["routerLink","/hardware","routerLinkActive","active",1,"nav-link",3,"click"],[1,"bi","bi-motherboard-fill","me-2"],["routerLink","/services","routerLinkActive","active",1,"nav-link",3,"click"],[1,"bi","bi-router-fill","me-2"],["routerLink","/invoices","routerLinkActive","active",1,"nav-link",3,"click"],[1,"bi","bi-receipt","me-2"],["routerLink","/validate-invoices","routerLinkActive","active",1,"nav-link",3,"click"],[1,"bi","bi-clipboard-check","me-2"],[1,"canvas-footer","px-3","pb-3"],["routerLink","/config","routerLinkActive","active",1,"nav-link",3,"click"],[1,"bi","bi-gear-fill","me-2"],["routerLinkActive","active",1,"nav-link","text-danger",3,"click"],[1,"bi","bi-door-open-fill"]],template:function(e,r){1&e&&(w(0,"div",0)(1,"div",1)(2,"h5",2),S(3,"Men\xfa"),E()(),U(4,"hr"),w(5,"div",3)(6,"ul",4)(7,"li",5)(8,"a",6),j("click",function(){return r.activeOffcanvas.dismiss()}),U(9,"i",7),S(10," Inicio "),E()(),w(11,"li",5)(12,"a",8),j("click",function(){return r.activeOffcanvas.dismiss()}),U(13,"i",9),S(14," Usuarios "),E()(),w(15,"li",5)(16,"a",10),j("click",function(){return r.activeOffcanvas.dismiss()}),U(17,"i",11),S(18," Clientes "),E()(),w(19,"li",5)(20,"a",12),j("click",function(){return r.activeOffcanvas.dismiss()}),U(21,"i",13),S(22," Zonas "),E()(),w(23,"li",5)(24,"a",14),j("click",function(){return r.activeOffcanvas.dismiss()}),U(25,"i",15),S(26," Equipos "),E()(),w(27,"li",5)(28,"a",16),j("click",function(){return r.activeOffcanvas.dismiss()}),U(29,"i",17),S(30," Servicios "),E()(),w(31,"li",5)(32,"a",18),j("click",function(){return r.activeOffcanvas.dismiss()}),U(33,"i",19),S(34," Facturas "),E()(),w(35,"li",5)(36,"a",20),j("click",function(){return r.activeOffcanvas.dismiss()}),U(37,"i",21),S(38," Validar facturas "),E()()()(),U(39,"hr"),w(40,"div",22)(41,"ul",4)(42,"li",5)(43,"a",23),j("click",function(){return r.activeOffcanvas.dismiss()}),U(44,"i",24),S(45," Configuraci\xf3n "),E()(),w(46,"li",5)(47,"button",25),j("click",function(){return r.activeOffcanvas.dismiss(),r.logout()}),U(48,"i",26),S(49," Cerrar sesi\xf3n "),E()()()(),U(50,"div"),E())},dependencies:[Ta,cx]}),t})(),Xi=(()=>{class t{constructor(e){this.httpClient=e}makeSimpleGetRequest(e){var r=this;return se(function*(){return r.promisify((i,o)=>{r.httpClient.get(`${nn_apiUrl}${e}`,{withCredentials:!0}).subscribe({next:c=>{i(c)},error:c=>o(c)})})})()}makeSimplePatchRequest(e,r){var i=this;return se(function*(){return i.promisify((o,c)=>{i.httpClient.patch(`${nn_apiUrl}${e}`,r,{withCredentials:!0}).subscribe({next:f=>{o(f)},error:f=>c(f)})})})()}makeSimplePutRequest(e,r){var i=this;return se(function*(){return i.promisify((o,c)=>{i.httpClient.put(`${nn_apiUrl}${e}`,r,{withCredentials:!0}).subscribe({next:f=>{o(f)},error:f=>c(f)})})})()}makeSimplePostRequest(e,r){var i=this;return se(function*(){return i.promisify((o,c)=>{i.httpClient.post(`${nn_apiUrl}${e}`,r,{withCredentials:!0}).subscribe({next:f=>{o(f)},error:f=>c(f)})})})()}makeSearchPaginationRequest(e,r,i=0,o=10){return new Promise((c,f)=>{this.httpClient.post(`${nn_apiUrl}${e}`,{userSearch:r,skip:i*o,take:o},{withCredentials:!0}).subscribe({next:p=>{c(p)},error:p=>f(p)})})}promisify(e){return new Promise(e)}}return t.\u0275fac=function(e){return new(e||t)(oe(J2))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Kl=(()=>{class t extends Xi{search(e,r,i){return kt(this.getUsers(e,r,i))}count(){return this.makeSimpleGetRequest("/users/count")}getCurrentUser(){var e=this;return se(function*(){return e.makeSimpleGetRequest("/users/current-user")})()}getUser(e){return this.makeSimpleGetRequest(`/users/get/${e}`)}getUsers(e,r,i){return this.makeSearchPaginationRequest("/users/search",e,r,i)}createUser(e){return this.makeSimplePostRequest("/users/create",e)}updateUser(e){return this.promisify((r,i)=>this.httpClient.put(`${nn_apiUrl}/users/update/${e.id}`,e,{withCredentials:!0}).subscribe({next:o=>r(),error:o=>i(o)}))}deleteUser(e){return this.promisify((r,i)=>this.httpClient.delete(`${nn_apiUrl}/users/delete/${e}`,{withCredentials:!0}).subscribe({next:o=>r(),error:o=>i(o)}))}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Nt(t)))(r||t)}}(),t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),qn=(()=>{class t{constructor(e,r){this.usersApiService=e,this.offcanvasService=r}openSidebar(){this.offcanvasService.open(CU)}ngOnInit(){var e=this;return se(function*(){const r=yield e.usersApiService.getCurrentUser();e.user=r})()}}return t.\u0275fac=function(e){return new(e||t)(N(Kl),N(yU))},t.\u0275cmp=fe({type:t,selectors:[["app-main-navbar"]],decls:11,vars:2,consts:[[1,"navbar","navbar-dark","bg-700","navbar-expand-sm","border-bottom","shadow","mb-3"],[1,"container-fluid","justify-content-between"],["type","button",1,"btn","btn-light","text-sm",3,"click"],[1,"bi","bi-house-fill"],["routerLink","/home",1,"navbar-brand"],["type","button",1,"btn","btn-light","d-none","d-sm-block",3,"routerLink"],[1,"bi","bi-person-fill"]],template:function(e,r){1&e&&(w(0,"nav",0)(1,"div",1)(2,"button",2),j("click",function(){return r.openSidebar()}),U(3,"i",3)(4,"br"),S(5," Men\xfa "),E(),w(6,"a",4),S(7,"\u{1f99d} RACUN"),E(),w(8,"a",5),U(9,"i",6),S(10),E()()()),2&e&&(M(8),Hi("routerLink","/users/",r.user?r.user.id:"",""),M(2),ht(" ",r.user?r.user.firstName:""," "))},dependencies:[Zm,Ta]}),t})(),wU=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["app-home"]],decls:46,vars:0,consts:[[1,"h-100","d-flex","flex-column"],[1,"text-700","text-center"],[1,"flex-1-1-auto","m-auto","mt-3"],[1,"list-group","px-5"],["routerLink","/users","aria-current","true",1,"list-group-item","list-group-item-action","d-flex","gap-3","py-3"],[1,"bi","bi-people-fill","fs-2"],[1,"d-flex","gap-2","w-100","justify-content-between","align-items-center"],[1,"mb-0"],[1,"mb-0","opacity-75"],["routerLink","/clients","aria-current","true",1,"list-group-item","list-group-item-action","d-flex","gap-3","py-3"],[1,"bi","bi-file-earmark-person-fill","fs-2"],["routerLink","/zones","aria-current","true",1,"list-group-item","list-group-item-action","d-flex","gap-3","py-3"],[1,"bi","bi-map-fill","fs-2"],["routerLink","/hardware","aria-current","true",1,"list-group-item","list-group-item-action","d-flex","gap-3","py-3"],[1,"bi","bi-motherboard-fill","fs-2"],["routerLink","/services","aria-current","true",1,"list-group-item","list-group-item-action","d-flex","gap-3","py-3"],[1,"bi","bi-router-fill","fs-2"]],template:function(e,r){1&e&&(w(0,"div",0),U(1,"app-main-navbar"),w(2,"h1",1),S(3,"Men\xfa principal"),E(),w(4,"div",2)(5,"div",3)(6,"a",4),U(7,"i",5),w(8,"div",6)(9,"div")(10,"h6",7),S(11,"Usuarios"),E(),w(12,"p",8),S(13," Informaci\xf3n de los usuarios que tienen acceso a la plataforma. "),E()()()(),w(14,"a",9),U(15,"i",10),w(16,"div",6)(17,"div")(18,"h6",7),S(19,"Clientes"),E(),w(20,"p",8),S(21," Informaci\xf3n de los clientes registrados en la plataforma. "),E()()()(),w(22,"a",11),U(23,"i",12),w(24,"div",6)(25,"div")(26,"h6",7),S(27,"Zonas"),E(),w(28,"p",8),S(29," Informaci\xf3n de las zonas registradas en la plataforma. "),E()()()(),w(30,"a",13),U(31,"i",14),w(32,"div",6)(33,"div")(34,"h6",7),S(35,"Equipos"),E(),w(36,"p",8),S(37," Informaci\xf3n de los equipos registrados en la plataforma. "),E()()()(),w(38,"a",15),U(39,"i",16),w(40,"div",6)(41,"div")(42,"h6",7),S(43,"Servicios"),E(),w(44,"p",8),S(45," Informaci\xf3n de los servicios prestados por la empresa "),E()()()()()()())},dependencies:[Ta,qn]}),t})(),DU=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["app-page-not-found"]],decls:5,vars:0,consts:[[1,"h-100","d-flex","flex-column"],[1,"d-flex","flex-column","h-100","justify-content-center","align-items-center","text-500"],[1,"bi","bi-box","display-1"]],template:function(e,r){1&e&&(w(0,"div",0),U(1,"app-main-navbar"),w(2,"div",1),U(3,"i",2),S(4," P\xe1gina no encontrada "),E()())},dependencies:[qn]}),t})(),EU=(()=>{class t{constructor(e,r){this.router=e,this.authService=r}ngOnInit(){}login(e){var r=this;return se(function*(){const i=e.value.email,o=e.value.password;(yield r.authService.login(i,o))&&r.router.navigate(["home"])})()}}return t.\u0275fac=function(e){return new(e||t)(N(tr),N(Mh))},t.\u0275cmp=fe({type:t,selectors:[["app-login"]],decls:27,vars:0,consts:[[3,"ngSubmit"],["formulario","ngForm"],[1,"container","p-4"],[1,"row"],[1,"col-md-6","mx-auto"],[1,"card","text-center"],[1,"card-header"],[1,"card-body"],[1,"hero-body"],[1,"container","has-text-center"],[1,"column","is-4","is-offset-4"],[1,"subtitle","has-text-grey"],[1,"box"],[1,"avatar"],["src","./assets/logo.png","alt","Logo Sistema de Facturacion","width","250"],[1,"mb-3"],["type","email","name","email","placeholder","Correo electronico","autofocus","","required","","ngModel","",1,"form-control"],[1,"form-group"],["type","password","name","password","placeholder","Contrase\xf1a","pattern","[A-Za-z0-9]*[0-9][A-Za-z0-9]*","required","","oninvalid","setCustomValidity('Solo valores alfanumericos')","ngModel","",1,"form-control"],["type","submit",1,"btn","btn-success","btn-block"]],template:function(e,r){if(1&e){const i=qe();w(0,"div")(1,"form",0,1),j("ngSubmit",function(){Ee(i);const c=Ke(2);return xe(r.login(c))}),w(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"h3"),S(9,"Inicio de Sesion"),E()(),w(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"p",11),S(15," Por favor inicia sesion para continuar. "),E(),w(16,"div",12)(17,"figure",13),U(18,"img",14),E(),w(19,"div",15),U(20,"input",16),E(),w(21,"div",17),U(22,"input",18),E(),U(23,"br"),w(24,"div",17)(25,"button",19),S(26," Iniciar Sesion "),E()()()()()()()()()()()()()}},dependencies:[Wr,fr,Nr,$r,nh,V0,th,eh]}),t})();function Xu(t){var n=String(t);if("[object Object]"===n)try{n=JSON.stringify(t)}catch{}return n}var xU=function(){function t(){this.some=!1,this.none=!0}return t.prototype[Symbol.iterator]=function(){return{next:function(){return{done:!0,value:void 0}}}},t.prototype.unwrapOr=function(n){return n},t.prototype.expect=function(n){throw new Error(""+n)},t.prototype.unwrap=function(){throw new Error("Tried to unwrap None")},t.prototype.map=function(n){return this},t.prototype.andThen=function(n){return this},t.prototype.toResult=function(n){return Ot(n)},t.prototype.toString=function(){return"None"},t}(),Zh=new xU;Object.freeze(Zh);var QA,t,AU=function(){function t(n){if(!(this instanceof t))return new t(n);this.some=!0,this.none=!1,this.val=n}return t.prototype[Symbol.iterator]=function(){var n=Object(this.val);return Symbol.iterator in n?n[Symbol.iterator]():{next:function(){return{done:!0,value:void 0}}}},t.prototype.unwrapOr=function(n){return this.val},t.prototype.expect=function(n){return this.val},t.prototype.unwrap=function(){return this.val},t.prototype.map=function(n){return Xh(n(this.val))},t.prototype.andThen=function(n){return n(this.val)},t.prototype.toResult=function(n){return Rt(this.val)},t.prototype.safeUnwrap=function(){return this.val},t.prototype.toString=function(){return"Some("+Xu(this.val)+")"},t.EMPTY=new t(void 0),t}(),Xh=AU;(t=QA||(QA={})).all=function n(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];for(var c=[],f=0,p=i;f<p.length;f++){var m=p[f];if(!m.some)return m;c.push(m.val)}return Xh(c)},t.any=function e(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];for(var c=0,f=i;c<f.length;c++){var p=f[c];return p}return Zh},t.isOption=function r(i){return i instanceof Xh||i===Zh};var KA,SU=function(){function t(n){if(!(this instanceof t))return new t(n);this.ok=!1,this.err=!0,this.val=n;var e=(new Error).stack.split("\n").slice(2);e&&e.length>0&&e[0].includes("ErrImpl")&&e.shift(),this._stack=e.join("\n")}return t.prototype[Symbol.iterator]=function(){return{next:function(){return{done:!0,value:void 0}}}},t.prototype.else=function(n){return n},t.prototype.unwrapOr=function(n){return n},t.prototype.expect=function(n){throw new Error(n+" - Error: "+Xu(this.val)+"\n"+this._stack)},t.prototype.unwrap=function(){throw new Error("Tried to unwrap Error: "+Xu(this.val)+"\n"+this._stack)},t.prototype.map=function(n){return this},t.prototype.andThen=function(n){return this},t.prototype.mapErr=function(n){return new Ot(n(this.val))},t.prototype.toOption=function(){return Zh},t.prototype.toString=function(){return"Err("+Xu(this.val)+")"},Object.defineProperty(t.prototype,"stack",{get:function(){return this+"\n"+this._stack},enumerable:!1,configurable:!0}),t.EMPTY=new t(void 0),t}(),Ot=SU,TU=function(){function t(n){if(!(this instanceof t))return new t(n);this.ok=!0,this.err=!1,this.val=n}return t.prototype[Symbol.iterator]=function(){var n=Object(this.val);return Symbol.iterator in n?n[Symbol.iterator]():{next:function(){return{done:!0,value:void 0}}}},t.prototype.else=function(n){return this.val},t.prototype.unwrapOr=function(n){return this.val},t.prototype.expect=function(n){return this.val},t.prototype.unwrap=function(){return this.val},t.prototype.map=function(n){return new Rt(n(this.val))},t.prototype.andThen=function(n){return n(this.val)},t.prototype.mapErr=function(n){return this},t.prototype.toOption=function(){return Xh(this.val)},t.prototype.safeUnwrap=function(){return this.val},t.prototype.toString=function(){return"Ok("+Xu(this.val)+")"},t.EMPTY=new t(void 0),t}(),Rt=TU;!function(t){t.all=function n(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];for(var p=[],m=0,y=c;m<y.length;m++){var D=y[m];if(!D.ok)return D;p.push(D.val)}return new Rt(p)},t.any=function e(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];for(var p=[],m=0,y=c;m<y.length;m++){var D=y[m];if(D.ok)return D;p.push(D.val)}return new Ot(p)},t.wrap=function r(c){try{return new Rt(c())}catch(f){return new Ot(f)}},t.wrapAsync=function i(c){try{return c().then(function(f){return new Rt(f)}).catch(function(f){return new Ot(f)})}catch(f){return Promise.resolve(new Ot(f))}},t.isResult=function o(c){return c instanceof Ot||c instanceof Rt}}(KA||(KA={}));let Qh=(()=>{class t extends Xi{search(e,r,i){return kt(this.getRoles(e,r,i))}count(){throw new Error("Method not implemented.")}getRoles(e,r,i){var o=this;return se(function*(){return o.makeSearchPaginationRequest("/roles/search",e,r,i)})()}getRole(e){return this.makeSimpleGetRequest(`/roles/${e}`)}getRolePermissions(e){var r=this;return se(function*(){return r.makeSimpleGetRequest(`/permissions/${e.id}`)})()}createRole(e){var r=this;return se(function*(){yield r.promisify((i,o)=>{r.httpClient.post(`${nn_apiUrl}/roles/create`,{roleName:e},{withCredentials:!0,responseType:"text"}).subscribe({next:c=>{i()},error:c=>{o()}})})})()}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Nt(t)))(r||t)}}(),t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),gs=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["app-loader"]],decls:7,vars:0,consts:[[1,"h-100","w-100","position-fixed","top-50","start-50","translate-middle","d-flex","justify-content-center","align-items-center","bg-opacity-50","bg-100",2,"z-index","1060"],[1,"text-center"],["role","status",1,"spinner-border","text-blue-700"],[1,"visually-hidden"]],template:function(e,r){1&e&&(w(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),S(4,"Loading..."),E()(),w(5,"p"),S(6,"Cargando..."),E()()())}}),t})();var ms=(()=>(function(t){t[t.ERROR=0]="ERROR",t[t.MESSAGE=1]="MESSAGE"}(ms||(ms={})),ms))();let Ys=(()=>{class t{constructor(){this.toasts=[]}showMessage(e){this.toasts.push({header:e.header,body:e.body,toastType:ms.MESSAGE})}showError(e){console.log("test"),this.toasts.push(this.getMessageFromErrorCode(e))}remove(e){this.toasts=this.toasts.filter(r=>r!==e)}getMessageFromErrorCode(e){if(e.error.code)switch(e.error.code){case"UCDE":return{header:"Valor duplicado",body:"Uno de los valores ingresados se encuentra duplicado, como un correo o nombre de usuario.",toastType:ms.ERROR};case"LSUE":return{header:"\xdaltimo Super Usuario",body:"No se puede eliminar o actualizar la informaci\xf3n del Super Usuario. Tienes que crear otro usuario primero.",toastType:ms.ERROR};case"QRCE":return{header:"Error de c\xf3digo QR",body:"El c\xf3digo QR no pudo ser reconocido.",toastType:ms.ERROR}}return{header:"Error desconocido",body:"Se ha generado un error desconocido.",toastType:ms.ERROR}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),un=(()=>{class t{constructor(e,r,i){this.applicationRef=e,this.injector=r,this.toastService=i,this.loadingScreenNode=null,this.loaderComponent=null}doWithLoadingScreen(e){var r=this;return se(function*(){r.createLoadingScreen();const i=yield e();i.ok?r.toastService.showMessage(i.val):r.toastService.showError(i.val),r.removeLoadingScreen()})()}createLoadingScreen(){null===this.loadingScreenNode&&(this.loaderComponent=ba(gs,{environmentInjector:this.applicationRef.injector,elementInjector:this.injector}),this.loadingScreenNode=document.body.appendChild(this.loaderComponent.location.nativeElement),this.applicationRef.attachView(this.loaderComponent.hostView))}removeLoadingScreen(){this.loadingScreenNode&&(document.body.removeChild(this.loadingScreenNode),this.loadingScreenNode=null),this.loaderComponent&&(this.applicationRef.detachView(this.loaderComponent.hostView),this.loaderComponent=null)}}return t.\u0275fac=function(e){return new(e||t)(oe(va),oe(ns),oe(Ys))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const NU=function(t){return{"is-invalid":t}};let IU=(()=>{class t{constructor(e,r,i){this.activeModal=e,this.rolesApiService=r,this.mainLoaderService=i,this.roleForm=new Ir({name:new Ve("Nuevo rol",[Ue.required])})}createRole(){var e=this;return se(function*(){e.roleForm.valid&&(yield e.mainLoaderService.doWithLoadingScreen(se(function*(){try{return yield e.rolesApiService.createRole(e.roleForm.value.name),Rt({header:"Rol creado",body:"Se ha creado el rol correctamente."})}catch(r){return Ot(r)}})),e.activeModal.close())})()}}return t.\u0275fac=function(e){return new(e||t)(N(rn),N(Qh),N(un))},t.\u0275cmp=fe({type:t,selectors:[["app-create-role-modal"]],decls:15,vars:5,consts:[[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup"],[1,"modal-body"],[1,"form-floating"],["type","text","id","roleName","placeholder","Administrador","formControlName","name",1,"form-control",3,"ngClass"],["for","roleName"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(e,r){1&e&&(w(0,"div",0)(1,"h1",1),S(2,"A\xf1adir nuevo rol"),E(),w(3,"button",2),j("click",function(){return r.activeModal.dismiss()}),E()(),w(4,"form",3)(5,"div",4)(6,"div",5),U(7,"input",6),w(8,"label",7),S(9,"Nombre del rol"),E()()(),w(10,"div",8)(11,"button",9),j("click",function(){return r.activeModal.close()}),S(12," Cancelar "),E(),w(13,"button",10),j("click",function(){return r.createRole()}),S(14," Crear "),E()()()),2&e&&(M(4),F("formGroup",r.roleForm),M(3),F("ngClass",ke(3,NU,r.roleForm.controls.name.invalid)),M(6),F("disabled",r.roleForm.invalid))},dependencies:[Wr,fr,Nr,$r,Mr,qr,oi]}),t})();function MU(t,n){1&t&&(w(0,"div",6)(1,"div",7)(2,"div",8)(3,"span",9),S(4,"Loading..."),E()(),w(5,"p"),S(6,"Cargando..."),E()()())}function OU(t,n){if(1&t){const e=qe();w(0,"div",10),Zc(1),E(),w(2,"div",11)(3,"ngb-pagination",12),j("pageChange",function(i){return Ee(e),xe(K().page=i)})("pageChange",function(){return Ee(e),xe(K().search())}),E()()}if(2&t){const e=K();M(3),F("collectionSize",e.collectionSize)("maxSize",5)("page",e.page)}}const RU=["*"];let Qi=(()=>{class t{constructor(){this.loading=new In(!0),this.searchInput="",this.collectionSize=0,this.page=1}ngOnInit(){this.search()}search(){this.loading.next(!0),this.searchResult=this.searchFunctionService.search(this.searchInput,this.page-1),this.searchResult.subscribe(e=>{this.collectionSize=e.searchCount,this.loading.next(!1)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["app-search-table"]],inputs:{searchFunctionService:"searchFunctionService"},ngContentSelectors:RU,decls:9,vars:5,consts:[[1,"px-5","py-3","mx-5","my-3","shadow","border","rounded"],[1,"input-group","px-5","py-3"],["type","text","placeholder","B\xfasqueda...",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["class","h-100 d-flex justify-content-center align-items-center",4,"ngIf","ngIfElse"],["table",""],[1,"h-100","d-flex","justify-content-center","align-items-center"],[1,"text-center"],["role","status",1,"spinner-border","text-blue-700"],[1,"visually-hidden"],[1,"flex-1-1-auto","overflow-auto"],[1,"d-flex","justify-content-between","mt-3"],[3,"collectionSize","maxSize","page","pageChange"]],template:function(e,r){if(1&e&&(Yc(),w(0,"div",0)(1,"div",1)(2,"input",2),j("ngModelChange",function(o){return r.searchInput=o}),E(),w(3,"button",3),j("click",function(){return r.search()}),S(4," Buscar "),E()(),Y(5,MU,7,0,"div",4),En(6,"async"),Y(7,OU,4,3,"ng-template",null,5,Sn),E()),2&e){const i=Ke(8);M(2),F("ngModel",r.searchInput),M(3),F("ngIf",xn(6,3,r.loading))("ngIfElse",i)}},dependencies:[fr,Nr,Nn,kA,th,wr]}),t})();function FU(t,n){if(1&t&&(w(0,"tr")(1,"td"),S(2),E(),w(3,"td",11)(4,"button",12),U(5,"i",13),S(6," Ver "),E()()()),2&t){const e=n.$implicit;M(2),Ct(e.name),M(2),Hi("routerLink","/config/roles/",e.id,"")}}let kU=(()=>{class t{constructor(e,r){this.rolesApiService=e,this.modalService=r,this.ROLE_SEARCH_LIMIT=5}showCreateRoleModal(){this.modalService.open(IU,{centered:!0})}}return t.\u0275fac=function(e){return new(e||t)(N(Qh),N(Gt))},t.\u0275cmp=fe({type:t,selectors:[["app-roles"]],decls:21,vars:4,consts:[[1,"h-100","d-flex","flex-column"],[1,"text-700","text-center","m-0"],[1,"text-center","py-2","border-bottom"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-lg"],[1,"h-100"],[3,"searchFunctionService"],["searchTable",""],[1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"btn","btn-sm","btn-primary",3,"routerLink"],[1,"bi","bi-eye-fill"]],template:function(e,r){if(1&e&&(w(0,"div",0),U(1,"app-main-navbar"),w(2,"h1",1),S(3,"Roles"),E(),w(4,"div",2)(5,"button",3),j("click",function(){return r.showCreateRoleModal()}),U(6,"i",4),S(7," Crear rol "),E()(),w(8,"div",5)(9,"app-search-table",6,7)(11,"table",8)(12,"thead")(13,"tr")(14,"th",9),S(15,"Nombre"),E(),w(16,"th",9),S(17,"Acciones"),E()()(),w(18,"tbody"),Y(19,FU,7,2,"tr",10),En(20,"async"),E()()()()()),2&e){const i=Ke(10);let o;M(9),F("searchFunctionService",r.rolesApiService),M(10),F("ngForOf",null==(o=xn(20,2,i.searchResult))?null:o.search)}},dependencies:[cn,fo,qn,Qi,wr]}),t})(),Qu=(()=>{class t extends Xi{search(e,r,i){return kt(this.getClients(e,r,i))}count(){return this.makeSimpleGetRequest("/clients/count")}getClientAccounts(){return this.makeSimpleGetRequest("/clients/accounts")}getClients(e,r,i){return this.makeSearchPaginationRequest("/clients/search",e,r,i)}createClient(e){return this.makeSimplePostRequest("/clients/create",e)}deleteClient(e){return this.promisify((r,i)=>this.httpClient.delete(`${nn_apiUrl}/clients/delete/${e}`,{withCredentials:!0,responseType:"text"}).subscribe({next:o=>r(),error:o=>i(o)}))}getClient(e){return this.makeSimpleGetRequest(`/clients/${e}`)}saveClient(e){return this.httpClient.post(`${nn_apiUrl}/clients`,e)}updateClient(e){return this.promisify((r,i)=>this.httpClient.put(`${nn_apiUrl}/clients/update/${e.id}`,e,{withCredentials:!0}).subscribe({next:o=>r(),error:o=>i(o)}))}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Nt(t)))(r||t)}}(),t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Jl=function(t){return{"is-invalid":t}};let PU=(()=>{class t{constructor(e,r,i,o,c){this.modalService=e,this.activeModal=r,this.clientsApiService=i,this.loaderService=o,this.toastService=c,this.userForm=new Ir({firstName:new Ve("",[Ue.required]),lastName:new Ve("",[Ue.required]),document:new Ve("",[Ue.required]),phone:new Ve("",[Ue.required]),address:new Ve("",[Ue.required]),email:new Ve(null,[Ue.email])})}createClient(){var e=this;return se(function*(){yield e.loaderService.doWithLoadingScreen(se(function*(){try{return yield e.clientsApiService.createClient({firstName:e.userForm.value.firstName,lastName:e.userForm.value.lastName,document:e.userForm.value.document,phone:e.userForm.value.phone,address:e.userForm.value.address,email:e.userForm.value.email??null}),Rt({header:"Cliente creado",body:"Se ha creado el cliente correctamente."})}catch(r){return Ot(r)}})),e.activeModal.close()})()}}return t.\u0275fac=function(e){return new(e||t)(N(Gt),N(rn),N(Qu),N(un),N(Ys))},t.\u0275cmp=fe({type:t,selectors:[["app-create-client-modal"]],decls:35,vars:20,consts:[[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup"],[1,"modal-body"],[1,"form-floating","border","rounded"],["type","text","formControlName","firstName",1,"form-control",3,"ngClass"],[1,"form-floating","mt-2","border","rounded","is-invalid"],["type","text","formControlName","lastName",1,"form-control",3,"ngClass"],[1,"form-floating","mt-2","border","rounded"],["type","text","formControlName","document",1,"form-control",3,"ngClass"],["type","text","formControlName","phone",1,"form-control",3,"ngClass"],["type","text","formControlName","address",1,"form-control",3,"ngClass"],["type","email","formControlName","email",1,"form-control",3,"ngClass"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(e,r){1&e&&(w(0,"div",0)(1,"h1",1),S(2,"Crear cliente"),E(),w(3,"button",2),j("click",function(){return r.activeModal.dismiss()}),E()(),w(4,"form",3)(5,"div",4)(6,"div",5),U(7,"input",6),w(8,"label"),S(9,"Nombres"),E()(),w(10,"div",7),U(11,"input",8),w(12,"label"),S(13,"Apellidos"),E()(),w(14,"div",9),U(15,"input",10),w(16,"label"),S(17,"Documento"),E()(),w(18,"div",9),U(19,"input",11),w(20,"label"),S(21,"Tel\xe9fono"),E()(),w(22,"div",9),U(23,"input",12),w(24,"label"),S(25,"Direcci\xf3n"),E()(),w(26,"div",9),U(27,"input",13),w(28,"label"),S(29,"Correo electr\xf3nico"),E()()(),w(30,"div",14)(31,"button",15),j("click",function(){return r.activeModal.close()}),S(32," Cancelar "),E(),w(33,"button",16),j("click",function(){return r.createClient()}),S(34," Guardar "),E()()()),2&e&&(M(4),F("formGroup",r.userForm),M(3),F("ngClass",ke(8,Jl,r.userForm.controls.firstName.invalid)),M(4),F("ngClass",ke(10,Jl,r.userForm.controls.lastName.invalid)),M(4),F("ngClass",ke(12,Jl,r.userForm.controls.document.invalid)),M(4),F("ngClass",ke(14,Jl,r.userForm.controls.phone.invalid)),M(4),F("ngClass",ke(16,Jl,r.userForm.controls.address.invalid)),M(4),F("ngClass",ke(18,Jl,r.userForm.controls.email.invalid)),M(6),F("disabled",r.userForm.invalid))},dependencies:[Wr,fr,Nr,$r,Mr,qr,oi]}),t})();function LU(t,n){if(1&t&&(w(0,"tr")(1,"td"),S(2),E(),w(3,"td"),S(4),E(),w(5,"td"),S(6),E(),w(7,"td"),S(8),E(),w(9,"td"),S(10),E(),w(11,"td"),S(12),E(),w(13,"td",11)(14,"button",12),U(15,"i",13),S(16," Ver "),E()()()),2&t){const e=n.$implicit;let r;M(2),Ct(e.firstName),M(2),Ct(e.lastName),M(2),Ct(e.phone),M(2),Ct(e.address),M(2),Ct(e.document),M(2),Ct(null!==(r=e.email)&&void 0!==r?r:"Sin correo"),M(2),Hi("routerLink","/clients/",e.id,"")}}let BU=(()=>{class t{constructor(e,r){this.clientsApiService=e,this.modalService=r,this.CLIENT_SEARCH_LIMIT=5}openCreateClientModal(){this.modalService.open(PU,{centered:!0})}}return t.\u0275fac=function(e){return new(e||t)(N(Qu),N(Gt))},t.\u0275cmp=fe({type:t,selectors:[["app-clients"]],decls:31,vars:4,consts:[[1,"h-100","d-flex","flex-column"],[1,"text-700","text-center","m-0"],[1,"text-center","py-2","border-bottom"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-lg"],[1,"h-100","mh-100","overflow-auto"],[3,"searchFunctionService"],["searchTable",""],[1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"btn","btn-sm","btn-primary",3,"routerLink"],[1,"bi","bi-eye-fill"]],template:function(e,r){if(1&e&&(w(0,"div",0),U(1,"app-main-navbar"),w(2,"h1",1),S(3,"Clientes"),E(),w(4,"div",2)(5,"button",3),j("click",function(){return r.openCreateClientModal()}),U(6,"i",4),S(7," Crear cliente "),E()(),w(8,"div",5)(9,"app-search-table",6,7)(11,"table",8)(12,"thead")(13,"tr")(14,"th",9),S(15,"Nombres"),E(),w(16,"th",9),S(17,"Apellidos"),E(),w(18,"th",9),S(19,"Tel\xe9fono"),E(),w(20,"th",9),S(21,"Direcci\xf3n"),E(),w(22,"th",9),S(23,"Documento"),E(),w(24,"th",9),S(25,"Correo"),E(),w(26,"th",9),S(27,"Acciones"),E()()(),w(28,"tbody"),Y(29,LU,17,7,"tr",10),En(30,"async"),E()()()()()),2&e){const i=Ke(10);let o;M(9),F("searchFunctionService",r.clientsApiService),M(20),F("ngForOf",null==(o=xn(30,2,i.searchResult))?null:o.search)}},dependencies:[cn,fo,qn,Qi,wr]}),t})(),e_=(()=>{class t extends Xi{search(e,r,i){return kt(this.getPlaces(e,r,i))}count(){throw new Error("Method not implemented.")}getPlaces(e,r,i){var o=this;return se(function*(){return o.makeSearchPaginationRequest("/places/search",e,r,i)})()}getPlace(e){var r=this;return se(function*(){return r.makeSimpleGetRequest(`/places/get/${e}`)})()}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Nt(t)))(r||t)}}(),t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function UU(t,n){if(1&t){const e=qe();w(0,"tr")(1,"td"),S(2),U(3,"br"),w(4,"span",9),S(5),E()(),w(6,"td",10)(7,"button",11),j("click",function(){const o=Ee(e).$implicit;return xe(K().selectPlace(o))}),S(8," Seleccionar "),E()()()}if(2&t){const e=n.$implicit;M(2),ht(" ",e.name," "),M(3),ht(" ",e.parentPlace?e.parentPlace.name:"Departamento"," ")}}let t_=(()=>{class t{constructor(e,r,i){this.placesApiService=e,this.activeModal=r,this.modalService=i}selectPlace(e){this.activeModal.close(e)}}return t.\u0275fac=function(e){return new(e||t)(N(e_),N(rn),N(Gt))},t.\u0275cmp=fe({type:t,selectors:[["app-select-place-modal"]],decls:17,vars:4,consts:[[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal",1,"btn-close",3,"click"],[1,"modal-body"],[3,"searchFunctionService"],["searchTable",""],[1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"badge","text-bg-primary"],[1,"text-center"],[1,"btn","btn-sm","btn-primary",3,"click"]],template:function(e,r){if(1&e&&(w(0,"div",0)(1,"h1",1),S(2,"Seleccionar lugar"),E(),w(3,"button",2),j("click",function(){return r.activeModal.dismiss()}),E()(),w(4,"div",3)(5,"app-search-table",4,5)(7,"table",6)(8,"thead")(9,"tr")(10,"th",7),S(11,"Nombres"),E(),w(12,"th",7),S(13,"Acciones"),E()()(),w(14,"tbody"),Y(15,UU,9,2,"tr",8),En(16,"async"),E()()()()),2&e){const i=Ke(6);let o;M(5),F("searchFunctionService",r.placesApiService),M(10),F("ngForOf",null==(o=xn(16,2,i.searchResult))?null:o.search)}},dependencies:[cn,Qi,wr]}),t})(),Ku=(()=>{class t extends Xi{search(e,r,i){return kt(this.getZones(e,r,i))}count(){return this.makeSimpleGetRequest("/zones/count")}getZones(e,r,i){return this.makeSearchPaginationRequest("/zones/search",e,r,i)}getZone(e){return kt(this.makeSimpleGetRequest(`/zones/${e}`))}saveZone(e){return this.httpClient.post(`${nn_apiUrl}/zones`,e)}updateZone(e){return this.promisify((r,i)=>this.httpClient.put(`${nn_apiUrl}/zones/update/${e.id}`,e,{withCredentials:!0}).subscribe({next:o=>r(),error:o=>i(o)}))}deleteZone(e){return this.promisify((r,i)=>this.httpClient.delete(`${nn_apiUrl}/zones/delete/${e}`,{withCredentials:!0,responseType:"text"}).subscribe({next:o=>r(),error:o=>i(o)}))}createZone(e){return this.makeSimplePostRequest("/zones/create",e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Nt(t)))(r||t)}}(),t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const n_=function(t){return{"is-invalid":t}};let VU=(()=>{class t{constructor(e,r,i,o){this.modalService=e,this.activeModal=r,this.loaderService=i,this.zoneApiService=o,this.zoneForm=new Ir({name:new Ve("",[Ue.required]),code:new Ve("",[Ue.required]),place:new Ve(null,[Ue.required])})}openSelectPlace(){this.modalService.open(t_,{centered:!0,size:"lg"}).result.then(e=>{e&&this.zoneForm.patchValue({place:e})},e=>{})}createZone(){var e=this;return se(function*(){yield e.loaderService.doWithLoadingScreen(se(function*(){try{return yield e.zoneApiService.createZone({name:e.zoneForm.value.name,code:e.zoneForm.value.code,place:e.zoneForm.value.place}),Rt({header:"Zona creada",body:"Se ha creado la zona correctamente."})}catch(r){return Ot(r)}})),e.activeModal.close()})()}}return t.\u0275fac=function(e){return new(e||t)(N(Gt),N(rn),N(un),N(Ku))},t.\u0275cmp=fe({type:t,selectors:[["app-create-zone-modal"]],decls:23,vars:12,consts:[[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup"],[1,"modal-body"],[1,"form-floating","border","rounded"],["type","text","formControlName","name",1,"form-control",3,"ngClass"],[1,"form-floating","mt-2","border","rounded","is-invalid"],["type","text","formControlName","code",1,"form-control",3,"ngClass"],[1,"input-group","mt-2","border","rounded"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","text","readonly","","placeholder","Sin un lugar seleccionado",1,"form-control",3,"value","ngClass"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(e,r){1&e&&(w(0,"div",0)(1,"h1",1),S(2,"Crear zona"),E(),w(3,"button",2),j("click",function(){return r.activeModal.dismiss()}),E()(),w(4,"form",3)(5,"div",4)(6,"div",5),U(7,"input",6),w(8,"label"),S(9,"Nombre"),E()(),w(10,"div",7),U(11,"input",8),w(12,"label"),S(13,"Codigo"),E()(),w(14,"div",9)(15,"button",10),j("click",function(){return r.openSelectPlace()}),S(16," Seleccionar lugar "),E(),U(17,"input",11),E(),w(18,"div",12)(19,"button",13),j("click",function(){return r.activeModal.close()}),S(20," Cancelar "),E(),w(21,"button",14),j("click",function(){return r.createZone()}),S(22," Guardar "),E()()()()),2&e&&(M(4),F("formGroup",r.zoneForm),M(3),F("ngClass",ke(6,n_,r.zoneForm.controls.name.invalid)),M(4),F("ngClass",ke(8,n_,r.zoneForm.controls.code.invalid)),M(6),F("value",null==r.zoneForm.value.place?null:r.zoneForm.value.place.name)("ngClass",ke(10,n_,r.zoneForm.controls.place.invalid)),M(4),F("disabled",r.zoneForm.invalid))},dependencies:[Wr,fr,Nr,$r,Mr,qr,oi]}),t})();function HU(t,n){if(1&t&&(w(0,"tr")(1,"td"),S(2),E(),w(3,"td"),S(4),E(),w(5,"td",11)(6,"button",12),U(7,"i",13),S(8," Ver "),E()()()),2&t){const e=n.$implicit;M(2),Ct(e.name),M(2),Ct(e.code),M(2),Hi("routerLink","/zones/",e.id,"")}}let jU=(()=>{class t{constructor(e,r){this.zonesApiService=e,this.modalService=r,this.zones=[]}openCreateZoneModal(){this.modalService.open(VU,{centered:!0})}}return t.\u0275fac=function(e){return new(e||t)(N(Ku),N(Gt))},t.\u0275cmp=fe({type:t,selectors:[["app-zones"]],decls:23,vars:4,consts:[[1,"h-100","d-flex","flex-column"],[1,"text-700","text-center","m-0"],[1,"text-center","py-2","border-bottom"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-lg"],[1,"h-100","overflow-auto","mh-100"],[3,"searchFunctionService"],["searchTable",""],[1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"btn","btn-sm","btn-primary",3,"routerLink"],[1,"bi","bi-eye-fill"]],template:function(e,r){if(1&e&&(w(0,"div",0),U(1,"app-main-navbar"),w(2,"h1",1),S(3,"Zonas"),E(),w(4,"div",2)(5,"button",3),j("click",function(){return r.openCreateZoneModal()}),U(6,"i",4),S(7," Crear zona "),E()(),w(8,"div",5)(9,"app-search-table",6,7)(11,"table",8)(12,"thead")(13,"tr")(14,"th",9),S(15,"Nombre"),E(),w(16,"th",9),S(17,"C\xf3digo"),E(),w(18,"th",9),S(19,"Acciones"),E()()(),w(20,"tbody"),Y(21,HU,9,3,"tr",10),En(22,"async"),E()()()()()),2&e){const i=Ke(10);let o;M(9),F("searchFunctionService",r.zonesApiService),M(12),F("ngForOf",null==(o=xn(22,2,i.searchResult))?null:o.search)}},dependencies:[qn,Qi,fo,cn,wr]}),t})(),GU=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["app-config"]],decls:38,vars:0,consts:[[1,"h-100","d-flex","flex-column"],[1,"text-700","text-center"],[1,"flex-1-1-auto","m-auto","mt-3"],[1,"list-group","px-5"],["routerLink","/config/actions",1,"list-group-item","list-group-item-action","d-flex","gap-3","py-3"],[1,"bi","bi-clipboard2-check-fill","fs-2"],[1,"d-flex","gap-2","w-100","justify-content-between","align-items-center"],[1,"mb-0"],[1,"mb-0","opacity-75"],["routerLink","/config/places",1,"list-group-item","list-group-item-action","d-flex","gap-3","py-3"],[1,"bi","bi-geo-alt-fill","fs-2"],["routerLink","/config/roles",1,"list-group-item","list-group-item-action","d-flex","gap-3","py-3"],[1,"bi","bi-person-lines-fill","fs-2"],["routerLink","/config/invoices",1,"list-group-item","list-group-item-action","d-flex","gap-3","py-3"],[1,"bi","bi-receipt","fs-2"]],template:function(e,r){1&e&&(w(0,"div",0),U(1,"app-main-navbar"),w(2,"h1",1),S(3,"Configuraci\xf3n"),E(),w(4,"div",2)(5,"div",3)(6,"a",4),U(7,"i",5),w(8,"div",6)(9,"div")(10,"h6",7),S(11,"Auditor\xeda"),E(),w(12,"p",8),S(13," Informaci\xf3n sobre las acciones realizadas en la plataforma. "),E()()()(),w(14,"a",9),U(15,"i",10),w(16,"div",6)(17,"div")(18,"h6",7),S(19,"Lugares"),E(),w(20,"p",8),S(21," Informaci\xf3n sobre los lugares registrados en la plataforma. "),E()()()(),w(22,"a",11),U(23,"i",12),w(24,"div",6)(25,"div")(26,"h6",7),S(27,"Roles"),E(),w(28,"p",8),S(29," Configuraci\xf3n relacionada con los roles y permisos. "),E()()()(),w(30,"a",13),U(31,"i",14),w(32,"div",6)(33,"div")(34,"h6",7),S(35,"Facturaci\xf3n"),E(),w(36,"p",8),S(37," Configuraci\xf3n relacionada con las facturas y su generaci\xf3n. "),E()()()()()()())},dependencies:[Ta,qn]}),t})();function zU(t,n){if(1&t){const e=qe();w(0,"tr")(1,"td"),S(2),E(),w(3,"td",13)(4,"button",14),j("click",function(){const o=Ee(e).$implicit;return xe(K().selectRole(o))}),S(5," Seleccionar "),E()()()}if(2&t){const e=n.$implicit;M(2),Ct(e.name)}}let JA=(()=>{class t{constructor(e,r,i){this.rolesApiService=e,this.activeModal=r,this.modalService=i,this.ROLE_SEARCH_LIMIT=5}selectRole(e){this.activeModal.close(e)}closeAll(){this.modalService.dismissAll()}}return t.\u0275fac=function(e){return new(e||t)(N(Qh),N(rn),N(Gt))},t.\u0275cmp=fe({type:t,selectors:[["app-select-role-modal"]],decls:23,vars:4,consts:[[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal",1,"btn-close",3,"click"],[1,"modal-body"],[3,"searchFunctionService"],["searchTable",""],[1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","align-items-center"],[1,"small","p-0","m-0"],["type","button","routerLink","/config/roles",1,"btn","btn-sm","btn-secondary","ms-2",3,"click"],[1,"bi","bi-box-arrow-right"],[1,"text-center"],[1,"btn","btn-sm","btn-primary",3,"click"]],template:function(e,r){if(1&e&&(w(0,"div",0)(1,"h1",1),S(2,"Seleccionar rol"),E(),w(3,"button",2),j("click",function(){return r.activeModal.dismiss()}),E()(),w(4,"div",3)(5,"app-search-table",4,5)(7,"table",6)(8,"thead")(9,"tr")(10,"th",7),S(11,"Nombres"),E(),w(12,"th",7),S(13,"Acciones"),E()()(),w(14,"tbody"),Y(15,zU,6,1,"tr",8),En(16,"async"),E()()(),w(17,"div",9)(18,"p",10),S(19," Si no encuentras el rol, puedes crear uno nuevo: "),E(),w(20,"button",11),j("click",function(){return r.closeAll()}),U(21,"i",12),S(22," Crear rol "),E()()()),2&e){const i=Ke(6);let o;M(5),F("searchFunctionService",r.rolesApiService),M(10),F("ngForOf",null==(o=xn(16,2,i.searchResult))?null:o.search)}},dependencies:[cn,fo,Qi,wr]}),t})();const Ju=function(t){return{"is-invalid":t}};let $U=(()=>{class t{constructor(e,r,i,o){this.modalService=e,this.activeModal=r,this.usersApiService=i,this.loaderService=o,this.userForm=new Ir({firstName:new Ve("",[Ue.required]),lastName:new Ve("",[Ue.required]),email:new Ve("",[Ue.required,Ue.email]),password:new Ve("",[Ue.required,Ue.minLength(6)]),role:new Ve(null,{validators:[Ue.required]})})}openSelectRole(){this.modalService.open(JA,{centered:!0,size:"lg"}).result.then(e=>{e&&this.userForm.patchValue({role:e})},e=>{})}createUser(){var e=this;return se(function*(){yield e.loaderService.doWithLoadingScreen(se(function*(){try{return yield e.usersApiService.createUser({firstName:e.userForm.value.firstName,lastName:e.userForm.value.lastName,email:e.userForm.value.email,password:e.userForm.value.password,role:e.userForm.value.role}),Rt({header:"Usuario creado",body:"El usuario se ha creado correctamente."})}catch(r){return Ot(r)}})),e.activeModal.close()})()}}return t.\u0275fac=function(e){return new(e||t)(N(Gt),N(rn),N(Kl),N(un))},t.\u0275cmp=fe({type:t,selectors:[["app-create-user-modal"]],decls:31,vars:18,consts:[[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup"],[1,"modal-body"],[1,"form-floating","border","rounded"],["type","text","formControlName","firstName",1,"form-control",3,"ngClass"],[1,"form-floating","mt-2","border","rounded","is-invalid"],["type","text","formControlName","lastName",1,"form-control",3,"ngClass"],[1,"form-floating","mt-2","border","rounded"],["type","email","formControlName","email",1,"form-control",3,"ngClass"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"input-group","mt-2","border","rounded"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","text","readonly","","placeholder","Sin un rol seleccionado",1,"form-control",3,"value","ngClass"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(e,r){1&e&&(w(0,"div",0)(1,"h1",1),S(2,"Crear usuario"),E(),w(3,"button",2),j("click",function(){return r.activeModal.dismiss()}),E()(),w(4,"form",3)(5,"div",4)(6,"div",5),U(7,"input",6),w(8,"label"),S(9,"Nombres"),E()(),w(10,"div",7),U(11,"input",8),w(12,"label"),S(13,"Apellidos"),E()(),w(14,"div",9),U(15,"input",10),w(16,"label"),S(17,"Correo electr\xf3nico"),E()(),w(18,"div",9),U(19,"input",11),w(20,"label"),S(21,"Contrase\xf1a"),E()(),w(22,"div",12)(23,"button",13),j("click",function(){return r.openSelectRole()}),S(24," Seleccionar rol "),E(),U(25,"input",14),E()(),w(26,"div",15)(27,"button",16),j("click",function(){return r.activeModal.close()}),S(28," Cancelar "),E(),w(29,"button",17),j("click",function(){return r.createUser()}),S(30," Guardar "),E()()()),2&e&&(M(4),F("formGroup",r.userForm),M(3),F("ngClass",ke(8,Ju,r.userForm.controls.firstName.invalid)),M(4),F("ngClass",ke(10,Ju,r.userForm.controls.lastName.invalid)),M(4),F("ngClass",ke(12,Ju,r.userForm.controls.email.invalid)),M(4),F("ngClass",ke(14,Ju,r.userForm.controls.password.invalid)),M(6),F("value",null==r.userForm.value.role?null:r.userForm.value.role.name)("ngClass",ke(16,Ju,r.userForm.controls.role.invalid)),M(4),F("disabled",r.userForm.invalid))},dependencies:[Wr,fr,Nr,$r,Mr,qr,oi]}),t})();function WU(t,n){if(1&t&&(w(0,"tr")(1,"td"),S(2),E(),w(3,"td"),S(4),E(),w(5,"td"),S(6),E(),w(7,"td"),S(8),E(),w(9,"td",11)(10,"button",12),U(11,"i",13),S(12," Ver "),E()()()),2&t){const e=n.$implicit;M(2),Ct(e.firstName),M(2),Ct(e.lastName),M(2),Ct(e.email),M(2),Ct(e.role.name),M(2),Hi("routerLink","/users/",e.id,"")}}let qU=(()=>{class t{constructor(e,r){this.usersApiService=e,this.modalService=r,this.USER_SEARCH_LIMIT=5}openCreateUserModal(){this.modalService.open($U,{centered:!0}).closed.subscribe(r=>{console.log(r)})}}return t.\u0275fac=function(e){return new(e||t)(N(Kl),N(Gt))},t.\u0275cmp=fe({type:t,selectors:[["app-users"]],decls:27,vars:4,consts:[[1,"h-100","d-flex","flex-column"],[1,"text-700","text-center","m-0"],[1,"text-center","py-2","border-bottom"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-lg"],[1,"h-100"],[3,"searchFunctionService"],["searchTable",""],[1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"btn","btn-sm","btn-primary",3,"routerLink"],[1,"bi","bi-eye-fill"]],template:function(e,r){if(1&e&&(w(0,"div",0),U(1,"app-main-navbar"),w(2,"h1",1),S(3,"Usuarios"),E(),w(4,"div",2)(5,"button",3),j("click",function(){return r.openCreateUserModal()}),U(6,"i",4),S(7," Crear usuario "),E()(),w(8,"div",5)(9,"app-search-table",6,7)(11,"table",8)(12,"thead")(13,"tr")(14,"th",9),S(15,"Nombres"),E(),w(16,"th",9),S(17,"Apellidos"),E(),w(18,"th",9),S(19,"Correo"),E(),w(20,"th",9),S(21,"Rol"),E(),w(22,"th",9),S(23,"Acciones"),E()()(),w(24,"tbody"),Y(25,WU,13,5,"tr",10),En(26,"async"),E()()()()()),2&e){const i=Ke(10);let o;M(9),F("searchFunctionService",r.usersApiService),M(16),F("ngForOf",null==(o=xn(26,2,i.searchResult))?null:o.search)}},dependencies:[qn,Qi,fo,cn,wr]}),t})(),Vo=(()=>{class t extends Xi{search(e,r,i){return kt(this.getHardware(e,r,i))}count(){throw new Error("Method not implemented.")}getHardware(e,r,i){var o=this;return se(function*(){return o.makeSearchPaginationRequest("/hardware/search",e,r,i)})()}createHardware(e){return this.makeSimplePostRequest("/hardware/create",e)}createHardwareOnZones(e){return this.makeSimplePostRequest("/hardware-on-zones/create",e)}createHardwareOnClients(e){return this.makeSimplePostRequest("/hardware-on-clients/create",e)}getHardwareOnClientsByClientAccountId(e){return this.makeSimpleGetRequest(`/hardware-on-clients/${e}`)}getHardwareOnZonesByZoneId(e){return this.makeSimpleGetRequest(`/hardware-on-zones/${e}`)}getHardwareById(e){var r=this;return se(function*(){return r.makeSimpleGetRequest(`/hardware/${e}`)})()}updateHardware(e){return this.promisify((r,i)=>this.httpClient.put(`${nn_apiUrl}/hardware/update/${e.id}`,e,{withCredentials:!0}).subscribe({next:o=>r(),error:o=>i(o)}))}deleteHardwareOnZone(e){return console.log(e),this.promisify((r,i)=>this.httpClient.delete(`${nn_apiUrl}/hardware-on-zones/delete/${e.id}`,{withCredentials:!0}).subscribe({next:o=>r(),error:o=>i(o)}))}deleteHardwareOnClient(e){return console.log(e),this.promisify((r,i)=>this.httpClient.delete(`${nn_apiUrl}/hardware-on-clients/delete/${e.id}`,{withCredentials:!0}).subscribe({next:o=>r(),error:o=>i(o)}))}deleteHardware(e){return this.promisify((r,i)=>this.httpClient.delete(`${nn_apiUrl}/hardware/delete/${e.id}`,{withCredentials:!0}).subscribe({next:o=>r(),error:o=>i(o)}))}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Nt(t)))(r||t)}}(),t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const r_=function(t){return{"is-invalid":t}};let YU=(()=>{class t{constructor(e,r,i,o){this.modalService=e,this.activeModal=r,this.loaderService=i,this.hardwareApiService=o,this.hardwareForm=new Ir({name:new Ve("",[Ue.required]),model:new Ve("",[Ue.required]),details:new Ve("",[Ue.required])})}createHardware(){var e=this;return se(function*(){yield e.loaderService.doWithLoadingScreen(se(function*(){try{return yield e.hardwareApiService.createHardware({name:e.hardwareForm.value.name,model:e.hardwareForm.value.model,details:e.hardwareForm.value.details}),Rt({header:"Equipo creado",body:"Se ha creado el equipo correctamente"})}catch(r){return Ot(r)}})),e.activeModal.close()})()}}return t.\u0275fac=function(e){return new(e||t)(N(Gt),N(rn),N(un),N(Vo))},t.\u0275cmp=fe({type:t,selectors:[["app-create-hardware-modal"]],decls:23,vars:11,consts:[[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup"],[1,"modal-body"],[1,"form-floating","border","rounded","mb-2"],["type","text","formControlName","name",1,"form-control",3,"ngClass"],["type","text","formControlName","model",1,"form-control",3,"ngClass"],[1,"form-floating","border","rounded","is-invalid"],["formControlName","details","type","text",1,"form-control",2,"min-height","10em",3,"ngClass"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(e,r){1&e&&(w(0,"div",0)(1,"h1",1),S(2,"Crear equipo"),E(),w(3,"button",2),j("click",function(){return r.activeModal.dismiss()}),E()(),w(4,"form",3)(5,"div",4)(6,"div",5),U(7,"input",6),w(8,"label"),S(9,"Nombre"),E()(),w(10,"div",5),U(11,"input",7),w(12,"label"),S(13,"Modelo"),E()(),w(14,"div",8),U(15,"textarea",9),w(16,"label"),S(17,"Detalles"),E()(),w(18,"div",10)(19,"button",11),j("click",function(){return r.activeModal.close()}),S(20," Cancelar "),E(),w(21,"button",12),j("click",function(){return r.createHardware()}),S(22," Guardar "),E()()()()),2&e&&(M(4),F("formGroup",r.hardwareForm),M(3),F("ngClass",ke(5,r_,r.hardwareForm.controls.name.invalid)),M(4),F("ngClass",ke(7,r_,r.hardwareForm.controls.model.invalid)),M(4),F("ngClass",ke(9,r_,r.hardwareForm.controls.details.invalid)),M(6),F("disabled",r.hardwareForm.invalid))},dependencies:[Wr,fr,Nr,$r,Mr,qr,oi]}),t})();function ZU(t,n){if(1&t&&(w(0,"tr")(1,"td"),S(2),E(),w(3,"td"),S(4),E(),w(5,"td",11)(6,"button",12),U(7,"i",13),S(8," Ver "),E()()()),2&t){const e=n.$implicit;M(2),Ct(e.name),M(2),Ct(e.model),M(2),Hi("routerLink","/hardware/",e.id,"")}}let XU=(()=>{class t{constructor(e,r){this.modalService=e,this.hardwareApiService=r}openCreateHardwareModal(){this.modalService.open(YU,{centered:!0})}}return t.\u0275fac=function(e){return new(e||t)(N(Gt),N(Vo))},t.\u0275cmp=fe({type:t,selectors:[["app-hardware"]],decls:23,vars:4,consts:[[1,"h-100","d-flex","flex-column"],[1,"text-700","text-center","m-0"],[1,"text-center","py-2","border-bottom"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-lg"],[1,"h-100","overflow-auto","mh-100"],[3,"searchFunctionService"],["searchTable",""],[1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"btn","btn-sm","btn-primary",3,"routerLink"],[1,"bi","bi-eye-fill"]],template:function(e,r){if(1&e&&(w(0,"div",0),U(1,"app-main-navbar"),w(2,"h1",1),S(3,"Equipos"),E(),w(4,"div",2)(5,"button",3),j("click",function(){return r.openCreateHardwareModal()}),U(6,"i",4),S(7," Crear equipo "),E()(),w(8,"div",5)(9,"app-search-table",6,7)(11,"table",8)(12,"thead")(13,"tr")(14,"th",9),S(15,"Nombre"),E(),w(16,"th",9),S(17,"Modelo"),E(),w(18,"th",9),S(19,"Acciones"),E()()(),w(20,"tbody"),Y(21,ZU,9,3,"tr",10),En(22,"async"),E()()()()()),2&e){const i=Ke(10);let o;M(9),F("searchFunctionService",r.hardwareApiService),M(12),F("ngForOf",null==(o=xn(22,2,i.searchResult))?null:o.search)}},dependencies:[qn,Qi,fo,cn,wr]}),t})();class Kh{constructor(n,e,r,i,o){this.id=n,this.role=e,this.firstName=r,this.lastName=i,this.email=o}}let QU=(()=>{class t{constructor(e,r,i,o){this.usersApiService=e,this.loaderService=r,this.user=i,this.activeModal=o}deleteUser(){var e=this;return se(function*(){yield e.loaderService.doWithLoadingScreen(se(function*(){try{return yield e.usersApiService.deleteUser(e.user.id),Rt({header:"Usuario Eliminado",body:"Se ha eliminado el usuario correctamente."})}catch(r){return Ot(r)}})),e.activeModal.close()})()}}return t.\u0275fac=function(e){return new(e||t)(N(Kl),N(un),N(Kh),N(rn))},t.\u0275cmp=fe({type:t,selectors:[["app-delete-user-modal"]],decls:11,vars:0,consts:[[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,r){1&e&&(w(0,"div",0)(1,"h1",1),S(2,"Eliminar usuario"),E(),w(3,"button",2),j("click",function(){return r.activeModal.dismiss()}),E()(),w(4,"div",3),S(5,"\xbfEst\xe1s seguro que deseas eliminar el usuario?"),E(),w(6,"div",4)(7,"button",5),j("click",function(){return r.activeModal.close()}),S(8," Cancelar "),E(),w(9,"button",6),j("click",function(){return r.deleteUser()}),S(10," Eliminar "),E()())}}),t})();const Jh=function(t){return{"is-invalid":t}};let KU=(()=>{class t{constructor(e,r,i,o,c){this.modalService=e,this.activeModal=r,this.user=i,this.usersApiService=o,this.loaderService=c,this.userForm=new Ir({firstName:new Ve(this.user.firstName,[Ue.required]),lastName:new Ve(this.user.lastName,[Ue.required]),email:new Ve(this.user.email,[Ue.required,Ue.email]),role:new Ve(this.user.role,{nonNullable:!0,validators:[Ue.required]})})}openSelectRole(){this.modalService.open(JA,{centered:!0,size:"lg"}).result.then(e=>{e&&(this.userForm.value.role=e)},e=>{})}editUser(){var e=this;return se(function*(){yield e.loaderService.doWithLoadingScreen(se(function*(){try{return yield e.usersApiService.updateUser({id:e.user.id,firstName:e.userForm.value.firstName,lastName:e.userForm.value.lastName,role:e.userForm.value.role,email:e.userForm.value.email}),Rt({header:"Usuario editado",body:"Se ha editado el usuario correctamente."})}catch(r){return Ot(r)}})),e.activeModal.close()})()}}return t.\u0275fac=function(e){return new(e||t)(N(Gt),N(rn),N(Kh),N(Kl),N(un))},t.\u0275cmp=fe({type:t,selectors:[["app-edit-user-modal"]],decls:27,vars:15,consts:[[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup"],[1,"modal-body"],[1,"form-floating","border","rounded"],["type","text","formControlName","firstName",1,"form-control",3,"ngClass"],[1,"form-floating","mt-2","border","rounded","is-invalid"],["type","text","formControlName","lastName",1,"form-control",3,"ngClass"],[1,"form-floating","mt-2","border","rounded"],["type","email","formControlName","email",1,"form-control",3,"ngClass"],[1,"input-group","mt-2","border","rounded"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","text","readonly","","placeholder","Sin un rol seleccionado",1,"form-control",3,"value","ngClass"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(e,r){1&e&&(w(0,"div",0)(1,"h1",1),S(2,"Editar usuario"),E(),w(3,"button",2),j("click",function(){return r.activeModal.dismiss()}),E()(),w(4,"form",3)(5,"div",4)(6,"div",5),U(7,"input",6),w(8,"label"),S(9,"Nombres"),E()(),w(10,"div",7),U(11,"input",8),w(12,"label"),S(13,"Apellidos"),E()(),w(14,"div",9),U(15,"input",10),w(16,"label"),S(17,"Correo electr\xf3nico"),E()(),w(18,"div",11)(19,"button",12),j("click",function(){return r.openSelectRole()}),S(20," Seleccionar rol "),E(),U(21,"input",13),E()(),w(22,"div",14)(23,"button",15),j("click",function(){return r.activeModal.close()}),S(24," Cancelar "),E(),w(25,"button",16),j("click",function(){return r.editUser()}),S(26," Guardar "),E()()()),2&e&&(M(4),F("formGroup",r.userForm),M(3),F("ngClass",ke(7,Jh,r.userForm.controls.firstName.invalid)),M(4),F("ngClass",ke(9,Jh,r.userForm.controls.lastName.invalid)),M(4),F("ngClass",ke(11,Jh,r.userForm.controls.email.invalid)),M(6),F("value",r.userForm.value.role.name)("ngClass",ke(13,Jh,r.userForm.controls.role.invalid)),M(4),F("disabled",r.userForm.invalid))},dependencies:[Wr,fr,Nr,$r,Mr,qr,oi]}),t})();function JU(t,n){1&t&&U(0,"app-loader",3)}function eV(t,n){if(1&t){const e=qe();w(0,"div")(1,"h2",4),S(2,"Usuario"),E(),w(3,"h6",5),S(4),E(),w(5,"div",6)(6,"div",7)(7,"div",8)(8,"div",9),U(9,"input",10),w(10,"label"),S(11,"Nombres"),E()()(),w(12,"div",11)(13,"div",12),U(14,"input",10),w(15,"label"),S(16,"Apellidos"),E()()()(),w(17,"div",13),U(18,"input",10),w(19,"label"),S(20,"Correo electr\xf3nico"),E()(),w(21,"div",13),U(22,"input",10),w(23,"label"),S(24,"Rol"),E()(),w(25,"div",14)(26,"button",15),j("click",function(){return Ee(e),xe(K().openEditUserModal())}),U(27,"i",16),S(28," Editar "),E(),w(29,"button",17),j("click",function(){return Ee(e),xe(K().openDeleteUserModal())}),U(30,"i",18),S(31," Eliminar "),E()()()()}if(2&t){const e=K();M(4),Nl(" ",e.user.firstName," ",e.user.lastName," "),M(5),F("value",e.user.firstName),M(5),F("value",e.user.lastName),M(4),F("value",e.user.email),M(4),F("value",e.user.role.name)}}let tV=(()=>{class t{constructor(e,r,i){this.route=e,this.usersApiService=r,this.modalService=i}ngOnInit(){var e=this;return se(function*(){e.user=yield e.usersApiService.getUser(e.route.snapshot.params.userId)})()}openEditUserModal(){this.modalService.open(KU,{centered:!0,injector:St.create({providers:[{provide:Kh,useValue:this.user}]})})}openDeleteUserModal(){this.modalService.open(QU,{centered:!0,injector:St.create({providers:[{provide:Kh,useValue:this.user}]})})}}return t.\u0275fac=function(e){return new(e||t)(N(gi),N(Kl),N(Gt))},t.\u0275cmp=fe({type:t,selectors:[["app-show-user"]],decls:4,vars:2,consts:[[1,"h-100","d-flex","flex-column"],["class","h-100",4,"ngIf"],[4,"ngIf"],[1,"h-100"],[1,"text-700","text-center"],[1,"text-600","text-center","border-bottom","pb-3"],[1,"container"],[1,"row"],[1,"col-12","col-sm-6"],[1,"form-floating","mb-2","m-sm-0","border","rounded"],["type","text","readonly","",1,"form-control-plaintext",3,"value"],[1,"col"],[1,"form-floating","border","rounded"],[1,"form-floating","mt-2","border","rounded"],[1,"d-flex","justify-content-end","gap-2","mt-2"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-pen-fill"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"bi","bi-trash-fill"]],template:function(e,r){1&e&&(w(0,"div",0),U(1,"app-main-navbar"),Y(2,JU,1,0,"app-loader",1),Y(3,eV,32,6,"div",2),E()),2&e&&(M(2),F("ngIf",!r.user),M(1),F("ngIf",r.user))},dependencies:[qn,gs,Nn]}),t})();class ec{constructor(n,e,r,i,o,c,f,p){this.id=n,this.firstName=e,this.lastName=r,this.document=i,this.phone=o,this.address=c,this.clientAccount=f,this.email=p}}const tc=function(t){return{"is-invalid":t}};let nV=(()=>{class t{constructor(e,r,i,o){this.activeModal=e,this.client=r,this.loaderService=i,this.clientApiService=o,this.clientForm=new Ir({firstName:new Ve(this.client.firstName,[Ue.required]),lastName:new Ve(this.client.lastName,[Ue.required]),document:new Ve(this.client.document,[Ue.required]),phone:new Ve(this.client.phone,[Ue.required]),address:new Ve(this.client.address,[Ue.required]),email:new Ve(null,[Ue.email])})}editClient(){var e=this;return se(function*(){yield e.loaderService.doWithLoadingScreen(se(function*(){try{return yield e.clientApiService.updateClient({id:e.client.id,firstName:e.clientForm.value.firstName,lastName:e.clientForm.value.lastName,document:e.clientForm.value.document,phone:e.clientForm.value.phone,address:e.clientForm.value.address,email:e.clientForm.value.email}),Rt({header:"Cliente editado",body:"Se ha editado el cliente correctamente"})}catch(r){return Ot(r)}})),e.activeModal.close()})()}}return t.\u0275fac=function(e){return new(e||t)(N(rn),N(ec),N(un),N(Qu))},t.\u0275cmp=fe({type:t,selectors:[["app-edit-client-modal"]],decls:35,vars:20,consts:[[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup"],[1,"modal-body"],[1,"form-floating","border","rounded"],["type","text","formControlName","firstName",1,"form-control",3,"ngClass"],[1,"form-floating","mt-2","border","rounded","is-invalid"],["type","text","formControlName","lastName",1,"form-control",3,"ngClass"],["type","text","formControlName","document",1,"form-control",3,"ngClass"],["type","text","formControlName","phone",1,"form-control",3,"ngClass"],["type","text","formControlName","address",1,"form-control",3,"ngClass"],[1,"form-floating","mt-2","border","rounded"],["type","email","formControlName","email",1,"form-control",3,"ngClass"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(e,r){1&e&&(w(0,"div",0)(1,"h1",1),S(2,"Editar Cliente"),E(),w(3,"button",2),j("click",function(){return r.activeModal.dismiss()}),E()(),w(4,"form",3)(5,"div",4)(6,"div",5),U(7,"input",6),w(8,"label"),S(9,"Nombres"),E()(),w(10,"div",7),U(11,"input",8),w(12,"label"),S(13,"Apellidos"),E()(),w(14,"div",7),U(15,"input",9),w(16,"label"),S(17,"Documento"),E()(),w(18,"div",7),U(19,"input",10),w(20,"label"),S(21,"Telefono"),E()(),w(22,"div",7),U(23,"input",11),w(24,"label"),S(25,"Direccion"),E()(),w(26,"div",12),U(27,"input",13),w(28,"label"),S(29,"Correo electr\xf3nico"),E()()(),w(30,"div",14)(31,"button",15),j("click",function(){return r.activeModal.close()}),S(32," Cancelar "),E(),w(33,"button",16),j("click",function(){return r.editClient()}),S(34," Guardar "),E()()()),2&e&&(M(4),F("formGroup",r.clientForm),M(3),F("ngClass",ke(8,tc,r.clientForm.controls.firstName.invalid)),M(4),F("ngClass",ke(10,tc,r.clientForm.controls.lastName.invalid)),M(4),F("ngClass",ke(12,tc,r.clientForm.controls.document.invalid)),M(4),F("ngClass",ke(14,tc,r.clientForm.controls.phone.invalid)),M(4),F("ngClass",ke(16,tc,r.clientForm.controls.address.invalid)),M(4),F("ngClass",ke(18,tc,r.clientForm.controls.email.invalid)),M(6),F("disabled",r.clientForm.invalid))},dependencies:[Wr,fr,Nr,$r,Mr,qr,oi]}),t})(),rV=(()=>{class t{constructor(e,r,i,o,c){this.clientsApiService=e,this.loaderService=r,this.client=i,this.toastService=o,this.activeModal=c}deleteClient(){var e=this;return se(function*(){yield e.loaderService.doWithLoadingScreen(se(function*(){try{return yield e.clientsApiService.deleteClient(e.client.id),Rt({header:"Cliente Eliminado",body:"Se ha eliminado el cliente correctamente."})}catch(r){return Ot(r)}})),e.activeModal.close()})()}}return t.\u0275fac=function(e){return new(e||t)(N(Qu),N(un),N(ec),N(Ys),N(rn))},t.\u0275cmp=fe({type:t,selectors:[["app-delete-client-modal"]],decls:11,vars:0,consts:[[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,r){1&e&&(w(0,"div",0)(1,"h1",1),S(2,"Eliminar cliente"),E(),w(3,"button",2),j("click",function(){return r.activeModal.dismiss()}),E()(),w(4,"div",3),S(5,"\xbfEst\xe1s seguro que deseas eliminar el cliente?"),E(),w(6,"div",4)(7,"button",5),j("click",function(){return r.activeModal.close()}),S(8," Cancelar "),E(),w(9,"button",6),j("click",function(){return r.deleteClient()}),S(10," Eliminar "),E()())}}),t})(),nc=(()=>{class t extends Xi{search(e,r,i){return kt(this.getServices(e,r,i))}count(){throw new Error("Method not implemented.")}getServices(e,r,i){return this.makeSearchPaginationRequest("/services/search",e,r,i)}createService(e){return this.makeSimplePostRequest("/services/create",e)}getService(e){return this.makeSimpleGetRequest(`/services/${e}`)}updateService(e){return this.promisify((r,i)=>this.httpClient.put(`${nn_apiUrl}/services/update/${e.id}`,e,{withCredentials:!0}).subscribe({next:o=>r(),error:o=>i(o)}))}deleteService(e){return this.promisify((r,i)=>this.httpClient.delete(`${nn_apiUrl}/services/delete/${e}`,{withCredentials:!0,responseType:"text"}).subscribe({next:o=>r(),error:o=>i(o)}))}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Nt(t)))(r||t)}}(),t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function iV(t,n){if(1&t){const e=qe();w(0,"tr")(1,"td"),S(2),E(),w(3,"td",9)(4,"button",10),j("click",function(){const o=Ee(e).$implicit;return xe(K().selectService(o))}),S(5," Seleccionar "),E()()()}if(2&t){const e=n.$implicit;M(2),Ct(e.name)}}let oV=(()=>{class t{constructor(e,r,i){this.servicesApiService=e,this.activeModal=r,this.modalService=i}selectService(e){this.activeModal.close(e)}}return t.\u0275fac=function(e){return new(e||t)(N(nc),N(rn),N(Gt))},t.\u0275cmp=fe({type:t,selectors:[["app-select-service-modal"]],decls:17,vars:4,consts:[[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal",1,"btn-close",3,"click"],[1,"modal-body"],[3,"searchFunctionService"],["searchTable",""],[1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"btn","btn-sm","btn-primary",3,"click"]],template:function(e,r){if(1&e&&(w(0,"div",0)(1,"h1",1),S(2,"Seleccionar servicio"),E(),w(3,"button",2),j("click",function(){return r.activeModal.dismiss()}),E()(),w(4,"div",3)(5,"app-search-table",4,5)(7,"table",6)(8,"thead")(9,"tr")(10,"th",7),S(11,"Nombres"),E(),w(12,"th",7),S(13,"Acciones"),E()()(),w(14,"tbody"),Y(15,iV,6,1,"tr",8),En(16,"async"),E()()()()),2&e){const i=Ke(6);let o;M(5),F("searchFunctionService",r.servicesApiService),M(10),F("ngForOf",null==(o=xn(16,2,i.searchResult))?null:o.search)}},dependencies:[cn,Qi,wr]}),t})(),eS=(()=>{class t extends Xi{createContract(e){var r=this;return se(function*(){yield r.promisify((i,o)=>{r.httpClient.post(`${nn_apiUrl}/contracts/create`,e,{withCredentials:!0,responseType:"text"}).subscribe({next:c=>{i()},error:c=>{o()}})})})()}getContractsByClientAccount(e){var r=this;return se(function*(){return r.makeSimpleGetRequest(`/contracts/by-client-account/${e}`)})()}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Nt(t)))(r||t)}}(),t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ed=function(t){return{"is-invalid":t}},tS=function(t){return{"d-block":t}};let sV=(()=>{class t{constructor(e,r,i,o,c,f){this.client=e,this.activeModal=r,this.modalService=i,this.contractsApiService=o,this.mainLoaderService=c,this.toastGeneratorService=f,this.contractForm=new Ir({startDate:new Ve(null,[Ue.required]),endDate:new Ve(null),contractValue:new Ve(0,[Ue.required]),place:new Ve(null,[Ue.required]),service:new Ve(null,[Ue.required])},[this.validateDates()]),this.totalContractValue=0}openSelectPlace(){this.modalService.open(t_,{centered:!0,size:"lg"}).result.then(e=>{e&&this.contractForm.patchValue({place:e})})}openSelectService(){this.modalService.open(oV,{centered:!0,size:"lg"}).result.then(e=>{e&&this.contractForm.patchValue({service:e})})}createContract(){var e=this;return se(function*(){e.contractForm.valid&&(yield e.mainLoaderService.doWithLoadingScreen(se(function*(){const r=`${e.contractForm.value.startDate.year}-${e.contractForm.value.startDate.month}-${e.contractForm.value.startDate.day}`,i=e.contractForm.value.endDate?`${e.contractForm.value.endDate.year}-${e.contractForm.value.endDate.month}-${e.contractForm.value.endDate.day}`:void 0;try{return yield e.contractsApiService.createContract({value:e.contractForm.value.contractValue,dateStart:r,dateEnd:i,clientAccountId:e.client.clientAccount.id,serviceId:e.contractForm.value.service.id,placeId:e.contractForm.value.place.id}),Rt({header:"Contrato creado",body:"Contrato creado correctamente"})}catch(o){return Ot(o)}})),e.activeModal.close())})()}validateDates(){return e=>{if(this.contractForm){const r=this.contractForm.value.startDate,i=this.contractForm.value.endDate;if(r&&i){const o=new Wn(r.year,r.month,r.day),c=new Wn(i.year,i.month,i.day);o.after(c)?(this.contractForm.controls.startDate.setErrors({date:"La fecha de inicio es mayor a la fecha final"}),this.contractForm.controls.endDate.setErrors({date:"La fecha final es menor a la fecha inicial"})):(this.contractForm.controls.startDate.setErrors(null),this.contractForm.controls.endDate.setErrors(null))}else r&&!i&&(this.contractForm.controls.startDate.setErrors(null),this.contractForm.controls.endDate.setErrors(null))}return null}}}return t.\u0275fac=function(e){return new(e||t)(N(ec),N(rn),N(Gt),N(eS),N(un),N(Ys))},t.\u0275cmp=fe({type:t,selectors:[["app-create-contract-modal"]],hostAttrs:[1,"modal-content"],decls:85,vars:35,consts:[[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-content",3,"formGroup"],[1,"modal-body","container"],[1,"mb-5"],[1,"row"],[1,"col","col-sm-6"],[1,"form-floating"],["type","text","readonly","",1,"form-control-plaintext",3,"value"],[1,"input-group","mt-2"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","text","readonly","","placeholder","Sin un lugar seleccionado",1,"form-control",3,"value","ngClass"],["type","text","readonly","","placeholder","Sin un servicio seleccionado",1,"form-control",3,"value","ngClass"],[1,"mb-3"],[1,"input-group"],["type","text","placeholder","yyyy-mm-dd","formControlName","startDate","ngbDatepicker","",1,"form-control",3,"ngClass"],["startDateDatepicker","ngbDatepicker"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar3",3,"click"],[1,"invalid-feedback",3,"ngClass"],["type","text","placeholder","Sin fecha de finalizaci\xf3n","formControlName","endDate","ngbDatepicker","",1,"form-control",3,"ngClass"],["endDateDatepicker","ngbDatepicker"],[1,"mb-5","border","shadow","rounded","px-4","py-3"],["type","number","min","0","placeholder","20000","formControlName","contractValue",1,"form-control",3,"ngClass"],[1,"p-0","m-0"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(e,r){if(1&e){const i=qe();w(0,"div",0)(1,"h1",1),S(2,"Crear contrato"),E(),w(3,"button",2),j("click",function(){return r.activeModal.dismiss()}),E()(),w(4,"form",3)(5,"div",4)(6,"fieldset",5)(7,"legend"),S(8,"Informaci\xf3n general del contrato"),E(),w(9,"div",6)(10,"div",7)(11,"div",8),U(12,"input",9),w(13,"label"),S(14,"Nombre del cliente"),E()(),w(15,"div",8),U(16,"input",9),w(17,"label"),S(18,"Tel\xe9fono"),E()()(),w(19,"div",7)(20,"div",8),U(21,"input",9),w(22,"label"),S(23,"Correo electr\xf3nico"),E()(),w(24,"div",8),U(25,"input",9),w(26,"label"),S(27,"Direcci\xf3n"),E()()(),w(28,"div",10)(29,"button",11),j("click",function(){return r.openSelectPlace()}),S(30," Seleccionar lugar "),E(),U(31,"input",12),E()()(),w(32,"fieldset",5)(33,"legend"),S(34,"Servicio asociado al contrato"),E(),w(35,"div",10)(36,"button",11),j("click",function(){return r.openSelectService()}),S(37," Seleccionar servicio "),E(),U(38,"input",13),E()(),w(39,"fieldset",5)(40,"legend"),S(41,"Fechas del contrato"),E(),w(42,"div",14)(43,"div",15)(44,"div",8),U(45,"input",16,17),w(47,"label"),S(48,"Fecha de inicio del contrato"),E()(),w(49,"button",18),j("click",function(){return Ee(i),xe(Ke(46).toggle())}),E()(),w(50,"div",19),S(51),E()(),w(52,"div")(53,"div",15)(54,"div",8),U(55,"input",20,21),w(57,"label"),S(58,"Fecha de finalizaci\xf3n del contrato"),E()(),w(59,"button",18),j("click",function(){return Ee(i),xe(Ke(56).toggle())}),E(),w(60,"button",18),j("click",function(){return r.contractForm.controls.endDate.reset(),r.validateDates()}),E()(),w(61,"div",19),S(62),E()()(),w(63,"fieldset",22)(64,"legend"),S(65,"Valor del contrato"),E(),w(66,"div",6)(67,"div",7)(68,"div",8),U(69,"input",23),w(70,"label"),S(71,"Valor del contrato"),E()()(),w(72,"div",7)(73,"h4",24),S(74,"Valor final:"),E(),w(75,"h6",24),S(76,"Valor del contrato"),E(),w(77,"b"),S(78),En(79,"currency"),E()()()()(),w(80,"div",25)(81,"button",26),j("click",function(){return r.activeModal.close()}),S(82," Cancelar "),E(),w(83,"button",27),j("click",function(){return r.createContract()}),S(84," Crear contrato "),E()()()}2&e&&(M(4),F("formGroup",r.contractForm),M(8),l1("value","",r.client.firstName," ",r.client.lastName,""),M(4),Sl("value",r.client.phone),M(5),Sl("value",r.client.email),M(4),Sl("value",r.client.address),M(6),F("value",null==r.contractForm.value.place?null:r.contractForm.value.place.name)("ngClass",ke(21,ed,r.contractForm.controls.place.invalid)),M(7),F("value",null==r.contractForm.value.service?null:r.contractForm.value.service.name)("ngClass",ke(23,ed,r.contractForm.controls.service.invalid)),M(7),F("ngClass",ke(25,ed,r.contractForm.controls.startDate.invalid)),M(5),F("ngClass",ke(27,tS,null==r.contractForm.controls.startDate.errors?null:r.contractForm.controls.startDate.errors.date)),M(1),ht(" ",null==r.contractForm.controls.startDate.errors?null:r.contractForm.controls.startDate.errors.date," "),M(4),F("ngClass",ke(29,ed,r.contractForm.controls.endDate.invalid)),M(6),F("ngClass",ke(31,tS,null==r.contractForm.controls.endDate.errors?null:r.contractForm.controls.endDate.errors.date)),M(1),ht(" ",null==r.contractForm.controls.endDate.errors?null:r.contractForm.controls.endDate.errors.date," "),M(7),F("ngClass",ke(33,ed,r.contractForm.controls.contractValue.invalid)),M(9),ht(" ",xn(79,19,r.contractForm.value.contractValue)," "),M(5),F("disabled",r.contractForm.invalid))},dependencies:[Wr,fr,R0,Nr,$r,U0,Mr,qr,oi,$m,c0]}),t})();class nS{constructor(n,e,r){this.id=n,this.status=e,this.clientId=r}}let i_=(()=>{class t extends Xi{findAll(){var e=this;return se(function*(){return yield e.makeSimpleGetRequest("/invoices/findAll")})()}generateInvoices(){var e=this;return se(function*(){yield new Promise((r,i)=>{e.httpClient.get(`${nn_apiUrl}/invoices/generate-invoices`,{withCredentials:!0,responseType:"blob"}).subscribe({next:o=>{var c=new Blob([o],{type:"application/zip"});const f=URL.createObjectURL(c);window.open(f),r()},error:o=>{i()}})})})()}createInvoice(e){var r=this;return se(function*(){yield r.promisify((i,o)=>{r.httpClient.post(`${nn_apiUrl}/contracts/generate-invoice/${e.contractId}`,e,{withCredentials:!0,responseType:"blob"}).subscribe({next:c=>{var f=new Blob([c],{type:"application/zip"});const p=URL.createObjectURL(f);window.open(p),i()},error:c=>{o()}})})})()}getInvoiceFromQrCode(e){var r=this;return se(function*(){return yield r.makeSimplePostRequest("/invoices/findWithQrCode",{qrCode:e})})()}updateInvoice(e){var r=this;return se(function*(){return r.makeSimplePutRequest(`/invoices/update/${e.id}`,e)})()}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Nt(t)))(r||t)}}(),t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ep=function(t){return{"is-invalid":t}};let aV=(()=>{class t{constructor(e,r,i,o,c,f){this.activeModal=e,this.clientAccount=r,this.contractId=i,this.invoiceApiService=o,this.mainLoaderService=c,this.toastGeneratorService=f,this.invoiceForm=new Ir({periodStart:new Ve(null,[Ue.required]),periodEnd:new Ve(null,[Ue.required]),paymentDate:new Ve(null,[Ue.required]),suspensionDate:new Ve(null,[Ue.required])})}createInvoice(){var e=this;return se(function*(){e.invoiceForm.valid&&(yield e.mainLoaderService.doWithLoadingScreen(se(function*(){const r=`${e.invoiceForm.value.periodStart.year}-${e.invoiceForm.value.periodStart.month}-${e.invoiceForm.value.periodStart.day}`,i=`${e.invoiceForm.value.periodEnd.year}-${e.invoiceForm.value.periodEnd.month}-${e.invoiceForm.value.periodEnd.day}`,o=`${e.invoiceForm.value.paymentDate.year}-${e.invoiceForm.value.paymentDate.month}-${e.invoiceForm.value.paymentDate.day}`,c=`${e.invoiceForm.value.suspensionDate.year}-${e.invoiceForm.value.suspensionDate.month}-${e.invoiceForm.value.suspensionDate.day}`;try{return yield e.invoiceApiService.createInvoice({clientAccountId:e.clientAccount.id,contractId:e.contractId,periodStart:r,periodEnd:i,paymentDate:o,suspensionDate:c,value:1e3,adjustment:1e3}),Rt({header:"Factura creada",body:"Factura creada correctamente"})}catch(f){return Ot(f)}})),e.activeModal.close())})()}}return t.\u0275fac=function(e){return new(e||t)(N(rn),N(nS),N("contractId"),N(i_),N(un),N(Ys))},t.\u0275cmp=fe({type:t,selectors:[["app-create-invoice-modal"]],decls:39,vars:14,consts:[[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup"],[1,"modal-body"],[1,"input-group","mb-3"],[1,"form-floating"],["type","text","placeholder","yyyy-mm-dd","formControlName","periodStart","ngbDatepicker","",1,"form-control",3,"ngClass"],["periodStart","ngbDatepicker"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar3",3,"click"],["type","text","placeholder","yyyy-mm-dd","formControlName","periodEnd","ngbDatepicker","",1,"form-control",3,"ngClass"],["periodEnd","ngbDatepicker"],["type","text","placeholder","yyyy-mm-dd","formControlName","paymentDate","ngbDatepicker","",1,"form-control",3,"ngClass"],["paymentDate","ngbDatepicker"],[1,"input-group"],["type","text","placeholder","yyyy-mm-dd","formControlName","suspensionDate","ngbDatepicker","",1,"form-control",3,"ngClass"],["suspensionDate","ngbDatepicker"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(e,r){if(1&e){const i=qe();w(0,"div",0)(1,"h1",1),S(2,"A\xf1adir nueva factura"),E(),w(3,"button",2),j("click",function(){return r.activeModal.dismiss()}),E()(),w(4,"form",3)(5,"div",4)(6,"div",5)(7,"div",6),U(8,"input",7,8),w(10,"label"),S(11,"Fecha de inicio de la factura"),E()(),w(12,"button",9),j("click",function(){return Ee(i),xe(Ke(9).toggle())}),E()(),w(13,"div",5)(14,"div",6),U(15,"input",10,11),w(17,"label"),S(18,"Fecha final de la factura"),E()(),w(19,"button",9),j("click",function(){return Ee(i),xe(Ke(16).toggle())}),E()(),w(20,"div",5)(21,"div",6),U(22,"input",12,13),w(24,"label"),S(25,"Fecha de pago de la factura"),E()(),w(26,"button",9),j("click",function(){return Ee(i),xe(Ke(23).toggle())}),E()(),w(27,"div",14)(28,"div",6),U(29,"input",15,16),w(31,"label"),S(32,"Fecha de suspensi\xf3n del servicio"),E()(),w(33,"button",9),j("click",function(){return Ee(i),xe(Ke(30).toggle())}),E()()(),w(34,"div",17)(35,"button",18),j("click",function(){return r.activeModal.close()}),S(36," Cancelar "),E(),w(37,"button",19),j("click",function(){return r.createInvoice()}),S(38," Crear "),E()()()}2&e&&(M(4),F("formGroup",r.invoiceForm),M(4),F("ngClass",ke(6,ep,r.invoiceForm.controls.periodStart.invalid)),M(7),F("ngClass",ke(8,ep,r.invoiceForm.controls.periodEnd.invalid)),M(7),F("ngClass",ke(10,ep,r.invoiceForm.controls.paymentDate.invalid)),M(7),F("ngClass",ke(12,ep,r.invoiceForm.controls.suspensionDate.invalid)),M(8),F("disabled",r.invoiceForm.invalid))},dependencies:[Wr,fr,Nr,$r,Mr,qr,oi,$m]}),t})();function lV(t,n){1&t&&(w(0,"div",2)(1,"div",3)(2,"div",4)(3,"span",5),S(4,"Loading..."),E()(),w(5,"p"),S(6,"Cargando..."),E()()())}function cV(t,n){if(1&t){const e=qe();w(0,"div",8)(1,"p"),S(2,"El usuario no tiene un contrato."),E(),w(3,"button",9),j("click",function(){return Ee(e),xe(K(2).openCreateContractModal())}),U(4,"i",10),S(5," Crear nuevo contrato "),E()()}}function uV(t,n){if(1&t){const e=qe();w(0,"div",13)(1,"h3"),S(2),E(),w(3,"button",9),j("click",function(){const o=Ee(e).$implicit;return xe(K(3).generateInvoice(o.id))}),U(4,"i",14),S(5," Generar factura "),E()()}if(2&t){const e=n.$implicit;M(2),ht("Contrato ",e.id,"")}}function dV(t,n){if(1&t&&(w(0,"div",11),Y(1,uV,6,1,"div",12),E()),2&t){const e=K(2);M(1),F("ngForOf",e.clientContracts)}}function fV(t,n){if(1&t&&(Y(0,cV,6,0,"div",6),Y(1,dV,2,1,"ng-template",null,7,Sn)),2&t){const e=Ke(2);F("ngIf",0===K().clientContracts.length)("ngIfElse",e)}}let hV=(()=>{class t{constructor(e,r){this.modalService=e,this.contractsApiService=r,this.clientContracts=[],this.loading=new In(!0)}ngOnInit(){var e=this;return se(function*(){e.client.clientAccount&&(e.clientContracts=yield e.contractsApiService.getContractsByClientAccount(e.client.clientAccount.id),e.loading.next(!1))})()}generateInvoice(e){this.modalService.open(aV,{centered:!0,injector:St.create({providers:[{provide:"contractId",useValue:e},{provide:nS,useValue:this.client.clientAccount}]})})}openCreateContractModal(){this.modalService.open(sV,{fullscreen:!0,scrollable:!0,injector:St.create({providers:[{provide:ec,useValue:this.client}]})})}}return t.\u0275fac=function(e){return new(e||t)(N(Gt),N(eS))},t.\u0275cmp=fe({type:t,selectors:[["app-create-contract"]],inputs:{client:"client"},decls:4,vars:4,consts:[["class","h-100 d-flex justify-content-center align-items-center",4,"ngIf","ngIfElse"],["content",""],[1,"h-100","d-flex","justify-content-center","align-items-center"],[1,"text-center"],["role","status",1,"spinner-border","text-blue-700"],[1,"visually-hidden"],["class","container text-center",4,"ngIf","ngIfElse"],["contracts",""],[1,"container","text-center"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-lg"],[1,"container"],["class","shadow-sm border rounded px-4 py-2",4,"ngFor","ngForOf"],[1,"shadow-sm","border","rounded","px-4","py-2"],[1,"bi","bi-filetype-pdf"]],template:function(e,r){if(1&e&&(Y(0,lV,7,0,"div",0),En(1,"async"),Y(2,fV,3,2,"ng-template",null,1,Sn)),2&e){const i=Ke(3);F("ngIf",xn(1,2,r.loading))("ngIfElse",i)}},dependencies:[cn,Nn,wr]}),t})();class tp{constructor(n,e,r,i){this.id=n,this.name=e,this.model=r,this.details=i}}class rS{constructor(n,e,r,i,o,c){this.id=n,this.startDate=e,this.hardwareId=r,this.zoneId=i,this.hardware=o,this.zone=c}}class iS{constructor(n,e,r,i,o,c){this.id=n,this.startDate=e,this.hardwareId=r,this.clientAccountId=i,this.hardware=o,this.clientAccount=c}}let pV=(()=>{class t{constructor(e,r,i,o){this.hardwareApiService=e,this.loaderService=r,this.hardwareOnClient=i,this.activeModal=o}deleteHardwareOnClient(){var e=this;return se(function*(){yield e.loaderService.doWithLoadingScreen(se(function*(){try{return yield e.hardwareApiService.deleteHardwareOnClient(e.hardwareOnClient),Rt({header:"Equipo eliminado del cliente",body:"El equipo se ha desasignado del cliente."})}catch(r){return Ot(r)}})),e.activeModal.close()})()}}return t.\u0275fac=function(e){return new(e||t)(N(Vo),N(un),N(iS),N(rn))},t.\u0275cmp=fe({type:t,selectors:[["app-delete-hardware-on-client-modal"]],decls:11,vars:1,consts:[[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,r){1&e&&(w(0,"div",0)(1,"h1",1),S(2,"Eliminar equipo del cliente"),E(),w(3,"button",2),j("click",function(){return r.activeModal.dismiss()}),E()(),w(4,"div",3),S(5),E(),w(6,"div",4)(7,"button",5),j("click",function(){return r.activeModal.close()}),S(8," Cancelar "),E(),w(9,"button",6),j("click",function(){return r.deleteHardwareOnClient()}),S(10," Eliminar "),E()()),2&e&&(M(5),ht(" \xbfEst\xe1s seguro que deseas eliminar el equipo ",r.hardwareOnClient.hardwareId," de la zona?\n"))}}),t})();function gV(t,n){if(1&t){const e=qe();w(0,"tr")(1,"td"),S(2),E(),w(3,"td",9)(4,"button",10),j("click",function(){const o=Ee(e).$implicit;return xe(K().selectHardware(o))}),S(5," Seleccionar "),E()()()}if(2&t){const e=n.$implicit;M(2),Ct(e.name)}}let oS=(()=>{class t{constructor(e,r,i){this.hardwareApiService=e,this.activeModal=r,this.modalService=i}selectHardware(e){this.activeModal.close(Rt(e))}}return t.\u0275fac=function(e){return new(e||t)(N(Vo),N(rn),N(Gt))},t.\u0275cmp=fe({type:t,selectors:[["app-select-hardware-modal"]],decls:17,vars:4,consts:[[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal",1,"btn-close",3,"click"],[1,"modal-body"],[3,"searchFunctionService"],["searchTable",""],[1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"btn","btn-sm","btn-primary",3,"click"]],template:function(e,r){if(1&e&&(w(0,"div",0)(1,"h1",1),S(2,"Seleccionar equipo"),E(),w(3,"button",2),j("click",function(){return r.activeModal.dismiss()}),E()(),w(4,"div",3)(5,"app-search-table",4,5)(7,"table",6)(8,"thead")(9,"tr")(10,"th",7),S(11,"Nombres"),E(),w(12,"th",7),S(13,"Acciones"),E()()(),w(14,"tbody"),Y(15,gV,6,1,"tr",8),En(16,"async"),E()()()()),2&e){const i=Ke(6);let o;M(5),F("searchFunctionService",r.hardwareApiService),M(10),F("ngForOf",null==(o=xn(16,2,i.searchResult))?null:o.search)}},dependencies:[cn,Qi,wr]}),t})();function mV(t,n){1&t&&U(0,"app-loader")}function _V(t,n){if(1&t){const e=qe();w(0,"div")(1,"div",3),U(2,"i",4),w(3,"p"),S(4,"Equipo sin asignar al cliente"),E(),w(5,"button",5),j("click",function(){return Ee(e),xe(K(2).openAssignHardware())}),U(6,"i",6),S(7," Asignar equipo "),E()()()}}function vV(t,n){if(1&t){const e=qe();w(0,"div",10)(1,"b"),S(2),E(),U(3,"br"),w(4,"p"),S(5),U(6,"br"),S(7),E(),S(8),En(9,"date"),w(10,"div",11)(11,"button",12),j("click",function(){const o=Ee(e).$implicit;return xe(K(3).openDeleteHardwareOnClientModal(o))}),U(12,"i",13),S(13," Eliminar "),E()()()}if(2&t){const e=n.$implicit;M(2),Nl("Equipo ",e.hardwareId,": ",e.id,""),M(3),ht(" ",null==e.hardware?null:e.hardware.name," "),M(2),ht(" ",null==e.hardware?null:e.hardware.model," "),M(1),ht(" Fecha de asignaci\xf3n: ",xn(9,5,e.startDate)," ")}}function yV(t,n){if(1&t&&(w(0,"h4",7),S(1,"Equipos registrados en el cliente"),E(),w(2,"div",8),Y(3,vV,14,7,"div",9),E()),2&t){const e=K(2);M(3),F("ngForOf",e.hardwareOnClient)}}function bV(t,n){if(1&t&&(Y(0,_V,8,0,"div",0),Y(1,yV,4,1,"ng-template",null,2,Sn)),2&t){const e=Ke(2);F("ngIf",0===K().hardwareOnClient.length)("ngIfElse",e)}}let CV=(()=>{class t{constructor(e,r,i){this.hardwareApiService=e,this.modalService=r,this.loaderService=i,this.loader=new In(!0),this.hardwareOnClient=[]}ngOnInit(){var e=this;return se(function*(){yield e.loadHardwareOnClient()})()}loadHardwareOnClient(){var e=this;return se(function*(){e.loader.next(!0),e.hardwareOnClient=yield e.hardwareApiService.getHardwareOnClientsByClientAccountId(e.clientAccount.id),e.loader.next(!1)})()}openAssignHardware(){var e=this;this.modalService.open(oS,{size:"xl",centered:!0}).result.then(function(){var i=se(function*(o){o.ok&&(yield e.loaderService.doWithLoadingScreen(se(function*(){try{return yield e.hardwareApiService.createHardwareOnClients({hardwareId:o.val.id,clientAccountId:e.clientAccount.id}),Rt({header:"Equipo asignado",body:"El equipo se ha asignado al cliente correctamente."})}catch(c){return Ot(c)}})),yield e.loadHardwareOnClient())});return function(o){return i.apply(this,arguments)}}(),i=>{})}openDeleteHardwareOnClientModal(e){this.modalService.open(pV,{centered:!0,injector:St.create({providers:[{provide:iS,useValue:e}]})}).result.then(i=>{this.loadHardwareOnClient()})}}return t.\u0275fac=function(e){return new(e||t)(N(Vo),N(Gt),N(un))},t.\u0275cmp=fe({type:t,selectors:[["app-show-user-hardware"]],inputs:{clientAccount:"clientAccount"},decls:5,vars:4,consts:[[4,"ngIf","ngIfElse"],["content",""],["list",""],[1,"text-center","text-secondary","text-opacity-50"],[1,"bi","bi-box","display-1"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-lg"],[1,"text-center","mb-3"],[1,"container","d-flex","flex-wrap","gap-3"],["class","px-3 py-2 border shadow rounded",4,"ngFor","ngForOf"],[1,"px-3","py-2","border","shadow","rounded"],[1,"d-flex","justify-content-end","gap-2","mt-2"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"bi","bi-trash-fill"]],template:function(e,r){if(1&e&&(w(0,"main"),Y(1,mV,1,0,"app-loader",0),En(2,"async"),Y(3,bV,3,2,"ng-template",null,1,Sn),E()),2&e){const i=Ke(4);M(1),F("ngIf",xn(2,2,r.loader))("ngIfElse",i)}},dependencies:[gs,cn,Nn,wr,l0]}),t})();function wV(t,n){1&t&&U(0,"app-loader",3)}function DV(t,n){1&t&&(w(0,"span",20),U(1,"i",21),S(2," Activa "),E())}function EV(t,n){1&t&&(w(0,"span",22),S(1," Inactiva "),E())}function xV(t,n){if(1&t){const e=qe();w(0,"div",23)(1,"div",24)(2,"div",25)(3,"div",26),U(4,"input",27),w(5,"label"),S(6,"Nombres"),E()()(),w(7,"div",28)(8,"div",29),U(9,"input",27),w(10,"label"),S(11,"Apellidos"),E()()()(),w(12,"div",30),U(13,"input",27),w(14,"label"),S(15,"Correo electr\xf3nico"),E()(),w(16,"div",30),U(17,"input",27),w(18,"label"),S(19,"Documento"),E()(),w(20,"div",30),U(21,"input",27),w(22,"label"),S(23,"Direcci\xf3n"),E()(),w(24,"div",30),U(25,"input",27),w(26,"label"),S(27,"Tel\xe9fono"),E()(),w(28,"div",31)(29,"button",32),j("click",function(){return Ee(e),xe(K(2).openEditClientModal())}),U(30,"i",33),S(31," Editar "),E(),w(32,"button",34),j("click",function(){return Ee(e),xe(K(2).openDeleteClientModal())}),U(33,"i",35),S(34," Eliminar "),E()()()}if(2&t){const e=K(2);M(4),F("value",e.client.firstName),M(5),F("value",e.client.lastName),M(4),F("value",e.client.email?e.client.email:"Sin correo electr\xf3nico."),M(4),F("value",e.client.document),M(4),F("value",e.client.address),M(4),F("value",e.client.phone)}}function AV(t,n){1&t&&U(0,"app-show-user-hardware",36),2&t&&F("clientAccount",K(2).client.clientAccount)}function SV(t,n){1&t&&U(0,"app-create-contract",37),2&t&&F("client",K(2).client)}function TV(t,n){}function NV(t,n){if(1&t){const e=qe();w(0,"div",4)(1,"h2",5),S(2,"Cliente"),E(),w(3,"h6",6),S(4),E(),w(5,"div",7)(6,"h3",8),S(7),E(),w(8,"p",8),S(9,"Estado de la cuenta:"),E(),Y(10,DV,3,0,"span",9),Y(11,EV,2,0,"ng-template",null,10,Sn),E(),w(13,"ul",11,12),j("activeIdChange",function(i){return Ee(e),xe(K().activeNav=i)}),w(15,"li",13)(16,"a",14),S(17,"Informaci\xf3n"),E(),Y(18,xV,35,6,"ng-template",15),E(),w(19,"li",13)(20,"a",14),S(21,"Equipos"),E(),Y(22,AV,1,1,"ng-template",15),E(),w(23,"li",13)(24,"a",14),S(25,"Contrato"),E(),Y(26,SV,1,1,"ng-template",15),E(),w(27,"li",16)(28,"a",17),U(29,"i",18),S(30," Hist\xf3rico de contratos "),E(),Y(31,TV,0,0,"ng-template",15),E()(),U(32,"div",19),E()}if(2&t){const e=Ke(12),r=Ke(14),i=K();M(4),Nl(" ",i.client.firstName," ",i.client.lastName," "),M(3),ht(" N\xfamero de cuenta: ",null==i.client.clientAccount?null:i.client.clientAccount.id," "),M(3),F("ngIf",null==i.client.clientAccount?null:i.client.clientAccount.status)("ngIfElse",e),M(3),F("activeId",i.activeNav),M(2),F("ngbNavItem",1),M(4),F("ngbNavItem",2),M(4),F("ngbNavItem",3),M(4),F("ngbNavItem",4),M(5),F("ngbNavOutlet",r)}}let IV=(()=>{class t{constructor(e,r,i){this.route=e,this.clientsApiService=r,this.modalService=i,this.activeNav=1}ngOnInit(){var e=this;return se(function*(){e.client=yield e.clientsApiService.getClient(e.route.snapshot.params.clientId)})()}openEditClientModal(){this.modalService.open(nV,{centered:!0,injector:St.create({providers:[{provide:ec,useValue:this.client}]})})}openDeleteClientModal(){this.modalService.open(rV,{centered:!0,injector:St.create({providers:[{provide:ec,useValue:this.client}]})})}}return t.\u0275fac=function(e){return new(e||t)(N(gi),N(Qu),N(Gt))},t.\u0275cmp=fe({type:t,selectors:[["app-show-client"]],decls:4,vars:2,consts:[[1,"h-100","d-flex","flex-column"],["class","h-100",4,"ngIf"],["class","d-flex flex-column h-100",4,"ngIf"],[1,"h-100"],[1,"d-flex","flex-column","h-100"],[1,"text-700","text-center"],[1,"text-600","text-center","border-bottom","pb-3"],[1,"container","my-4","py-3","px-4","border","shadow-sm","rounded"],[1,"m-0"],["class","badge text-bg-success",4,"ngIf","ngIfElse"],["inactive",""],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"ms-auto",3,"ngbNavItem"],["ngbNavLink","",1,"text-secondary"],[1,"bi","bi-clock-history"],[1,"mt-3","d-flex","flex-column","flex-1-1-auto","pt-2","pb-5",3,"ngbNavOutlet"],[1,"badge","text-bg-success"],[1,"bi","bi-check-lg"],[1,"badge","text-bg-secondary"],[1,"container"],[1,"row"],[1,"col-12","col-sm-6"],[1,"form-floating","mb-2","m-sm-0","border","rounded"],["type","text","readonly","",1,"form-control-plaintext",3,"value"],[1,"col"],[1,"form-floating","border","rounded"],[1,"form-floating","mt-2","border","rounded"],[1,"d-flex","justify-content-end","gap-2","mt-2"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-pen-fill"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"bi","bi-trash-fill"],[3,"clientAccount"],[3,"client"]],template:function(e,r){1&e&&(w(0,"div",0),U(1,"app-main-navbar"),Y(2,wV,1,0,"app-loader",1),Y(3,NV,33,11,"div",2),E()),2&e&&(M(2),F("ngIf",!r.client),M(1),F("ngIf",r.client))},dependencies:[qn,gs,qh,Yu,qu,Yh,Qm,Nn,hV,CV]}),t})();class np{constructor(n,e,r,i){this.id=n,this.name=e,this.code=r,this.place=i}}let MV=(()=>{class t{constructor(e,r,i,o){this.zonesApiService=e,this.loaderService=r,this.zone=i,this.activeModal=o}deleteZone(){var e=this;return se(function*(){yield e.loaderService.doWithLoadingScreen(se(function*(){try{return yield e.zonesApiService.deleteZone(e.zone.id),Rt({header:"Zona eliminada",body:"Se ha eliminado la zona correctamente."})}catch(r){return Ot(r)}})),e.activeModal.close()})()}}return t.\u0275fac=function(e){return new(e||t)(N(Ku),N(un),N(np),N(rn))},t.\u0275cmp=fe({type:t,selectors:[["app-delete-zone-modal"]],decls:11,vars:1,consts:[[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,r){1&e&&(w(0,"div",0)(1,"h1",1),S(2,"Eliminar zona"),E(),w(3,"button",2),j("click",function(){return r.activeModal.dismiss()}),E()(),w(4,"div",3),S(5),E(),w(6,"div",4)(7,"button",5),j("click",function(){return r.activeModal.close()}),S(8," Cancelar "),E(),w(9,"button",6),j("click",function(){return r.deleteZone()}),S(10," Eliminar "),E()()),2&e&&(M(5),ht(" \xbfEst\xe1s seguro que deseas eliminar la zona ",r.zone.name,"?\n"))}}),t})();const o_=function(t){return{"is-invalid":t}};let OV=(()=>{class t{constructor(e,r,i,o,c){this.modalService=e,this.activeModal=r,this.zone=i,this.zonesApiService=o,this.loaderService=c,this.zoneForm=new Ir({name:new Ve(this.zone.name,[Ue.required]),code:new Ve(this.zone.code,[Ue.required]),place:new Ve(this.zone.place,{nonNullable:!0,validators:[Ue.required]})})}editZone(){var e=this;return se(function*(){yield e.loaderService.doWithLoadingScreen(se(function*(){try{return yield e.zonesApiService.updateZone({id:e.zone.id,name:e.zoneForm.value.name,code:e.zoneForm.value.code,place:e.zoneForm.value.place}),Rt({header:"Zona editada",body:"Se ha editado la zona correctamente."})}catch(r){return Ot(r)}})),e.activeModal.close()})()}openSelectPlace(){this.modalService.open(t_,{centered:!0,size:"lg"}).result.then(e=>{e&&this.zoneForm.patchValue({place:e})},e=>{})}}return t.\u0275fac=function(e){return new(e||t)(N(Gt),N(rn),N(np),N(Ku),N(un))},t.\u0275cmp=fe({type:t,selectors:[["app-edit-zone-modal"]],decls:23,vars:12,consts:[[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup"],[1,"modal-body"],[1,"form-floating","border","rounded"],["type","text","formControlName","name",1,"form-control",3,"ngClass"],[1,"form-floating","mt-2","border","rounded","is-invalid"],["type","text","formControlName","code",1,"form-control",3,"ngClass"],[1,"input-group","mt-2","border","rounded"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","text","readonly","","placeholder","Sin un lugar seleccionado",1,"form-control",3,"value","ngClass"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(e,r){1&e&&(w(0,"div",0)(1,"h1",1),S(2,"Editar zona"),E(),w(3,"button",2),j("click",function(){return r.activeModal.dismiss()}),E()(),w(4,"form",3)(5,"div",4)(6,"div",5),U(7,"input",6),w(8,"label"),S(9,"Nombre"),E()(),w(10,"div",7),U(11,"input",8),w(12,"label"),S(13,"Codigo"),E()(),w(14,"div",9)(15,"button",10),j("click",function(){return r.openSelectPlace()}),S(16," Seleccionar lugar "),E(),U(17,"input",11),E(),w(18,"div",12)(19,"button",13),j("click",function(){return r.activeModal.close()}),S(20," Cancelar "),E(),w(21,"button",14),j("click",function(){return r.editZone()}),S(22," Guardar "),E()()()()),2&e&&(M(4),F("formGroup",r.zoneForm),M(3),F("ngClass",ke(6,o_,r.zoneForm.controls.name.invalid)),M(4),F("ngClass",ke(8,o_,r.zoneForm.controls.code.invalid)),M(6),F("value",null==r.zoneForm.value.place?null:r.zoneForm.value.place.name)("ngClass",ke(10,o_,r.zoneForm.controls.place.invalid)),M(4),F("disabled",r.zoneForm.invalid))},dependencies:[Wr,fr,Nr,$r,Mr,qr,oi]}),t})(),RV=(()=>{class t{constructor(e,r,i,o){this.hardwareApiService=e,this.loaderService=r,this.hardwareOnZone=i,this.activeModal=o}deleteHardwareOnZone(){var e=this;return se(function*(){yield e.loaderService.doWithLoadingScreen(se(function*(){try{return yield e.hardwareApiService.deleteHardwareOnZone(e.hardwareOnZone),Rt({header:"Equipo eliminado de la zona",body:"El equipo se ha desasignado de la zona."})}catch(r){return Ot(r)}})),e.activeModal.close()})()}}return t.\u0275fac=function(e){return new(e||t)(N(Vo),N(un),N(rS),N(rn))},t.\u0275cmp=fe({type:t,selectors:[["app-delete-hardware-on-zone-modal"]],decls:11,vars:1,consts:[[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,r){1&e&&(w(0,"div",0)(1,"h1",1),S(2,"Eliminar equipo de la zona"),E(),w(3,"button",2),j("click",function(){return r.activeModal.dismiss()}),E()(),w(4,"div",3),S(5),E(),w(6,"div",4)(7,"button",5),j("click",function(){return r.activeModal.close()}),S(8," Cancelar "),E(),w(9,"button",6),j("click",function(){return r.deleteHardwareOnZone()}),S(10," Eliminar "),E()()),2&e&&(M(5),ht(" \xbfEst\xe1s seguro que deseas eliminar el equipo ",r.hardwareOnZone.hardwareId," de la zona?\n"))}}),t})();function FV(t,n){1&t&&U(0,"app-loader")}function kV(t,n){if(1&t){const e=qe();w(0,"div")(1,"div",3),U(2,"i",4),w(3,"p"),S(4,"Equipo sin asignar a la zona"),E(),w(5,"button",5),j("click",function(){return Ee(e),xe(K(2).openAssignHardware())}),U(6,"i",6),S(7," Asignar equipo "),E()()()}}function PV(t,n){if(1&t){const e=qe();w(0,"div",10)(1,"b"),S(2),E(),U(3,"br"),w(4,"p"),S(5),U(6,"br"),S(7),E(),S(8),En(9,"date"),w(10,"div",11)(11,"button",12),j("click",function(){const o=Ee(e).$implicit;return xe(K(3).openDeleteHardwareOnZoneModal(o))}),U(12,"i",13),S(13," Eliminar "),E()()()}if(2&t){const e=n.$implicit;M(2),Nl("Equipo ",e.hardwareId,": ",e.id,""),M(3),ht(" ",null==e.hardware?null:e.hardware.name," "),M(2),ht(" ",null==e.hardware?null:e.hardware.model," "),M(1),ht(" Fecha de asignaci\xf3n: ",xn(9,5,e.startDate)," ")}}function LV(t,n){if(1&t&&(w(0,"h4",7),S(1,"Equipos registrados en la zona"),E(),w(2,"div",8),Y(3,PV,14,7,"div",9),E()),2&t){const e=K(2);M(3),F("ngForOf",e.hardwareOnZone)}}function BV(t,n){if(1&t&&(Y(0,kV,8,0,"div",0),Y(1,LV,4,1,"ng-template",null,2,Sn)),2&t){const e=Ke(2);F("ngIf",0===K().hardwareOnZone.length)("ngIfElse",e)}}let UV=(()=>{class t{constructor(e,r,i){this.hardwareApiService=e,this.modalService=r,this.loaderService=i,this.loader=new In(!0),this.hardwareOnZone=[]}ngOnInit(){var e=this;return se(function*(){yield e.loadHardwareOnZone()})()}loadHardwareOnZone(){var e=this;return se(function*(){e.loader.next(!0),e.hardwareOnZone=yield e.hardwareApiService.getHardwareOnZonesByZoneId(e.zone.id),e.loader.next(!1)})()}openAssignHardware(){var e=this;this.modalService.open(oS,{size:"xl",centered:!0}).result.then(function(){var i=se(function*(o){o.ok&&(yield e.loaderService.doWithLoadingScreen(se(function*(){try{return yield e.hardwareApiService.createHardwareOnZones({hardwareId:o.val.id,zoneId:e.zone.id}),Rt({header:"Equipo asignado",body:"El equipo se ha asignado a la zona correctamente."})}catch(c){return Ot(c)}})),e.loadHardwareOnZone())});return function(o){return i.apply(this,arguments)}}(),i=>{})}openDeleteHardwareOnZoneModal(e){this.modalService.open(RV,{centered:!0,injector:St.create({providers:[{provide:rS,useValue:e}]})}).result.then(i=>{this.loadHardwareOnZone()})}}return t.\u0275fac=function(e){return new(e||t)(N(Vo),N(Gt),N(un))},t.\u0275cmp=fe({type:t,selectors:[["app-show-zone-hardware"]],inputs:{zone:"zone"},decls:5,vars:4,consts:[[4,"ngIf","ngIfElse"],["content",""],["list",""],[1,"text-center","text-secondary","text-opacity-50"],[1,"bi","bi-box","display-1"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-lg"],[1,"text-center","mb-3"],[1,"container","d-flex","flex-wrap","gap-3"],["class","px-3 py-2 border shadow rounded",4,"ngFor","ngForOf"],[1,"px-3","py-2","border","shadow","rounded"],[1,"d-flex","justify-content-end","gap-2","mt-2"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"bi","bi-trash-fill"]],template:function(e,r){if(1&e&&(w(0,"main"),Y(1,FV,1,0,"app-loader",0),En(2,"async"),Y(3,BV,3,2,"ng-template",null,1,Sn),E()),2&e){const i=Ke(4);M(1),F("ngIf",xn(2,2,r.loader))("ngIfElse",i)}},dependencies:[gs,cn,Nn,wr,l0]}),t})();function VV(t,n){1&t&&U(0,"app-loader")}function HV(t,n){if(1&t){const e=qe();w(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15),U(4,"input",16),w(5,"label"),S(6,"Nombre"),E()()(),w(7,"div",17)(8,"div",18),U(9,"input",16),w(10,"label"),S(11,"C\xf3digo"),E()()()(),w(12,"div",19),U(13,"input",16),w(14,"label"),S(15,"Municipio"),E()(),w(16,"div",20)(17,"button",21),j("click",function(){return Ee(e),xe(K(2).openEditZoneModal())}),U(18,"i",22),S(19," Editar "),E(),w(20,"button",23),j("click",function(){return Ee(e),xe(K(2).openDeleteZoneModal())}),U(21,"i",24),S(22," Eliminar "),E()()()}if(2&t){const e=K(2);M(4),F("value",e.zone.name),M(5),F("value",e.zone.code),M(4),F("value",e.zone.place.name)}}function jV(t,n){1&t&&U(0,"app-show-zone-hardware",25),2&t&&F("zone",K(2).zone)}function GV(t,n){if(1&t){const e=qe();w(0,"div",3)(1,"h2",4),S(2,"Zona"),E(),w(3,"h6",5),S(4),E(),w(5,"ul",6,7),j("activeIdChange",function(i){return Ee(e),xe(K().activeNav=i)}),w(7,"li",8)(8,"a",9),S(9,"Informaci\xf3n"),E(),Y(10,HV,23,3,"ng-template",10),E(),w(11,"li",8)(12,"a",9),S(13,"Equipos"),E(),Y(14,jV,1,1,"ng-template",10),E()(),U(15,"div",11),E()}if(2&t){const e=Ke(6),r=K();M(4),ht(" ",r.zone.name," "),M(1),F("activeId",r.activeNav),M(2),F("ngbNavItem",1),M(4),F("ngbNavItem",2),M(4),F("ngbNavOutlet",e)}}let zV=(()=>{class t{constructor(e,r,i){this.route=e,this.zonesApiService=r,this.modalService=i,this.loader=new In(!0),this.activeNav=1}ngOnInit(){var e=this;return se(function*(){e.zoneObservable=e.zonesApiService.getZone(e.route.snapshot.params.zoneId),e.zoneObservable.subscribe(r=>{e.zone=r,e.loader.next(!1)})})()}openEditZoneModal(){this.modalService.open(OV,{centered:!0,injector:St.create({providers:[{provide:np,useValue:this.zone}]})})}openDeleteZoneModal(){this.modalService.open(MV,{centered:!0,injector:St.create({providers:[{provide:np,useValue:this.zone}]})})}}return t.\u0275fac=function(e){return new(e||t)(N(gi),N(Ku),N(Gt))},t.\u0275cmp=fe({type:t,selectors:[["app-show-zone"]],decls:6,vars:4,consts:[[1,"h-100","d-flex","flex-column"],[4,"ngIf","ngIfElse"],["content",""],[1,"d-flex","flex-column","flex-1-1-auto"],[1,"text-700","text-center"],[1,"text-600","text-center","border-bottom","pb-3"],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-3","d-flex","flex-column","flex-1-1-auto","pt-2","pb-5",3,"ngbNavOutlet"],[1,"container"],[1,"row"],[1,"col-12","col-sm-6"],[1,"form-floating","mb-2","m-sm-0","border","rounded"],["type","text","readonly","",1,"form-control-plaintext",3,"value"],[1,"col"],[1,"form-floating","border","rounded"],[1,"form-floating","border","rounded","mt-2"],[1,"d-flex","justify-content-end","gap-2","mt-2"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-pen-fill"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"bi","bi-trash-fill"],[3,"zone"]],template:function(e,r){if(1&e&&(w(0,"div",0),U(1,"app-main-navbar"),Y(2,VV,1,0,"app-loader",1),En(3,"async"),Y(4,GV,16,5,"ng-template",null,2,Sn),E()),2&e){const i=Ke(5);M(2),F("ngIf",xn(3,2,r.loader))("ngIfElse",i)}},dependencies:[qn,gs,qh,Yu,qu,Yh,Qm,Nn,UV,wr]}),t})(),$V=(()=>{class t{constructor(e,r,i,o){this.hardwareApiService=e,this.loaderService=r,this.hardware=i,this.activeModal=o}deleteHardware(){var e=this;return se(function*(){yield e.loaderService.doWithLoadingScreen(se(function*(){try{return yield e.hardwareApiService.deleteHardware(e.hardware),Rt({header:"Equipo eliminado",body:"El equipo se ha eliminado correctamente."})}catch(r){return Ot(r)}})),e.activeModal.close()})()}}return t.\u0275fac=function(e){return new(e||t)(N(Vo),N(un),N(tp),N(rn))},t.\u0275cmp=fe({type:t,selectors:[["app-delete-hardware-modal"]],decls:11,vars:1,consts:[[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,r){1&e&&(w(0,"div",0)(1,"h1",1),S(2,"Eliminar equipo"),E(),w(3,"button",2),j("click",function(){return r.activeModal.dismiss()}),E()(),w(4,"div",3),S(5),E(),w(6,"div",4)(7,"button",5),j("click",function(){return r.activeModal.close()}),S(8," Cancelar "),E(),w(9,"button",6),j("click",function(){return r.deleteHardware()}),S(10," Eliminar "),E()()),2&e&&(M(5),ht(" \xbfEst\xe1s seguro que deseas eliminar el equipo ",r.hardware.name,"?\n"))}}),t})();const s_=function(t){return{"is-invalid":t}};let WV=(()=>{class t{constructor(e,r,i,o,c){this.modalService=e,this.activeModal=r,this.hardware=i,this.loaderService=o,this.hardwareApiService=c,this.hardwareForm=new Ir({name:new Ve(this.hardware.name,[Ue.required]),model:new Ve(this.hardware.model,[Ue.required]),details:new Ve(this.hardware.details,[Ue.required])})}editHardware(){var e=this;return se(function*(){yield e.loaderService.doWithLoadingScreen(se(function*(){try{return yield e.hardwareApiService.updateHardware({id:e.hardware.id,name:e.hardwareForm.value.name,model:e.hardwareForm.value.model,details:e.hardwareForm.value.details}),Rt({header:"Equipo actualizado",body:"El equipo se ha actualizado correctamente."})}catch(r){return Ot(r)}})),e.activeModal.close()})()}}return t.\u0275fac=function(e){return new(e||t)(N(Gt),N(rn),N(tp),N(un),N(Vo))},t.\u0275cmp=fe({type:t,selectors:[["app-edit-hardware-modal"]],decls:23,vars:11,consts:[[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup"],[1,"modal-body"],[1,"form-floating","border","rounded","mb-2"],["type","text","formControlName","name",1,"form-control",3,"ngClass"],["type","text","formControlName","model",1,"form-control",3,"ngClass"],[1,"form-floating","border","rounded","is-invalid"],["formControlName","details","type","text",1,"form-control",2,"min-height","10em",3,"ngClass"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(e,r){1&e&&(w(0,"div",0)(1,"h1",1),S(2,"Editar equipo"),E(),w(3,"button",2),j("click",function(){return r.activeModal.dismiss()}),E()(),w(4,"form",3)(5,"div",4)(6,"div",5),U(7,"input",6),w(8,"label"),S(9,"Nombre"),E()(),w(10,"div",5),U(11,"input",7),w(12,"label"),S(13,"Modelo"),E()(),w(14,"div",8),U(15,"textarea",9),w(16,"label"),S(17,"Detalles"),E()(),w(18,"div",10)(19,"button",11),j("click",function(){return r.activeModal.close()}),S(20," Cancelar "),E(),w(21,"button",12),j("click",function(){return r.editHardware()}),S(22," Guardar "),E()()()()),2&e&&(M(4),F("formGroup",r.hardwareForm),M(3),F("ngClass",ke(5,s_,r.hardwareForm.controls.name.invalid)),M(4),F("ngClass",ke(7,s_,r.hardwareForm.controls.model.invalid)),M(4),F("ngClass",ke(9,s_,r.hardwareForm.controls.details.invalid)),M(6),F("disabled",r.hardwareForm.invalid))},dependencies:[Wr,fr,Nr,$r,Mr,qr,oi]}),t})();function qV(t,n){1&t&&U(0,"app-loader",3)}function YV(t,n){if(1&t){const e=qe();w(0,"div")(1,"h2",4),S(2,"Equipo"),E(),w(3,"h6",5),S(4),E(),w(5,"div",6)(6,"div",7)(7,"div",8)(8,"div",9),U(9,"input",10),w(10,"label"),S(11,"Nombre"),E()()(),w(12,"div",11)(13,"div",12),U(14,"input",10),w(15,"label"),S(16,"Modelo"),E()()()(),w(17,"div",13),U(18,"textarea",14),w(19,"label"),S(20,"Detalles"),E()(),w(21,"div",15)(22,"button",16),j("click",function(){return Ee(e),xe(K().openEditHardwareModal())}),U(23,"i",17),S(24," Editar "),E(),w(25,"button",18),j("click",function(){return Ee(e),xe(K().openDeleteHardwareModal())}),U(26,"i",19),S(27," Eliminar "),E()()()()}if(2&t){const e=K();M(4),ht(" ",e.hardware.name," "),M(5),F("value",e.hardware.name),M(5),F("value",e.hardware.model),M(4),F("value",e.hardware.details)}}let ZV=(()=>{class t{constructor(e,r,i){this.route=e,this.hardwareApiService=r,this.modalService=i}ngOnInit(){var e=this;return se(function*(){e.hardware=yield e.hardwareApiService.getHardwareById(e.route.snapshot.params.hardwareId)})()}openEditHardwareModal(){this.modalService.open(WV,{centered:!0,injector:St.create({providers:[{provide:tp,useValue:this.hardware}]})})}openDeleteHardwareModal(){this.modalService.open($V,{centered:!0,injector:St.create({providers:[{provide:tp,useValue:this.hardware}]})})}}return t.\u0275fac=function(e){return new(e||t)(N(gi),N(Vo),N(Gt))},t.\u0275cmp=fe({type:t,selectors:[["app-show-hardware"]],decls:4,vars:2,consts:[[1,"h-100","d-flex","flex-column"],["class","h-100",4,"ngIf"],[4,"ngIf"],[1,"h-100"],[1,"text-700","text-center"],[1,"text-600","text-center","border-bottom","pb-3"],[1,"container"],[1,"row"],[1,"col-12","col-sm-6"],[1,"form-floating","mb-2","m-sm-0","border","rounded"],["type","text","readonly","",1,"form-control-plaintext",3,"value"],[1,"col"],[1,"form-floating","border","rounded"],[1,"form-floating","mt-2","border","rounded"],["type","text","readonly","",1,"form-control-plaintext",2,"min-height","10em",3,"value"],[1,"d-flex","justify-content-end","gap-2","mt-2"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-pen-fill"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"bi","bi-trash-fill"]],template:function(e,r){1&e&&(w(0,"div",0),U(1,"app-main-navbar"),Y(2,qV,1,0,"app-loader",1),Y(3,YV,28,4,"div",2),E()),2&e&&(M(2),F("ngIf",!r.hardware),M(1),F("ngIf",r.hardware))},dependencies:[qn,gs,Nn]}),t})();function XV(t,n){1&t&&U(0,"app-loader",3)}function QV(t,n){if(1&t&&(w(0,"div")(1,"h2",4),S(2,"Usuario"),E(),w(3,"h6",5),S(4),E(),w(5,"div",6)(6,"div",7)(7,"div",8)(8,"div",9),U(9,"input",10),w(10,"label"),S(11,"Nombre"),E()()()()()()),2&t){const e=K();M(4),ht(" ",e.role.name," "),M(5),F("value",e.role.name)}}let KV=(()=>{class t{constructor(e,r){this.route=e,this.rolesApiService=r}ngOnInit(){var e=this;return se(function*(){e.role=yield e.rolesApiService.getRole(e.route.snapshot.params.roleId)})()}}return t.\u0275fac=function(e){return new(e||t)(N(gi),N(Qh))},t.\u0275cmp=fe({type:t,selectors:[["app-show-role"]],decls:4,vars:2,consts:[[1,"h-100","d-flex","flex-column"],["class","h-100",4,"ngIf"],[4,"ngIf"],[1,"h-100"],[1,"text-700","text-center"],[1,"text-600","text-center","border-bottom","pb-3"],[1,"container"],[1,"row"],[1,"col-12","col-sm-6"],[1,"form-floating","mb-2","m-sm-0","border","rounded"],["type","text","readonly","",1,"form-control-plaintext",3,"value"]],template:function(e,r){1&e&&(w(0,"div",0),U(1,"app-main-navbar"),Y(2,XV,1,0,"app-loader",1),Y(3,QV,12,2,"div",2),E()),2&e&&(M(2),F("ngIf",!r.role),M(1),F("ngIf",r.role))},dependencies:[Nn,qn,gs]}),t})(),JV=(()=>{class t extends Xi{search(e,r,i){return kt(this.getActions(e,r,i))}count(){throw new Error("Method not implemented.")}getActions(e,r,i){var o=this;return se(function*(){return o.makeSearchPaginationRequest("/actions/search",e,r,i)})()}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Nt(t)))(r||t)}}(),t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function eH(t,n){if(1&t&&(w(0,"tr")(1,"td"),S(2),E(),w(3,"td"),S(4),E(),w(5,"td"),S(6),E(),w(7,"td"),S(8),E()()),2&t){const e=n.$implicit;M(2),Ct(e.method),M(2),Ct(e.url),M(2),Ct(e.date),M(2),ht(" ",e.userEmail," ")}}let tH=(()=>{class t{constructor(e){this.actionsApiService=e}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(N(JV))},t.\u0275cmp=fe({type:t,selectors:[["app-actions"]],decls:21,vars:4,consts:[[1,"h-100","d-flex","flex-column"],[1,"text-700","text-center","m-0"],[1,"h-100","mh-100","overflow-auto"],[3,"searchFunctionService"],["searchTable",""],[1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"]],template:function(e,r){if(1&e&&(w(0,"div",0),U(1,"app-main-navbar"),w(2,"h1",1),S(3,"Auditor\xeda"),E(),w(4,"div",2)(5,"app-search-table",3,4)(7,"table",5)(8,"thead")(9,"tr")(10,"th",6),S(11,"Acci\xf3n"),E(),w(12,"th",6),S(13,"URL"),E(),w(14,"th",6),S(15,"Fecha"),E(),w(16,"th",6),S(17,"Correo del responsable"),E()()(),w(18,"tbody"),Y(19,eH,9,4,"tr",7),En(20,"async"),E()()()()()),2&e){const i=Ke(6);let o;M(5),F("searchFunctionService",r.actionsApiService),M(14),F("ngForOf",null==(o=xn(20,2,i.searchResult))?null:o.search)}},dependencies:[cn,qn,Qi,wr]}),t})();const sS=function(t){return{"is-invalid":t}};let nH=(()=>{class t{constructor(e,r,i,o){this.activeModal=e,this.loaderService=r,this.serviceApiService=i,this.toastService=o,this.serviceForm=new Ir({name:new Ve("",[Ue.required]),description:new Ve("",[Ue.required]),value:new Ve(0,[Ue.required])})}createService(){var e=this;return se(function*(){yield e.loaderService.doWithLoadingScreen(se(function*(){try{return yield e.serviceApiService.createService({name:e.serviceForm.value.name,description:e.serviceForm.value.description,value:e.serviceForm.value.value}),Rt({header:"Servicio creado",body:"Se ha creado el servicio correctamente."})}catch(r){return Ot(r)}})),e.activeModal.close()})()}}return t.\u0275fac=function(e){return new(e||t)(N(rn),N(un),N(nc),N(Ys))},t.\u0275cmp=fe({type:t,selectors:[["app-create-service-modal"]],decls:19,vars:8,consts:[[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup"],[1,"modal-body"],[1,"form-floating","border","rounded","mb-2"],["type","text","formControlName","name",1,"form-control",3,"ngClass"],[1,"form-floating","border","rounded","is-invalid"],["formControlName","description","type","text",1,"form-control",2,"min-height","10em",3,"ngClass"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(e,r){1&e&&(w(0,"div",0)(1,"h1",1),S(2,"Crear servicio"),E(),w(3,"button",2),j("click",function(){return r.activeModal.dismiss()}),E()(),w(4,"form",3)(5,"div",4)(6,"div",5),U(7,"input",6),w(8,"label"),S(9,"Nombre"),E()(),w(10,"div",7),U(11,"textarea",8),w(12,"label"),S(13,"Descripcion"),E()(),w(14,"div",9)(15,"button",10),j("click",function(){return r.activeModal.close()}),S(16," Cancelar "),E(),w(17,"button",11),j("click",function(){return r.createService()}),S(18," Guardar "),E()()()()),2&e&&(M(4),F("formGroup",r.serviceForm),M(3),F("ngClass",ke(4,sS,r.serviceForm.controls.name.invalid)),M(4),F("ngClass",ke(6,sS,r.serviceForm.controls.description.invalid)),M(6),F("disabled",r.serviceForm.invalid))},dependencies:[Wr,fr,Nr,$r,Mr,qr,oi]}),t})();function rH(t,n){if(1&t&&(w(0,"tr")(1,"td"),S(2),E(),w(3,"td"),S(4),E(),w(5,"td",11)(6,"button",12),U(7,"i",13),S(8," Ver "),E()()()),2&t){const e=n.$implicit;M(2),Ct(e.name),M(2),Ct(e.description),M(2),Hi("routerLink","/services/",e.id,"")}}let iH=(()=>{class t{constructor(e,r){this.servicesApiService=e,this.modalService=r,this.services=[]}openCreateServiceModal(){this.modalService.open(nH,{centered:!0})}}return t.\u0275fac=function(e){return new(e||t)(N(nc),N(Gt))},t.\u0275cmp=fe({type:t,selectors:[["app-services"]],decls:23,vars:4,consts:[[1,"h-100","d-flex","flex-column"],[1,"text-700","text-center","m-0"],[1,"text-center","py-2","border-bottom"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-lg"],[1,"h-100","overflow-auto","mh-100"],[3,"searchFunctionService"],["searchTable",""],[1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"btn","btn-sm","btn-primary",3,"routerLink"],[1,"bi","bi-eye-fill"]],template:function(e,r){if(1&e&&(w(0,"div",0),U(1,"app-main-navbar"),w(2,"h1",1),S(3,"Servicios"),E(),w(4,"div",2)(5,"button",3),j("click",function(){return r.openCreateServiceModal()}),U(6,"i",4),S(7," Crear servicio "),E()(),w(8,"div",5)(9,"app-search-table",6,7)(11,"table",8)(12,"thead")(13,"tr")(14,"th",9),S(15,"Nombre"),E(),w(16,"th",9),S(17,"Descripcion"),E(),w(18,"th",9),S(19,"Acciones"),E()()(),w(20,"tbody"),Y(21,rH,9,3,"tr",10),En(22,"async"),E()()()()()),2&e){const i=Ke(10);let o;M(9),F("searchFunctionService",r.servicesApiService),M(12),F("ngForOf",null==(o=xn(22,2,i.searchResult))?null:o.search)}},dependencies:[qn,Qi,fo,cn,wr]}),t})();class rp{constructor(n,e,r){this.id=n,this.name=e,this.description=r}}let oH=(()=>{class t{constructor(e,r,i,o){this.servicesApiService=e,this.loaderService=r,this.service=i,this.activeModal=o}deleteService(){var e=this;return se(function*(){yield e.loaderService.doWithLoadingScreen(se(function*(){try{return yield e.servicesApiService.deleteService(e.service.id),Rt({header:"Servicio Eliminado",body:"Se ha eliminado el servicio correctamente."})}catch(r){return Ot(r)}})),e.activeModal.close()})()}}return t.\u0275fac=function(e){return new(e||t)(N(nc),N(un),N(rp),N(rn))},t.\u0275cmp=fe({type:t,selectors:[["app-delete-service-modal"]],decls:11,vars:0,consts:[[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,r){1&e&&(w(0,"div",0)(1,"h1",1),S(2,"Eliminar servicio"),E(),w(3,"button",2),j("click",function(){return r.activeModal.dismiss()}),E()(),w(4,"div",3),S(5,"\xbfEst\xe1s seguro que deseas eliminar el servicio?"),E(),w(6,"div",4)(7,"button",5),j("click",function(){return r.activeModal.close()}),S(8," Cancelar "),E(),w(9,"button",6),j("click",function(){return r.deleteService()}),S(10," Eliminar "),E()())}}),t})();const aS=function(t){return{"is-invalid":t}};let sH=(()=>{class t{constructor(e,r,i,o,c){this.modalService=e,this.activeModal=r,this.servicesApiService=i,this.service=o,this.loaderService=c,this.serviceForm=new Ir({name:new Ve(this.service.name,[Ue.required]),description:new Ve(this.service.description,[Ue.required])})}editService(){var e=this;return se(function*(){yield e.loaderService.doWithLoadingScreen(se(function*(){try{return yield e.servicesApiService.updateService({id:e.service.id,name:e.serviceForm.value.name,description:e.serviceForm.value.description}),Rt({header:"Servicio editado",body:"Se ha editado el servicio correctamente."})}catch(r){return Ot(r)}})),e.activeModal.close()})()}}return t.\u0275fac=function(e){return new(e||t)(N(Gt),N(rn),N(nc),N(rp),N(un))},t.\u0275cmp=fe({type:t,selectors:[["app-edit-service-modal"]],decls:19,vars:8,consts:[[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup"],[1,"modal-body"],[1,"form-floating","border","rounded"],["type","text","formControlName","name",1,"form-control",3,"ngClass"],[1,"form-floating","mt-2","border","rounded","is-invalid"],["type","text","formControlName","description",1,"form-control",2,"min-height","12em",3,"ngClass"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(e,r){1&e&&(w(0,"div",0)(1,"h1",1),S(2,"Editar servicio"),E(),w(3,"button",2),j("click",function(){return r.activeModal.dismiss()}),E()(),w(4,"form",3)(5,"div",4)(6,"div",5),U(7,"input",6),w(8,"label"),S(9,"Nombre"),E()(),w(10,"div",7),U(11,"textarea",8),w(12,"label"),S(13,"Descripci\xf3n"),E()()(),w(14,"div",9)(15,"button",10),j("click",function(){return r.activeModal.close()}),S(16," Cancelar "),E(),w(17,"button",11),j("click",function(){return r.editService()}),S(18," Guardar "),E()()()),2&e&&(M(4),F("formGroup",r.serviceForm),M(3),F("ngClass",ke(4,aS,r.serviceForm.controls.name.invalid)),M(4),F("ngClass",ke(6,aS,r.serviceForm.controls.description.invalid)),M(6),F("disabled",r.serviceForm.invalid))},dependencies:[Wr,fr,Nr,$r,Mr,qr,oi]}),t})();function aH(t,n){1&t&&U(0,"app-loader",3)}function lH(t,n){if(1&t){const e=qe();w(0,"div")(1,"h2",4),S(2,"Servicio"),E(),w(3,"h6",5),S(4),E(),w(5,"div",6)(6,"div",7),U(7,"input",8),w(8,"label"),S(9,"Nombre"),E()(),w(10,"div",9),U(11,"textarea",10),w(12,"label"),S(13,"Descripci\xf3n"),E()(),w(14,"div",11)(15,"button",12),j("click",function(){return Ee(e),xe(K().openEditServiceModal())}),U(16,"i",13),S(17," Editar "),E(),w(18,"button",14),j("click",function(){return Ee(e),xe(K().openDeleteServiceModal())}),U(19,"i",15),S(20," Eliminar "),E()()()()}if(2&t){const e=K();M(4),ht(" ",e.service.name," "),M(3),F("value",e.service.name),M(4),F("value",e.service.description)}}let cH=(()=>{class t{constructor(e,r,i){this.route=e,this.servicesApiService=r,this.modalService=i}ngOnInit(){var e=this;return se(function*(){e.service=yield e.servicesApiService.getService(e.route.snapshot.params.serviceId)})()}openEditServiceModal(){this.modalService.open(sH,{centered:!0,injector:St.create({providers:[{provide:rp,useValue:this.service}]})})}openDeleteServiceModal(){this.modalService.open(oH,{centered:!0,injector:St.create({providers:[{provide:rp,useValue:this.service}]})})}}return t.\u0275fac=function(e){return new(e||t)(N(gi),N(nc),N(Gt))},t.\u0275cmp=fe({type:t,selectors:[["app-show-service"]],decls:4,vars:2,consts:[[1,"h-100","d-flex","flex-column"],["class","h-100",4,"ngIf"],[4,"ngIf"],[1,"h-100"],[1,"text-700","text-center"],[1,"text-600","text-center","border-bottom","pb-3"],[1,"container"],[1,"form-floating","mb-2","border","rounded"],["type","text","readonly","",1,"form-control-plaintext",3,"value"],[1,"form-floating","border","rounded"],["type","text","readonly","",1,"form-control-plaintext",2,"min-height","12em",3,"value"],[1,"d-flex","justify-content-end","gap-2","mt-2"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-pen-fill"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"bi","bi-trash-fill"]],template:function(e,r){1&e&&(w(0,"div",0),U(1,"app-main-navbar"),Y(2,aH,1,0,"app-loader",1),Y(3,lH,21,3,"div",2),E()),2&e&&(M(2),F("ngIf",!r.service),M(1),F("ngIf",r.service))},dependencies:[qn,gs,Nn]}),t})();function uH(t,n){if(1&t&&(w(0,"tr")(1,"td"),S(2),E(),w(3,"td",9)(4,"button",10),U(5,"i",11),S(6," Ver "),E()()()),2&t){const e=n.$implicit;M(2),Ct(e.name),M(2),Hi("routerLink","/config/places/",e.id,"")}}let dH=(()=>{class t{constructor(e){this.placesApiService=e}}return t.\u0275fac=function(e){return new(e||t)(N(e_))},t.\u0275cmp=fe({type:t,selectors:[["app-places"]],decls:17,vars:4,consts:[[1,"h-100","d-flex","flex-column"],[1,"text-700","text-center","m-0","pb-4","border-bottom"],[1,"h-100","overflow-auto","mh-100"],[3,"searchFunctionService"],["searchTable",""],[1,"table","table-striped","table-hover"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"btn","btn-sm","btn-primary",3,"routerLink"],[1,"bi","bi-eye-fill"]],template:function(e,r){if(1&e&&(w(0,"div",0),U(1,"app-main-navbar"),w(2,"h1",1),S(3,"Lugares"),E(),w(4,"div",2)(5,"app-search-table",3,4)(7,"table",5)(8,"thead")(9,"tr")(10,"th",6),S(11,"Nombre"),E(),w(12,"th",7),S(13,"Acciones"),E()()(),w(14,"tbody"),Y(15,uH,7,2,"tr",8),En(16,"async"),E()()()()()),2&e){const i=Ke(6);let o;M(5),F("searchFunctionService",r.placesApiService),M(10),F("ngForOf",null==(o=xn(16,2,i.searchResult))?null:o.search)}},dependencies:[cn,fo,qn,Qi,wr]}),t})();function fH(t,n){if(1&t&&(w(0,"div")(1,"h2",2),S(2,"Lugar"),E(),w(3,"h6",3),S(4),E(),w(5,"div",4)(6,"p"),S(7," A continuaci\xf3n se muestra informaci\xf3n sobre un lugar. Se debe tener en cuenta que los lugares no pueden ser ni editados, ni creados, ni eliminados. Si se requieren hacer cambios, por favor, llame a soporte t\xe9cnico. "),E(),w(8,"div",5)(9,"div",6)(10,"div",7),U(11,"input",8),w(12,"label"),S(13,"Nombre"),E()()(),U(14,"div",9),E()()()),2&t){const e=K();M(4),ht(" ",e.place.name," "),M(7),F("value",e.place.name)}}let hH=(()=>{class t{constructor(e,r){this.route=e,this.placesApiService=r}ngOnInit(){var e=this;return se(function*(){e.place=yield e.placesApiService.getPlace(e.route.snapshot.params.placeId)})()}}return t.\u0275fac=function(e){return new(e||t)(N(gi),N(e_))},t.\u0275cmp=fe({type:t,selectors:[["app-show-place"]],decls:3,vars:1,consts:[[1,"h-100","d-flex","flex-column"],[4,"ngIf"],[1,"text-700","text-center"],[1,"text-600","text-center","border-bottom","pb-3"],[1,"container"],[1,"row"],[1,"col-12"],[1,"form-floating","mb-2","m-sm-0","border","rounded"],["type","text","readonly","",1,"form-control-plaintext",3,"value"],[1,"col","col-sm-6"]],template:function(e,r){1&e&&(w(0,"div",0),U(1,"app-main-navbar"),Y(2,fH,15,2,"div",1),E()),2&e&&(M(2),F("ngIf",r.place))},dependencies:[Nn,qn]}),t})(),a_=(()=>{class t extends Xi{updateInvoiceGenerationDate(e){return this.makeSimplePatchRequest("/config/updateInvoiceGenerationDate",e)}getInvoiceGenerationDate(){return this.makeSimpleGetRequest("/config/getInvoiceGenerationDate")}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Nt(t)))(r||t)}}(),t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const pH=function(t){return{"is-invalid":t}};let gH=(()=>{class t{constructor(e,r,i,o){this.modalService=e,this.activeModal=r,this.configApiService=i,this.loaderService=o,this.editInvoiceFormControl=new Ir({invoiceDateControl:new Ve(null,Ue.required),invoiceHourControl:new Ve(null,Ue.required)})}editInvoiceGenerationDate(){var e=this;return se(function*(){yield e.loaderService.doWithLoadingScreen(se(function*(){try{return yield e.configApiService.updateInvoiceGenerationDate({date:new Date(e.editInvoiceFormControl.value.invoiceDateControl.year,e.editInvoiceFormControl.value.invoiceDateControl.month-1,e.editInvoiceFormControl.value.invoiceDateControl.day,e.editInvoiceFormControl.value.invoiceHourControl.hour,e.editInvoiceFormControl.value.invoiceHourControl.minute)}),Rt({header:"Fecha cambiada",body:"Se ha cambiado la fecha de generaci\xf3n de facturas."})}catch(r){return Ot(r)}})),e.activeModal.close()})()}}return t.\u0275fac=function(e){return new(e||t)(N(Gt),N(rn),N(a_),N(un))},t.\u0275cmp=fe({type:t,selectors:[["app-edit-invoice-date-modal"]],decls:22,vars:5,consts:[[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"btn-close"],[3,"formGroup"],[1,"modal-body"],[1,"input-group","mb-3"],[1,"form-floating"],["type","text","placeholder","yyyy-mm-dd","ngbDatepicker","","formControlName","invoiceDateControl",1,"form-control",3,"ngClass"],["periodStart","ngbDatepicker"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar3",3,"click"],[1,"d-flex","flex-row","gap-3","justify-content-center"],[1,"my-auto"],["formControlName","invoiceHourControl"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(e,r){if(1&e){const i=qe();w(0,"div",0)(1,"h1",1),S(2,"Editar pr\xf3xima fecha de facturaci\xf3n"),E(),U(3,"button",2),E(),w(4,"form",3)(5,"div",4)(6,"div",5)(7,"div",6),U(8,"input",7,8),w(10,"label"),S(11,"Pr\xf3xima fecha de facturaci\xf3n"),E()(),w(12,"button",9),j("click",function(){return Ee(i),xe(Ke(9).toggle())}),E()(),w(13,"div",10)(14,"p",11),S(15,"Hora de generaci\xf3n, en formato 24 horas:"),E(),U(16,"ngb-timepicker",12),E()(),w(17,"div",13)(18,"button",14),j("click",function(){return r.activeModal.close()}),S(19," Cancelar "),E(),w(20,"button",15),j("click",function(){return r.editInvoiceGenerationDate()}),S(21," Guardar "),E()()()}2&e&&(M(4),F("formGroup",r.editInvoiceFormControl),M(4),F("ngClass",ke(3,pH,r.editInvoiceFormControl.controls.invoiceDateControl.invalid)),M(12),F("disabled",r.editInvoiceFormControl.invalid))},dependencies:[Wr,fr,Nr,$r,Mr,qr,oi,$m,lU]}),t})();function mH(t,n){1&t&&(w(0,"div",2)(1,"div",3)(2,"div",4)(3,"span",5),S(4,"Loading..."),E()()(),w(5,"div",6),U(6,"input",7),E()())}function _H(t,n){if(1&t&&(w(0,"div",6),U(1,"input",8),w(2,"label"),S(3),E()()),2&t){const e=K();M(1),F("value",e.value),M(2),Ct(e.label)}}let lS=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["app-input-readonly"]],inputs:{label:"label",value:"value"},decls:4,vars:2,consts:[["class","position-relative",4,"ngIf","ngIfElse"],["content",""],[1,"position-relative"],[1,"position-absolute","top-50","start-50","translate-middle"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"form-floating","mt-2","border","rounded"],["type","text","readonly","",1,"form-control-plaintext"],["type","text","readonly","",1,"form-control-plaintext",3,"value"]],template:function(e,r){if(1&e&&(w(0,"main"),Y(1,mH,7,0,"div",0),Y(2,_H,4,2,"ng-template",null,1,Sn),E()),2&e){const i=Ke(3);M(1),F("ngIf",!r.value)("ngIfElse",i)}},dependencies:[Nn]}),t})(),vH=(()=>{class t{constructor(e,r){this.modalService=e,this.configApiService=r}ngOnInit(){var e=this;return se(function*(){e.load()})()}load(){this.configApiService.getInvoiceGenerationDate().then(e=>{this.invoiceGenerationDate=new Date(e)})}openUpdateInvoiceDate(){this.modalService.open(gH,{size:"xl",centered:!0}).result.then(e=>this.load(),e=>{})}}return t.\u0275fac=function(e){return new(e||t)(N(Gt),N(a_))},t.\u0275cmp=fe({type:t,selectors:[["app-invoices"]],decls:14,vars:1,consts:[[1,"h-100","d-flex","flex-column"],[1,"container","h-100"],[1,"fs-3","text-500"],[1,"fs-4","mb-2"],["label","Fecha de facturaci\xf3n",3,"value"],[1,"d-flex","justify-content-end","gap-2","mt-2"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-pen-fill"]],template:function(e,r){1&e&&(w(0,"div",0),U(1,"app-main-navbar"),w(2,"div",1)(3,"p",2),S(4,"Configuraci\xf3n de facturas"),E(),w(5,"p",3),S(6,"Pr\xf3xima fecha de facturaci\xf3n"),E(),w(7,"p"),S(8," La fecha de facturaci\xf3n se usa para determinar cu\xe1ndo se van a generar las facturas en la plataforma. La fecha se actualiza autom\xe1ticamente una vez el sistema detecta que se ha llegado a la fecha, de manera que se tiene que tener cuidado cuando se cambia la fecha, porque puede activar la generaci\xf3n de facturas un d\xeda que no se deber\xeda. "),E(),U(9,"app-input-readonly",4),w(10,"div",5)(11,"button",6),j("click",function(){return r.openUpdateInvoiceDate()}),U(12,"i",7),S(13," Editar "),E()()()()),2&e&&(M(9),F("value",null==r.invoiceGenerationDate?null:r.invoiceGenerationDate.toLocaleString()))},dependencies:[qn,lS]}),t})();function yH(t,n){if(1&t&&(w(0,"div",14),S(1),w(2,"p",15),S(3),En(4,"currency"),E(),w(5,"p",16),S(6),En(7,"currency"),E()()),2&t){const e=n.$implicit;M(1),ht(" Factura ",e.id," "),M(2),ht(" ",xn(4,3,e.value)," "),M(3),ht(" Mora: ",xn(7,5,e.latePaymentValue)," ")}}let bH=(()=>{class t{constructor(e,r,i){this.invoicesApiService=e,this.configApiService=r,this.mainLoaderService=i,this.invoices=[]}ngOnInit(){var e=this;return se(function*(){e.load()})()}downloadInvoices(){var e=this;this.mainLoaderService.doWithLoadingScreen(se(function*(){try{return yield e.invoicesApiService.generateInvoices(),Rt({header:"Facturas generadas",body:"Facturas generadas correctamente."})}catch(r){return Ot(r)}}))}load(){var e=this;return se(function*(){e.configApiService.getInvoiceGenerationDate().then(r=>{e.invoiceGenerationDate=new Date(r)}),e.generateCountdown(),e.invoices=yield e.invoicesApiService.findAll()})()}generateCountdown(){const e=setInterval(()=>{if(this.invoiceGenerationDate){const r=(new Date).getTime(),i=this.invoiceGenerationDate.getTime()-r,o=Math.floor(i/864e5),c=Math.floor(i%864e5/36e5),f=Math.floor(i%36e5/6e4),p=Math.floor(i%6e4/1e3);this.countDown=`D\xedas: ${o}, ${c}:${f}:${p}`,i<0&&(clearInterval(e),this.countDown="Generando facturas...")}},1e3)}}return t.\u0275fac=function(e){return new(e||t)(N(i_),N(a_),N(un))},t.\u0275cmp=fe({type:t,selectors:[["app-invoices"]],decls:20,vars:2,consts:[[1,"h-100","d-flex","flex-column"],[1,"container","h-100"],[1,"container","row","text-500","border-bottom","pb-3","m-0","p-0"],[1,"col-12","col-md-6","d-flex"],[1,"fs-3","my-auto"],[1,"col-12","col-md-6","text-end"],["label","Pr\xf3xima fecha de facturaci\xf3n",3,"value"],[1,"my-3"],[1,"row","m-0","p-0"],[1,"fs-5","my-auto","text-500"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-file-earmark-arrow-down"],[1,"d-flex","flex-column","gap-3","py-3"],["class","rounded shadow-sm border px-4 py-2",4,"ngFor","ngForOf"],[1,"rounded","shadow-sm","border","px-4","py-2"],[1,"m-0","p-0","text-primary"],[1,"m-0","p-0","text-danger","text-opacity-50"]],template:function(e,r){1&e&&(w(0,"div",0),U(1,"app-main-navbar"),w(2,"div",1)(3,"div",2)(4,"div",3)(5,"p",4),S(6,"Facturas"),E()(),w(7,"div",5),U(8,"app-input-readonly",6),E()(),w(9,"div",7)(10,"div",8)(11,"div",3)(12,"p",9),S(13,"Facturas por pagar"),E()(),w(14,"div",5)(15,"button",10),j("click",function(){return r.downloadInvoices()}),U(16,"i",11),S(17," Descargar facturas "),E()()(),w(18,"div",12),Y(19,yH,8,7,"div",13),E()()()()),2&e&&(M(8),F("value",r.countDown),M(11),F("ngForOf",r.invoices))},dependencies:[qn,lS,cn,c0]}),t})();var Ce=(()=>(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(Ce||(Ce={})),Ce))(),cS=new Map([[Ce.QR_CODE,"QR_CODE"],[Ce.AZTEC,"AZTEC"],[Ce.CODABAR,"CODABAR"],[Ce.CODE_39,"CODE_39"],[Ce.CODE_93,"CODE_93"],[Ce.CODE_128,"CODE_128"],[Ce.DATA_MATRIX,"DATA_MATRIX"],[Ce.MAXICODE,"MAXICODE"],[Ce.ITF,"ITF"],[Ce.EAN_13,"EAN_13"],[Ce.EAN_8,"EAN_8"],[Ce.PDF_417,"PDF_417"],[Ce.RSS_14,"RSS_14"],[Ce.RSS_EXPANDED,"RSS_EXPANDED"],[Ce.UPC_A,"UPC_A"],[Ce.UPC_E,"UPC_E"],[Ce.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function CH(t){return Object.values(Ce).includes(t)}var _s=(()=>(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"}(_s||(_s={})),_s))(),_o=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[_s.SCAN_TYPE_CAMERA,_s.SCAN_TYPE_FILE],t}(),uS=function(){function t(n,e){this.format=n,this.formatName=e}return t.prototype.toString=function(){return this.formatName},t.create=function(n){if(!cS.has(n))throw n+" not in html5QrcodeSupportedFormatsTextMap";return new t(n,cS.get(n))},t}(),dS=function(){function t(){}return t.createFromText=function(n){return{decodedText:n,result:{text:n}}},t.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},t}(),ip=(()=>(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"}(ip||(ip={})),ip))(),fS=function(){function t(){}return t.createFrom=function(n){return{errorMessage:n,type:ip.UNKWOWN_ERROR}},t}(),hS=function(){function t(n){this.verbose=n}return t.prototype.log=function(n){this.verbose&&console.log(n)},t.prototype.warn=function(n){this.verbose&&console.warn(n)},t.prototype.logError=function(n,e){(this.verbose||!0===e)&&console.error(n)},t.prototype.logErrors=function(n){if(0===n.length)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},t}();function Ho(t){return typeof t>"u"||null===t}var td=function(){function t(){}return t.codeParseError=function(n){return"QR code parse error, error = "+n},t.errorGettingUserMedia=function(n){return"Error getting userMedia, error = "+n},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t}(),on=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(n){return"Last Match: "+n},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t}(),pS=function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t}(),gS=function(){function t(){}return t.isMediaStreamConstraintsValid=function(n,e){if("object"!=typeof n)return e.logError("videoConstraints should be of type object, the object passed is of type "+typeof n+".",!0),!1;for(var o=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),f=0,p=Object.keys(n);f<p.length;f++){var m=p[f];if(o.has(m))return e.logError(m+" is not supported videoConstaints.",!0),!1}return!0},t}(),bn=te(140),mS=function(){function t(n,e,r){if(this.formatMap=new Map([[Ce.QR_CODE,bn.BarcodeFormat.QR_CODE],[Ce.AZTEC,bn.BarcodeFormat.AZTEC],[Ce.CODABAR,bn.BarcodeFormat.CODABAR],[Ce.CODE_39,bn.BarcodeFormat.CODE_39],[Ce.CODE_93,bn.BarcodeFormat.CODE_93],[Ce.CODE_128,bn.BarcodeFormat.CODE_128],[Ce.DATA_MATRIX,bn.BarcodeFormat.DATA_MATRIX],[Ce.MAXICODE,bn.BarcodeFormat.MAXICODE],[Ce.ITF,bn.BarcodeFormat.ITF],[Ce.EAN_13,bn.BarcodeFormat.EAN_13],[Ce.EAN_8,bn.BarcodeFormat.EAN_8],[Ce.PDF_417,bn.BarcodeFormat.PDF_417],[Ce.RSS_14,bn.BarcodeFormat.RSS_14],[Ce.RSS_EXPANDED,bn.BarcodeFormat.RSS_EXPANDED],[Ce.UPC_A,bn.BarcodeFormat.UPC_A],[Ce.UPC_E,bn.BarcodeFormat.UPC_E],[Ce.UPC_EAN_EXTENSION,bn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!bn)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=e,this.logger=r;var i=this.createZXingFormats(n),o=new Map;o.set(bn.DecodeHintType.POSSIBLE_FORMATS,i),o.set(bn.DecodeHintType.TRY_HARDER,!1),this.hints=o}return t.prototype.decodeAsync=function(n){var e=this;return new Promise(function(r,i){try{r(e.decode(n))}catch(o){i(o)}})},t.prototype.decode=function(n){var e=new bn.MultiFormatReader(this.verbose,this.hints),r=new bn.HTMLCanvasElementLuminanceSource(n),i=new bn.BinaryBitmap(new bn.HybridBinarizer(r)),o=e.decode(i);return{text:o.text,format:uS.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(e,r,i){n.set(e,r)}),n},t.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have "+n;return this.reverseFormatMap.get(n)},t.prototype.createZXingFormats=function(n){for(var e=[],r=0,i=n;r<i.length;r++){var o=i[r];this.formatMap.has(o)?e.push(this.formatMap.get(o)):this.logger.logError(o+" is not supported byZXingHtml5QrcodeShim")}return e},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),_S=function(){function t(n,e,r){if(this.formatMap=new Map([[Ce.QR_CODE,"qr_code"],[Ce.AZTEC,"aztec"],[Ce.CODABAR,"codabar"],[Ce.CODE_39,"code_39"],[Ce.CODE_93,"code_93"],[Ce.CODE_128,"code_128"],[Ce.DATA_MATRIX,"data_matrix"],[Ce.ITF,"itf"],[Ce.EAN_13,"ean_13"],[Ce.EAN_8,"ean_8"],[Ce.PDF_417,"pdf417"],[Ce.UPC_A,"upc_a"],[Ce.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=e,this.logger=r;var i=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){return"BarcodeDetector"in window&&typeof new BarcodeDetector({formats:["qr_code"]})<"u"},t.prototype.decodeAsync=function(n){return function(t,n,e,r){return new(e||(e=Promise))(function(o,c){function f(y){try{m(r.next(y))}catch(D){c(D)}}function p(y){try{m(r.throw(y))}catch(D){c(D)}}function m(y){y.done?o(y.value):function i(o){return o instanceof e?o:new e(function(c){c(o)})}(y.value).then(f,p)}m((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function(){var e,r;return function(t,n){var r,i,o,c,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(y){return function p(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&m[0]?i.return:m[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,m[1])).done)return o;switch(i=0,o&&(m=[2&m[0],o.value]),m[0]){case 0:case 1:o=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,i=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!o||m[1]>o[0]&&m[1]<o[3])){e.label=m[1];break}if(6===m[0]&&e.label<o[1]){e.label=o[1],o=m;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(m);break}o[2]&&e.ops.pop(),e.trys.pop();continue}m=n.call(t,e)}catch(y){m=[6,y],i=0}finally{r=o=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,y])}}}(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(n)];case 1:if(!(e=i.sent())||0===e.length)throw"No barcode or QR code detected.";return[2,{text:(r=this.selectLargestBarcode(e)).rawValue,format:uS.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(n){for(var e=null,r=0,i=0,o=n;i<o.length;i++){var c=o[i],f=c.boundingBox.width*c.boundingBox.height;f>r&&(r=f,e=c)}if(!e)throw"No largest barcode found";return e},t.prototype.createBarcodeDetectorFormats=function(n){for(var e=[],r=0,i=n;r<i.length;r++){var o=i[r];this.formatMap.has(o)?e.push(this.formatMap.get(o)):this.logger.warn(o+" is not supported byBarcodeDetectorDelegate")}return{formats:e}},t.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have "+n;return this.reverseFormatMap.get(n)},t.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(e,r,i){n.set(e,r)}),n},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),vS=function(t,n,e,r){return new(e||(e=Promise))(function(o,c){function f(y){try{m(r.next(y))}catch(D){c(D)}}function p(y){try{m(r.throw(y))}catch(D){c(D)}}function m(y){y.done?o(y.value):function i(o){return o instanceof e?o:new e(function(c){c(o)})}(y.value).then(f,p)}m((r=r.apply(t,n||[])).next())})},yS=function(t,n){var r,i,o,c,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(y){return function p(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&m[0]?i.return:m[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,m[1])).done)return o;switch(i=0,o&&(m=[2&m[0],o.value]),m[0]){case 0:case 1:o=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,i=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!o||m[1]>o[0]&&m[1]<o[3])){e.label=m[1];break}if(6===m[0]&&e.label<o[1]){e.label=o[1],o=m;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(m);break}o[2]&&e.ops.pop(),e.trys.pop();continue}m=n.call(t,e)}catch(y){m=[6,y],i=0}finally{r=o=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,y])}}},xH=function(){function t(n,e,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,e&&_S.isSupported()?(this.primaryDecoder=new _S(n,r,i),this.secondaryDecoder=new mS(n,r,i)):this.primaryDecoder=new mS(n,r,i)}return t.prototype.decodeAsync=function(n){return vS(this,void 0,void 0,function(){var e;return yS(this,function(r){switch(r.label){case 0:e=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(e),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(n){return vS(this,void 0,void 0,function(){var e,r;return yS(this,function(i){switch(i.label){case 0:e=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw r;case 4:return this.possiblyLogPerformance(e),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?!1===this.wasPrimaryDecoderUsedInLastDecode?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(n){if(this.verbose){var e=performance.now()-n;this.executionResults.push(e),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,e=0,r=this.executionResults;e<r.length;e++)n+=r[e];console.log(n/this.executionResults.length+" ms for "+this.executionResults.length+" last runs."),this.executions=0,this.executionResults=[]}},t}(),l_=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),op=function(t,n,e,r){return new(e||(e=Promise))(function(o,c){function f(y){try{m(r.next(y))}catch(D){c(D)}}function p(y){try{m(r.throw(y))}catch(D){c(D)}}function m(y){y.done?o(y.value):function i(o){return o instanceof e?o:new e(function(c){c(o)})}(y.value).then(f,p)}m((r=r.apply(t,n||[])).next())})},sp=function(t,n){var r,i,o,c,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(y){return function p(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&m[0]?i.return:m[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,m[1])).done)return o;switch(i=0,o&&(m=[2&m[0],o.value]),m[0]){case 0:case 1:o=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,i=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!o||m[1]>o[0]&&m[1]<o[3])){e.label=m[1];break}if(6===m[0]&&e.label<o[1]){e.label=o[1],o=m;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(m);break}o[2]&&e.ops.pop(),e.trys.pop();continue}m=n.call(t,e)}catch(y){m=[6,y],i=0}finally{r=o=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,y])}}},bS=function(){function t(n,e){this.name=n,this.track=e}return t.prototype.isSupported=function(){return!!this.track.getCapabilities&&this.name in this.track.getCapabilities()},t.prototype.apply=function(n){var e={};return e[this.name]=n,this.track.applyConstraints({advanced:[e]})},t.prototype.value=function(){var n=this.track.getSettings();return this.name in n?n[this.name]:null},t}(),AH=function(t){function n(e,r){return t.call(this,e,r)||this}return l_(n,t),n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(e){var r={};return r[this.name]=e,this.track.applyConstraints({advanced:[r]})},n.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities()[this.name];return{min:r.min,max:r.max,step:r.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error(this.name+" capability not supported")},n}(bS),SH=function(t){function n(e){return t.call(this,"zoom",e)||this}return l_(n,t),n}(AH),TH=function(t){function n(e){return t.call(this,"torch",e)||this}return l_(n,t),n}(bS),NH=function(){function t(n){this.track=n}return t.prototype.zoomFeature=function(){return new SH(this.track)},t.prototype.torchFeature=function(){return new TH(this.track)},t}(),IH=function(){function t(n,e,r){this.isClosed=!1,this.parentElement=n,this.mediaStream=e,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return t.prototype.createVideoElement=function(n){var e=document.createElement("video");return e.style.width=n+"px",e.style.display="block",e.muted=!0,e.setAttribute("muted","true"),e.playsInline=!0,e},t.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var e=function(){n.callbacks.onRenderSurfaceReady(n.surface.clientWidth,n.surface.clientHeight),n.surface.removeEventListener("playing",e)};this.surface.addEventListener("playing",e),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(n,e,r,i){return op(this,void 0,void 0,function(){var o,c;return sp(this,function(f){switch(f.label){case 0:return o=new t(n,e,i),r.aspectRatio?(c={aspectRatio:r.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:f.sent(),f.label=2;case 2:return o.setupSurface(),[2,o]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),0===this.mediaStream.getVideoTracks().length)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(n){this.failIfClosed();var e=this,r=function(){setTimeout(n,200),e.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(n){return op(this,void 0,void 0,function(){return sp(this,function(e){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(e,r){var o=n.mediaStream.getVideoTracks().length,c=0;n.mediaStream.getVideoTracks().forEach(function(f){n.mediaStream.removeTrack(f),f.stop(),++c>=o&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),e())})})},t.prototype.getCapabilities=function(){return new NH(this.getFirstTrackOrFail())},t}(),MH=function(){function t(n){this.mediaStream=n}return t.prototype.render=function(n,e,r){return op(this,void 0,void 0,function(){return sp(this,function(i){return[2,IH.create(n,this.mediaStream,e,r)]})})},t.create=function(n){return op(this,void 0,void 0,function(){return sp(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[4,navigator.mediaDevices.getUserMedia({audio:!1,video:n})];case 1:return[2,new t(i.sent())]}})})},t}(),CS=function(t,n,e,r){return new(e||(e=Promise))(function(o,c){function f(y){try{m(r.next(y))}catch(D){c(D)}}function p(y){try{m(r.throw(y))}catch(D){c(D)}}function m(y){y.done?o(y.value):function i(o){return o instanceof e?o:new e(function(c){c(o)})}(y.value).then(f,p)}m((r=r.apply(t,n||[])).next())})},wS=function(t,n){var r,i,o,c,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(y){return function p(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&m[0]?i.return:m[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,m[1])).done)return o;switch(i=0,o&&(m=[2&m[0],o.value]),m[0]){case 0:case 1:o=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,i=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!o||m[1]>o[0]&&m[1]<o[3])){e.label=m[1];break}if(6===m[0]&&e.label<o[1]){e.label=o[1],o=m;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(m);break}o[2]&&e.ops.pop(),e.trys.pop();continue}m=n.call(t,e)}catch(y){m=[6,y],i=0}finally{r=o=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,y])}}},OH=function(){function t(){}return t.failIfNotSupported=function(){return CS(this,void 0,void 0,function(){return wS(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(n){return CS(this,void 0,void 0,function(){return wS(this,function(e){return[2,MH.create(n)]})})},t}(),kH=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var n=td.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(n=td.insecureContextCameraQueryError()),Promise.reject(n)},t.isHttpsOrLocalhost=function(){if("https:"===location.protocol)return!0;var n=location.host.split(":")[0];return"127.0.0.1"===n||"localhost"===n},t.getCamerasFromMediaDevices=function(){return function(t,n,e,r){return new(e||(e=Promise))(function(o,c){function f(y){try{m(r.next(y))}catch(D){c(D)}}function p(y){try{m(r.throw(y))}catch(D){c(D)}}function m(y){y.done?o(y.value):function i(o){return o instanceof e?o:new e(function(c){c(o)})}(y.value).then(f,p)}m((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function(){var n,e,r,i,o,c,f;return function(t,n){var r,i,o,c,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(y){return function p(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&m[0]?i.return:m[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,m[1])).done)return o;switch(i=0,o&&(m=[2&m[0],o.value]),m[0]){case 0:case 1:o=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,i=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!o||m[1]>o[0]&&m[1]<o[3])){e.label=m[1];break}if(6===m[0]&&e.label<o[1]){e.label=o[1],o=m;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(m);break}o[2]&&e.ops.pop(),e.trys.pop();continue}m=n.call(t,e)}catch(y){m=[6,y],i=0}finally{r=o=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,y])}}}(this,function(p){switch(p.label){case 0:return n=function(m){for(var D=0,A=m.getVideoTracks();D<A.length;D++){var I=A[D];I.enabled=!1,I.stop(),m.removeTrack(I)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return e=p.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=p.sent(),i=[],o=0,c=r;o<c.length;o++)"videoinput"===(f=c[o]).kind&&i.push({id:f.deviceId,label:f.label});return n(e),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,e){MediaStreamTrack.getSources(function(o){for(var c=[],f=0,p=o;f<p.length;f++){var m=p[f];"video"===m.kind&&c.push({id:m.id,label:m.label})}n(c)})})},t}(),On=(()=>(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"}(On||(On={})),On))(),PH=function(){function t(){this.state=On.NOT_STARTED,this.onGoingTransactionNewState=On.UNKNOWN}return t.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},t.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===On.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=On.UNKNOWN,this.directTransition(n)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===On.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=On.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==On.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(n){switch(this.state){case On.UNKNOWN:throw"Transition from unknown is not allowed";case On.NOT_STARTED:this.failIfNewStateIs(n,[On.PAUSED])}},t.prototype.failIfNewStateIs=function(n,e){for(var r=0,i=e;r<i.length;r++)if(n===i[r])throw"Cannot transition from "+this.state+" to "+n},t}(),LH=function(){function t(n){this.stateManager=n}return t.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},t.prototype.directTransition=function(n){this.stateManager.directTransition(n)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===On.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==On.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===On.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===On.PAUSED},t}(),BH=function(){function t(){}return t.create=function(){return new LH(new PH)},t}(),UH=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ni=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return UH(n,t),n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(_o),VH=function(){function t(n,e){this.logger=e,this.fps=Ni.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=!0===n.disableFlip,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=Ni.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?gS.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Ho(this.qrbox)},t.create=function(n,e){return new t(n,e)},t}(),c_=function(){function t(n,e){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id="+n+" not found";var i;this.elementId=n,this.verbose=!1,"boolean"==typeof e?this.verbose=!0===e:e&&(this.verbose=!0===(i=e).verbose),this.logger=new hS(this.verbose),this.qrcode=new xH(this.getSupportedFormats(e),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.shouldScan=!0,this.stateManagerProxy=BH.create()}return t.prototype.start=function(n,e,r,i){var c,o=this;if(!n)throw"cameraIdOrConfig is required";if(!r||"function"!=typeof r)throw"qrCodeSuccessCallback is required and should be a function.";c=i||(this.verbose?this.logger.log:function(){});var f=VH.create(e,this.logger);this.clearElement();var p=!1;f.videoConstraints&&(f.isMediaStreamConstraintsValid()?p=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=p,y=document.getElementById(this.elementId);y.style.position="relative",this.shouldScan=!0,this.element=y;var A=this,I=this.stateManagerProxy.startTransition(On.SCANNING);return new Promise(function(P,B){var G=m?f.videoConstraints:A.createVideoConstraints(n);if(!G)return I.cancel(),void B("videoConstraints should be defined");var z={};(!m||f.aspectRatio)&&(z.aspectRatio=f.aspectRatio);var Z={onRenderSurfaceReady:function(q,ne){A.setupUi(q,ne,f),A.isScanning=!0,A.foreverScan(f,r,c)}};OH.failIfNotSupported().then(function(q){q.create(G).then(function(ne){return ne.render(o.element,z,Z).then(function(ge){A.renderedCamera=ge,I.execute(),P(null)}).catch(function(ge){I.cancel(),B(ge)})}).catch(function(ne){I.cancel(),B(td.errorGettingUserMedia(ne))})}).catch(function(q){I.cancel(),B(td.cameraStreamingNotSupported())})})},t.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(On.PAUSED),this.showPausedState(),(Ho(n)||!0!==n)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,e=function(){n.stateManagerProxy.directTransition(On.SCANNING),n.hidePausedState()};this.renderedCamera.isPaused()?this.renderedCamera.resume(function(){e()}):e()},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var e=this.stateManagerProxy.startTransition(On.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),function(){if(n.element){var o=document.getElementById(Ni.SHADED_REGION_ELEMENT_ID);o&&n.element.removeChild(o)}}(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),e.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(n,e){return this.scanFileV2(n,e).then(function(r){return r.decodedText})},t.prototype.scanFileV2=function(n,e){var r=this;if(!(n&&n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ho(e)&&(e=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,o){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(n);var c=new Image;c.onload=function(){var f=c.width,p=c.height,m=document.getElementById(r.elementId),y=m.clientWidth?m.clientWidth:Ni.DEFAULT_WIDTH,D=Math.max(m.clientHeight?m.clientHeight:p,Ni.FILE_SCAN_MIN_HEIGHT),A=r.computeCanvasDrawConfig(f,p,y,D);if(e){var I=r.createCanvasElement(y,D,"qr-canvas-visible");I.style.display="inline-block",m.appendChild(I);var P=I.getContext("2d");if(!P)throw"Unable to get 2d context from canvas";P.canvas.width=y,P.canvas.height=D,P.drawImage(c,0,0,f,p,A.x,A.y,A.width,A.height)}var B=Ni.FILE_SCAN_HIDDEN_CANVAS_PADDING,G=Math.max(c.width,A.width),z=Math.max(c.height,A.height),Z=G+2*B,q=z+2*B,ne=r.createCanvasElement(Z,q);m.appendChild(ne);var ge=ne.getContext("2d");if(!ge)throw"Unable to get 2d context from canvas";ge.canvas.width=Z,ge.canvas.height=q,ge.drawImage(c,0,0,f,p,B,B,G,z);try{r.qrcode.decodeRobustlyAsync(ne).then(function(Ae){i(dS.createFromQrcodeResult(Ae))}).catch(o)}catch(Ae){o("QR code parse error, error = "+Ae)}},c.onerror=o,c.onabort=o,c.onstalled=o,c.onsuspend=o,c.src=URL.createObjectURL(n)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return kH.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(n){if(!n)throw"videoConstaints is required argument.";if(!gS.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},t.prototype.getRenderedCameraOrFail=function(){if(null==this.renderedCamera)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(n){if(!n||"boolean"==typeof n||!n.formatsToSupport)return[Ce.QR_CODE,Ce.AZTEC,Ce.CODABAR,Ce.CODE_39,Ce.CODE_93,Ce.CODE_128,Ce.DATA_MATRIX,Ce.MAXICODE,Ce.ITF,Ce.EAN_13,Ce.EAN_8,Ce.PDF_417,Ce.RSS_14,Ce.RSS_EXPANDED,Ce.UPC_A,Ce.UPC_E,Ce.UPC_EAN_EXTENSION];if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(0===n.formatsToSupport.length)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,o=n.formatsToSupport;i<o.length;i++){var c=o[i];CH(c)?r.push(c):this.logger.warn("Invalid format: "+c+" passed in config, ignoring.")}if(0===r.length)throw"None of formatsToSupport match supported values.";return r},t.prototype.getUseBarCodeDetectorIfSupported=function(n){if(Ho(n))return!0;if(!Ho(n.useBarCodeDetectorIfSupported))return!1!==n.useBarCodeDetectorIfSupported;if(Ho(n.experimentalFeatures))return!0;var e=n.experimentalFeatures;return!!Ho(e.useBarCodeDetectorIfSupported)||!1!==e.useBarCodeDetectorIfSupported},t.prototype.validateQrboxSize=function(n,e,r){var o=r.qrbox;this.validateQrboxConfig(o);var m,c=this.toQrdimensions(n,e,o),f=function(m){if(m<Ni.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is "+Ni.MIN_QR_BOX_SIZE+"px."};f(c.width),f(c.height),c.width=((m=c.width)>n&&(this.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=n),m)},t.prototype.validateQrboxConfig=function(n){if("number"!=typeof n&&"function"!=typeof n&&(void 0===n.width||void 0===n.height))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(n,e,r){if("number"==typeof r)return{width:r,height:r};if("function"==typeof r)try{return r(n,e)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},t.prototype.setupUi=function(n,e,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(n,e,r);var i=Ho(r.qrbox)?{width:n,height:e}:r.qrbox;this.validateQrboxConfig(i);var o=this.toQrdimensions(n,e,i);o.height>e&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=r.isShadedBoxEnabled()&&o.height<=e,f={x:0,y:0,width:n,height:e},p=c?this.getShadedRegionBounds(n,e,o):f,m=this.createCanvasElement(p.width,p.height),D=m.getContext("2d",{willReadFrequently:!0});D.canvas.width=p.width,D.canvas.height=p.height,this.element.append(m),c&&this.possiblyInsertShadingElement(this.element,n,e,o),this.createScannerPausedUiElement(this.element),this.qrRegion=p,this.context=D,this.canvasElement=m},t.prototype.createScannerPausedUiElement=function(n){var e=document.createElement("div");e.innerText="Scanner paused",e.style.display="none",e.style.position="absolute",e.style.top="0px",e.style.zIndex="1",e.style.background="yellow",e.style.textAlign="center",e.style.width="100%",n.appendChild(e),this.scannerPausedUiElement=e},t.prototype.scanContext=function(n,e){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return n(i.text,dS.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var o=td.codeParseError(i);return e(o,fS.createFrom(o)),!1})},t.prototype.foreverScan=function(n,e,r){var i=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),c=o.videoWidth/o.clientWidth,f=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";this.context.drawImage(o,this.qrRegion.x*c,this.qrRegion.y*f,this.qrRegion.width*c,this.qrRegion.height*f,0,0,this.qrRegion.width,this.qrRegion.height);var A=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(n,e,r)},i.getTimeoutFps(n.fps))};this.scanContext(e,r).then(function(I){I||!0===n.disableFlip?A():(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(e,r).finally(function(){A()}))}).catch(function(I){i.logger.logError("Error happend while scanning context",I),A()})}},t.prototype.createVideoConstraints=function(n){if("string"==typeof n)return{deviceId:{exact:n}};if("object"==typeof n){var e="facingMode",r="deviceId",i={user:!0,environment:!0},o="exact",c=function(P){if(P in i)return!0;throw"config has invalid 'facingMode' value = '"+P+"'"},f=Object.keys(n);if(1!==f.length)throw"'cameraIdOrConfig' object should have exactly 1 key, if passed as an object, found "+f.length+" keys";var p=Object.keys(n)[0];if(p!==e&&p!==r)throw"Only '"+e+"' and '"+r+"'  are supported for 'cameraIdOrConfig'";if(p!==e){var D=n.deviceId;if("string"==typeof D)return{deviceId:D};if("object"==typeof D){if(o in D)return{deviceId:{exact:D.exact}};throw"'deviceId' should be string or object with exact as key."}throw"Invalid type of 'deviceId' = "+typeof D}var m=n.facingMode;if("string"==typeof m){if(c(m))return{facingMode:m}}else{if("object"!=typeof m)throw"Invalid type of 'facingMode' = "+typeof m;if(!(o in m))throw"'facingMode' should be string or object with exact as key.";if(c(m.exact))return{facingMode:{exact:m.exact}}}}throw"Invalid type of 'cameraIdOrConfig' = "+typeof n},t.prototype.computeCanvasDrawConfig=function(n,e,r,i){if(n<=r&&e<=i)return{x:(r-n)/2,y:(i-e)/2,width:n,height:e};var f=n,p=e;return n>r&&(e*=r/n,n=r),e>i&&(n*=i/e,e=i),this.logger.log("Image downsampled from "+f+"X"+p+" to "+n+"X"+e+"."),this.computeCanvasDrawConfig(n,e,r,i)},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},t.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(e){e.style.backgroundColor=n?Ni.BORDER_SHADER_MATCH_COLOR:Ni.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(n,e,r){var i=n,o=e,c=document.createElement("canvas");return c.style.width=i+"px",c.style.height=o+"px",c.style.display="none",c.id=Ho(r)?"qr-canvas":r,c},t.prototype.getShadedRegionBounds=function(n,e,r){if(r.width>n||r.height>e)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-r.width)/2,y:(e-r.height)/2,width:r.width,height:r.height}},t.prototype.possiblyInsertShadingElement=function(n,e,r,i){if(!(e-i.width<1||r-i.height<1)){var o=document.createElement("div");o.style.position="absolute";var c=(e-i.width)/2,f=(r-i.height)/2;if(o.style.borderLeft=c+"px solid rgba(0, 0, 0, 0.48)",o.style.borderRight=c+"px solid rgba(0, 0, 0, 0.48)",o.style.borderTop=f+"px solid rgba(0, 0, 0, 0.48)",o.style.borderBottom=f+"px solid rgba(0, 0, 0, 0.48)",o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id=""+Ni.SHADED_REGION_ELEMENT_ID,e-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{this.insertShaderBorders(o,40,5,-5,null,0,!0),this.insertShaderBorders(o,40,5,-5,null,0,!1),this.insertShaderBorders(o,40,5,null,-5,0,!0),this.insertShaderBorders(o,40,5,null,-5,0,!1),this.insertShaderBorders(o,5,45,-5,null,-5,!0),this.insertShaderBorders(o,5,45,null,-5,-5,!0),this.insertShaderBorders(o,5,45,-5,null,-5,!1),this.insertShaderBorders(o,5,45,null,-5,-5,!1),this.hasBorderShaders=!0}n.append(o)}},t.prototype.insertShaderBorders=function(n,e,r,i,o,c,f){var p=document.createElement("div");p.style.position="absolute",p.style.backgroundColor=Ni.BORDER_SHADER_DEFAULT_COLOR,p.style.width=e+"px",p.style.height=r+"px",null!==i&&(p.style.top=i+"px"),null!==o&&(p.style.bottom=o+"px"),f?p.style.left=c+"px":p.style.right=c+"px",this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(p),n.appendChild(p)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(n){return 1e3/n},t}(),DS="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",ES=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),zH=function(){function t(){this.data=ES.createDefault();var n=localStorage.getItem(t.LOCAL_STORAGE_KEY);n?this.data=JSON.parse(n):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(n){this.data.hasPermission=n,this.flush()},t.prototype.setLastUsedCameraId=function(n){this.data.lastUsedCameraId=n,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=ES.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}(),$H=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(n){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=pS.poweredBy();var e=document.createElement("a");e.innerText="ScanApp",e.href="https://scanapp.org",e.target="new",e.style.color="white",this.infoDiv.appendChild(e);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var o=document.createElement("a");o.innerText=pS.reportIssues(),o.href="https://github.com/mebjas/html5-qrcode/issues",o.target="new",o.style.color="white",this.infoDiv.appendChild(o),n.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),WH=function(){function t(n,e){this.isShowingInfoIcon=!0,this.onTapIn=n,this.onTapOut=e,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(n){var e=this;this.infoIcon.alt="Info icon",this.infoIcon.src=DS,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return e.onHoverIn()},this.infoIcon.onmouseout=function(r){return e.onHoverOut()},this.infoIcon.onclick=function(r){return e.onClick()},n.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=DS,this.infoIcon.style.opacity="0.6")},t}(),qH=function(){function t(){var n=this;this.infoDiv=new $H,this.infoIcon=new WH(function(){n.infoDiv.show()},function(){n.infoDiv.hide()})}return t.prototype.renderInto=function(n){this.infoDiv.renderInto(n),this.infoIcon.renderInto(n)},t}(),xS=function(){function t(){}return t.hasPermissions=function(){return function(t,n,e,r){return new(e||(e=Promise))(function(o,c){function f(y){try{m(r.next(y))}catch(D){c(D)}}function p(y){try{m(r.throw(y))}catch(D){c(D)}}function m(y){y.done?o(y.value):function i(o){return o instanceof e?o:new e(function(c){c(o)})}(y.value).then(f,p)}m((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function(){var n,e,r,i;return function(t,n){var r,i,o,c,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(y){return function p(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&m[0]?i.return:m[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,m[1])).done)return o;switch(i=0,o&&(m=[2&m[0],o.value]),m[0]){case 0:case 1:o=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,i=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!o||m[1]>o[0]&&m[1]<o[3])){e.label=m[1];break}if(6===m[0]&&e.label<o[1]){e.label=o[1],o=m;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(m);break}o[2]&&e.ops.pop(),e.trys.pop();continue}m=n.call(t,e)}catch(y){m=[6,y],i=0}finally{r=o=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,y])}}}(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(n=o.sent(),e=0,r=n;e<r.length;e++)if("videoinput"===(i=r[e]).kind&&i.label)return[2,!0];return[2,!1]}})})},t}(),Zs=function(){function t(n){this.supportedScanTypes=this.validateAndReturnScanTypes(n)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var n=0,e=this.supportedScanTypes;n<e.length;n++)if(t.isCameraScanType(e[n]))return!0;return!1},t.isCameraScanType=function(n){return n===_s.SCAN_TYPE_CAMERA},t.isFileScanType=function(n){return n===_s.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(n){if(!n||0===n.length)return _o.DEFAULT_SUPPORTED_SCAN_TYPE;var e=_o.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(n.length>e)throw"Max "+e+" values expected for supportedScanTypes";for(var r=0,i=n;r<i.length;r++){var o=i[r];if(!_o.DEFAULT_SUPPORTED_SCAN_TYPE.includes(o))throw"Unsupported scan type "+o}return n},t}(),Ii=function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t}(),vs=function(){function t(){}return t.createElement=function(n,e){var r=document.createElement(n);return r.id=e,r.classList.add(Ii.ALL_ELEMENT_CLASS),"button"===n&&r.setAttribute("type","button"),r},t}(),AS=function(t,n,e,r){return new(e||(e=Promise))(function(o,c){function f(y){try{m(r.next(y))}catch(D){c(D)}}function p(y){try{m(r.throw(y))}catch(D){c(D)}}function m(y){y.done?o(y.value):function i(o){return o instanceof e?o:new e(function(c){c(o)})}(y.value).then(f,p)}m((r=r.apply(t,n||[])).next())})},SS=function(t,n){var r,i,o,c,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(y){return function p(m){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&m[0]?i.return:m[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,m[1])).done)return o;switch(i=0,o&&(m=[2&m[0],o.value]),m[0]){case 0:case 1:o=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,i=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!o||m[1]>o[0]&&m[1]<o[3])){e.label=m[1];break}if(6===m[0]&&e.label<o[1]){e.label=o[1],o=m;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(m);break}o[2]&&e.ops.pop(),e.trys.pop();continue}m=n.call(t,e)}catch(y){m=[6,y],i=0}finally{r=o=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,y])}}},TS=function(){function t(n,e,r){this.isTorchOn=!1,this.torchCapability=n,this.buttonController=e,this.onTorchActionFailureCallback=r}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return AS(this,void 0,void 0,function(){var n,e;return SS(this,function(r){switch(r.label){case 0:this.buttonController.disable(),n=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(n)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),n),[3,4];case 3:return e=r.sent(),this.propagateFailure(n,e),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(n,e){n===e?(this.buttonController.setText(e?on.torchOffButton():on.torchOnButton()),this.isTorchOn=e):this.propagateFailure(e),this.buttonController.enable()},t.prototype.propagateFailure=function(n,e){var r=n?on.torchOnFailedMessage():on.torchOffFailedMessage();e&&(r+="; Error = "+e),this.onTorchActionFailureCallback(r)},t.prototype.reset=function(){this.isTorchOn=!1},t}(),XH=function(){function t(n,e){this.onTorchActionFailureCallback=e,this.torchButton=vs.createElement("button",Ii.TORCH_BUTTON_ID),this.torchController=new TS(n,this,e)}return t.prototype.render=function(n,e){var r=this;this.torchButton.innerText=on.torchOnButton(),this.torchButton.style.display=e.display,this.torchButton.style.marginLeft=e.marginLeft;var i=this;this.torchButton.addEventListener("click",function(o){return AS(r,void 0,void 0,function(){return SS(this,function(c){switch(c.label){case 0:return[4,i.torchController.flipState()];case 1:return c.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(Ii.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(Ii.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(Ii.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(Ii.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),n.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(n){this.torchController=new TS(n,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(n){this.torchButton.innerText=n},t.prototype.reset=function(){this.torchButton.innerText=on.torchOnButton(),this.torchController.reset()},t.create=function(n,e,r,i){var o=new t(e,i);return o.render(n,r),o},t}(),QH=function(){function t(n,e,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=e?"block":"none",n.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=vs.createElement("button",Ii.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(f){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=vs.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var o=this;this.fileScanInput.addEventListener("change",function(f){if(null!=f&&null!=f.target){var p=f.target;if(!p.files||0!==p.files.length){var y=p.files[0];o.setImageNameToButton(y.name),r(y)}}});var c=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(c),this.fileBasedScanRegion.addEventListener("dragenter",function(f){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(f){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(f){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(f){f.stopPropagation(),f.preventDefault(),o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder();var p=f.dataTransfer;if(p){var m=p.files;if(!m||0===m.length)return;for(var y=!1,D=0;D<m.length;++D){var A=m.item(D);if(A&&A.type.match(/image.*/)){y=!0,o.setImageNameToButton(A.name),r(A),c.innerText=on.dragAndDropMessage();break}}y||(c.innerText=on.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return"block"===this.fileBasedScanRegion.style.display},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var n=document.createElement("div");return n.style.textAlign="center",n.style.margin="auto",n.style.width="80%",n.style.maxWidth="600px",n.style.border=this.fileBasedScanRegionDefaultBorder(),n.style.padding="10px",n.style.marginBottom="10px",n},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var n=document.createElement("div");return n.innerText=on.dragAndDropMessage(),n.style.fontWeight="400",n},t.prototype.setImageNameToButton=function(n){if(n.length>20){var r=n.substring(0,8),i=n.length,o=n.substring(i-8,i);n=r+"...."+o}var c=on.fileSelectionChooseAnother()+" - "+n;this.fileSelectionButton.innerText=c},t.prototype.setInitialValueToButton=function(){var n=on.fileSelectionChooseImage()+" - "+on.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=n},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(n,e,r){return new t(n,e,r)},t}(),KH=function(){function t(n){this.selectElement=vs.createElement("select",Ii.CAMERA_SELECTION_SELECT_ID),this.cameras=n,this.options=[]}return t.prototype.render=function(n){var e=document.createElement("span");e.style.marginRight="10px";var r=this.cameras.length;if(0===r)throw new Error("No cameras found");if(1===r)e.style.display="none";else{var i=on.selectCamera();e.innerText=i+" ("+this.cameras.length+")  "}for(var o=1,c=0,f=this.cameras;c<f.length;c++){var p=f[c],m=p.id,y=p.label??m;(!y||""===y)&&(y=[on.anonymousCameraPrefix(),o++].join(" "));var D=document.createElement("option");D.value=m,D.innerText=y,this.options.push(D),this.selectElement.appendChild(D)}e.appendChild(this.selectElement),n.appendChild(e)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return!0===this.selectElement.disabled},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(n){for(var e=0,r=this.options;e<r.length;e++)if(r[e].value===n)return!0;return!1},t.prototype.setValue=function(n){if(!this.hasValue(n))throw new Error(n+" is not present in the camera list.");this.selectElement.value=n},t.prototype.hasSingleItem=function(){return 1===this.cameras.length},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(n,e){var r=new t(e);return r.render(n),r},t}(),JH=function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=vs.createElement("input",Ii.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(n,e){this.zoomElementContainer.style.display=e?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",n.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=on.zoom();this.rangeText.innerText=this.rangeInput.value+"x "+r,this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var n=on.zoom();this.rangeText.innerText=this.rangeInput.value+"x "+n,this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(n,e,r,i){this.rangeInput.min=n.toString(),this.rangeInput.max=e.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(n){this.onChangeCallback=n},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(n,e){var r=new t;return r.render(n,e),r},t}(),mi=(()=>(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"}(mi||(mi={})),mi))();function nj(t,n){1&t&&(w(0,"div",6),U(1,"i",7),S(2," El sistema no ha encontrado c\xe1maras disponibles para realizar la validaci\xf3n de facturas. "),E())}function rj(t,n){if(1&t){const e=qe();w(0,"div")(1,"p",8),S(2),E(),w(3,"div",9)(4,"button",10),j("click",function(){return Ee(e),xe(K().updateInvoiceAsPaid())}),S(5," Marcar como pagada "),E(),w(6,"button",11),j("click",function(){return Ee(e),xe(K().startCamera())}),S(7," Cancelar "),E()()()}if(2&t){const e=K();M(2),ht("Factura ",e.invoiceToValidate.id,"")}}!function(){function t(n,e,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=n,this.config=this.createConfig(e),this.verbose=!0===r,!document.getElementById(n))throw"HTML Element with id="+n+" not found";this.scanTypeSelector=new Zs(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new hS(this.verbose),this.persistedDataManager=new zH,!0!==e.rememberLastUsedCamera&&this.persistedDataManager.reset()}t.prototype.render=function(n,e){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(o,c){if(n)n(o,c);else{if(r.lastMatchFound===o)return;r.lastMatchFound=o,r.setHeaderMessage(on.lastMatch(o),mi.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(o,c){e&&e(o,c)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id="+this.elementId+" not found";i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new c_(this.getScanRegionId(),function tj(t,n){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:n}}(this.config,this.verbose))},t.prototype.pause=function(n){(Ho(n)||!0!==n)&&(n=!1),this.getHtml5QrcodeOrFail().pause(n)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var n=this,e=function(){var r=document.getElementById(n.elementId);r&&(r.innerHTML="",n.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){n.html5Qrcode?n.html5Qrcode.isScanning?n.html5Qrcode.stop().then(function(o){n.html5Qrcode?(n.html5Qrcode.clear(),e(),r()):r()}).catch(function(o){n.verbose&&n.logger.logError("Unable to stop qrcode scanner",o),i(o)}):(n.html5Qrcode.clear(),e()):r()}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(n){return this.getHtml5QrcodeOrFail().applyVideoConstraints(n)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(n){return n?(n.fps||(n.fps=_o.SCAN_DEFAULT_FPS),n.rememberLastUsedCamera!==!_o.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(n.rememberLastUsedCamera=_o.DEFAULT_REMEMBER_LAST_CAMERA_USED),n.supportedScanTypes||(n.supportedScanTypes=_o.DEFAULT_SUPPORTED_SCAN_TYPE),n):{fps:_o.SCAN_DEFAULT_FPS,rememberLastUsedCamera:_o.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:_o.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(n){n.style.position="relative",n.style.padding="0px",n.style.border="1px solid silver",this.createHeader(n);var e=document.createElement("div"),r=this.getScanRegionId();e.id=r,e.style.width="100%",e.style.minHeight="100px",e.style.textAlign="center",n.appendChild(e),Zs.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),o=this.getDashboardId();i.id=o,i.style.width="100%",n.appendChild(i),this.setupInitialDashboard(i)},t.prototype.resetBasicLayout=function(n){n.style.border="none"},t.prototype.setupInitialDashboard=function(n){this.createSection(n),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(n){var e=document.createElement("div");e.style.textAlign="left",e.style.margin="0px",n.appendChild(e),(new qH).renderInto(e);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",e.appendChild(i)},t.prototype.createSection=function(n){var e=document.createElement("div");e.id=this.getDashboardSectionId(),e.style.width="100%",e.style.padding="10px 0px 10px 0px",e.style.textAlign="left",n.appendChild(e)},t.prototype.createCameraListUi=function(n,e,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(on.cameraPermissionRequesting());var o=function(){r||i.createPermissionButton(n,e)};c_.getCameras().then(function(c){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),c&&c.length>0?(n.removeChild(e),i.renderCameraSelection(c)):(i.setHeaderMessage(on.noCameraFound(),mi.STATUS_WARNING),o())}).catch(function(c){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:o(),i.setHeaderMessage(c,mi.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(n,e){var r=this,i=vs.createElement("button",this.getCameraPermissionButtonId());i.innerText=on.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(n,e,i)}),e.appendChild(i)},t.prototype.createPermissionsUi=function(n,e){var r=this;Zs.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()?xS.hasPermissions().then(function(i){i?r.createCameraListUi(n,e):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(n,e))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(n,e)}):this.createPermissionButton(n,e)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");e.appendChild(r);var i=document.createElement("div");i.id=this.getDashboardSectionCameraScanRegionId(),i.style.display=Zs.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(i);var o=document.createElement("div");o.style.textAlign="center",i.appendChild(o),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(i,o),this.renderFileScanUi(r)},t.prototype.renderFileScanUi=function(n){var e=Zs.isFileScanType(this.currentScanType),r=this;this.fileSelectionUi=QH.create(n,e,function(o){if(!r.html5Qrcode)throw"html5Qrcode not defined";!Zs.isFileScanType(r.currentScanType)||(r.setHeaderMessage(on.loadingImage()),r.html5Qrcode.scanFileV2(o,!0).then(function(c){r.resetHeaderMessage(),r.qrCodeSuccessCallback(c.decodedText,c)}).catch(function(c){r.setHeaderMessage(c,mi.STATUS_WARNING),r.qrCodeErrorCallback(c,fS.createFrom(c))}))})},t.prototype.renderCameraSelection=function(n){var e=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var o=JH.create(i,!1),f=KH.create(i,n),p=document.createElement("span"),m=vs.createElement("button",Ii.CAMERA_START_BUTTON_ID);m.innerText=on.scanButtonStartScanningText(),p.appendChild(m);var D,y=vs.createElement("button",Ii.CAMERA_STOP_BUTTON_ID);y.innerText=on.scanButtonStopScanningText(),y.style.display="none",y.disabled=!0,p.appendChild(y),i.appendChild(p);var I=function(B){B||(m.style.display="none"),m.innerText=on.scanButtonStartScanningText(),m.style.opacity="1",m.disabled=!1,B&&(m.style.display="inline-block")};if(m.addEventListener("click",function(B){m.innerText=on.scanButtonScanningStarting(),f.disable(),m.disabled=!0,m.style.opacity="0.5",e.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var G=f.getValue();r.persistedDataManager.setLastUsedCameraId(G),r.html5Qrcode.start(G,function ej(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(z){y.disabled=!1,y.style.display="inline-block",I(!1);var Z=r.html5Qrcode.getRunningTrackCameraCapabilities();!0===e.config.showTorchButtonIfSupported&&function(B){B.torchFeature().isSupported()?(D?D.updateTorchCapability(B.torchFeature()):D=XH.create(p,B.torchFeature(),{display:"none",marginLeft:"5px"},function(G){r.setHeaderMessage(G,mi.STATUS_WARNING)}),D.show()):D&&D.hide()}(Z),!0===e.config.showZoomSliderIfSupported&&function(B){var G=B.zoomFeature();if(G.isSupported()){o.setOnCameraZoomValueChangeCallback(function(Z){G.apply(Z)});var z=1;e.config.defaultZoomValueIfSupported&&(z=e.config.defaultZoomValueIfSupported),z=function wH(t,n,e){return t>e?e:t<n?n:t}(z,G.min(),G.max()),o.setValues(G.min(),G.max(),z,G.step()),o.show()}}(Z)}).catch(function(z){r.showHideScanTypeSwapLink(!0),f.enable(),I(!0),r.setHeaderMessage(z,mi.STATUS_WARNING)})}),f.hasSingleItem()&&m.click(),y.addEventListener("click",function(B){if(!r.html5Qrcode)throw"html5Qrcode not defined";y.disabled=!0,r.html5Qrcode.stop().then(function(G){e.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),f.enable(),m.disabled=!1,y.style.display="none",m.style.display="inline-block",D&&(D.reset(),D.hide()),o.removeOnCameraZoomValueChangeCallback(),o.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(G){y.disabled=!1,r.setHeaderMessage(G,mi.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var P=r.persistedDataManager.getLastUsedCameraId();f.hasValue(P)?(f.setValue(P),m.click()):r.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var n=this,e=on.textIfCameraScanSelected(),r=on.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),o=document.createElement("div");o.style.textAlign="center";var c=vs.createElement("a",this.getDashboardSectionSwapLinkId());c.style.textDecoration="underline",c.innerText=Zs.isCameraScanType(this.currentScanType)?e:r,c.addEventListener("click",function(){n.sectionSwapAllowed?(n.resetHeaderMessage(),n.fileSelectionUi.resetValue(),n.sectionSwapAllowed=!1,Zs.isCameraScanType(n.currentScanType)?(n.clearScanRegion(),n.getCameraScanRegion().style.display="none",n.fileSelectionUi.show(),c.innerText=r,n.currentScanType=_s.SCAN_TYPE_FILE,n.insertFileScanImageToScanRegion()):(n.clearScanRegion(),n.getCameraScanRegion().style.display="block",n.fileSelectionUi.hide(),c.innerText=e,n.currentScanType=_s.SCAN_TYPE_CAMERA,n.insertCameraScanImageToScanRegion(),n.startCameraScanIfPermissionExistsOnSwap()),n.sectionSwapAllowed=!0):n.verbose&&n.logger.logError("Section swap called when not allowed")}),o.appendChild(c),i.appendChild(o)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var n=this,e=this;this.persistedDataManager.hasCameraPermissions()&&xS.hasPermissions().then(function(r){if(r){var i=document.getElementById(e.getCameraPermissionButtonId());if(!i)throw n.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else e.persistedDataManager.setHasPermission(!1)}).catch(function(r){e.persistedDataManager.setHasPermission(!1)})},t.prototype.resetHeaderMessage=function(){document.getElementById(this.getHeaderMessageContainerId()).style.display="none"},t.prototype.setHeaderMessage=function(n,e){e||(e=mi.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=n,r.style.display="block",e){case mi.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case mi.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)"}},t.prototype.showHideScanTypeSwapLink=function(n){!0!==n&&(n=!1),this.sectionSwapAllowed=n,this.getDashboardSectionSwapLink().style.display=n?"inline-block":"none"},t.prototype.insertCameraScanImageToScanRegion=function(){var n=this,e=document.getElementById(this.getScanRegionId());if(this.cameraScanImage)return e.innerHTML="<br>",void e.appendChild(this.cameraScanImage);this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){e.innerHTML="<br>",e.appendChild(n.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg=="},t.prototype.insertFileScanImageToScanRegion=function(){var n=this,e=document.getElementById(this.getScanRegionId());if(this.fileScanImage)return e.innerHTML="<br>",void e.appendChild(this.fileScanImage);this.fileScanImage=new Image,this.fileScanImage.onload=function(r){e.innerHTML="<br>",e.appendChild(n.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4="},t.prototype.clearScanRegion=function(){document.getElementById(this.getScanRegionId()).innerHTML=""},t.prototype.getDashboardSectionId=function(){return this.elementId+"__dashboard_section"},t.prototype.getDashboardSectionCameraScanRegionId=function(){return this.elementId+"__dashboard_section_csr"},t.prototype.getDashboardSectionSwapLinkId=function(){return Ii.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return this.elementId+"__scan_region"},t.prototype.getDashboardId=function(){return this.elementId+"__dashboard"},t.prototype.getHeaderMessageContainerId=function(){return this.elementId+"__header_message"},t.prototype.getCameraPermissionButtonId=function(){return Ii.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())}}();const ij=[{path:"home",component:wU,canActivate:[nr]},{path:"users",component:qU,canActivate:[nr]},{path:"users/:userId",component:tV,canActivate:[nr]},{path:"clients",component:BU,canActivate:[nr]},{path:"clients/:clientId",component:IV,canActivate:[nr]},{path:"zones",component:jU,canActivate:[nr]},{path:"services",component:iH,canActivate:[nr]},{path:"services/:serviceId",component:cH,canActivate:[nr]},{path:"zones/:zoneId",component:zV,canActivate:[nr]},{path:"hardware",component:XU,canActivate:[nr]},{path:"hardware/:hardwareId",component:ZV,canActivate:[nr]},{path:"invoices",component:bH,canActivate:[nr]},{path:"validate-invoices",component:(()=>{class t{constructor(e,r,i){this.toastGeneratorService=e,this.invoicesApiService=r,this.mainLoaderService=i,this.cameraError=!1}ngOnInit(){this.htmlQrCodeReader=new c_("reader"),this.startCamera()}startCamera(){var e=this;return se(function*(){try{e.invoiceToValidate=void 0,yield e.htmlQrCodeReader.start({facingMode:"environment"},{fps:1,qrbox:{width:250,height:250}},function(){var r=se(function*(i,o){i&&(yield e.htmlQrCodeReader.stop(),e.invoiceToValidate=yield e.invoicesApiService.getInvoiceFromQrCode(i))});return function(i,o){return r.apply(this,arguments)}}(),r=>{})}catch{e.cameraError=!0}})()}updateInvoiceAsPaid(){var e=this;return se(function*(){yield e.mainLoaderService.doWithLoadingScreen(se(function*(){return e.invoiceToValidate?(e.invoiceToValidate.status=1,yield e.invoicesApiService.updateInvoice(e.invoiceToValidate),Rt({header:"Factura actualizada",body:"Factura actualizada correctamente."})):Ot(new Error)})),e.startCamera()})()}}return t.\u0275fac=function(e){return new(e||t)(N(Ys),N(i_),N(un))},t.\u0275cmp=fe({type:t,selectors:[["app-validate-invoices"]],decls:8,vars:2,consts:[[1,"h-100","d-flex","flex-column"],[1,"container","h-100"],[1,"fs-3","my-auto","text-600","pb-2","mb-3","border-bottom"],["id","reader"],["class","border shadow border-danger px-5 py-3 rounded d-flex flex-row gap-3 justify-content-center align-items-center",4,"ngIf"],[4,"ngIf"],[1,"border","shadow","border-danger","px-5","py-3","rounded","d-flex","flex-row","gap-3","justify-content-center","align-items-center"],[1,"bi","bi-exclamation-triangle","display-5","text-danger"],[1,"fs-3"],[1,"d-flex","flex-row","gap-3","justify-content-center"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-outline-secondary",3,"click"]],template:function(e,r){1&e&&(w(0,"div",0),U(1,"app-main-navbar"),w(2,"div",1)(3,"p",2),S(4," Validaci\xf3n de facturas "),E(),U(5,"div",3),Y(6,nj,3,0,"div",4),Y(7,rj,8,1,"div",5),E()()),2&e&&(M(6),F("ngIf",r.cameraError),M(1),F("ngIf",r.invoiceToValidate))},dependencies:[qn,Nn]}),t})(),canActivate:[nr]},{path:"config",component:GU,canActivate:[nr]},{path:"config/actions",component:tH,canActivate:[nr]},{path:"config/places",component:dH,canActivate:[nr]},{path:"config/places/:placeId",component:hH,canActivate:[nr]},{path:"config/roles",component:kU,canActivate:[nr]},{path:"config/roles/:roleId",component:KV,canActivate:[nr]},{path:"config/invoices",component:vH,canActivate:[nr]},{path:"login",component:EU},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",component:DU}];let d_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({imports:[_x.forRoot(ij),_x]}),t})();function oj(t,n){if(1&t&&(w(0,"div",4),S(1),E()),2&t){const e=K().$implicit,r=K();ot("text-danger",e.toastType===r.toastType.ERROR),M(1),ht(" ",e.header," ")}}function sj(t,n){if(1&t){const e=qe();w(0,"ngb-toast",2),j("hidden",function(){const o=Ee(e).$implicit;return xe(K().toastService.remove(o))}),Y(1,oj,2,3,"ng-template",3),S(2),E()}if(2&t){const e=n.$implicit;F("animation",!0)("autohide",!0),M(2),ht(" ",e.body," ")}}let aj=(()=>{class t{constructor(e){this.toastService=e,this.toastType=ms}}return t.\u0275fac=function(e){return new(e||t)(N(Ys))},t.\u0275cmp=fe({type:t,selectors:[["app-toast-generator"]],decls:2,vars:1,consts:[[1,"toast-container","position-fixed","top-0","end-0","p-3"],[3,"animation","autohide","hidden",4,"ngFor","ngForOf"],[3,"animation","autohide","hidden"],["ngbToastHeader",""],[1,"me-auto"]],template:function(e,r){1&e&&(w(0,"div",0),Y(1,sj,3,3,"ngb-toast",1),E()),2&e&&(M(1),F("ngForOf",r.toastService.toasts))},dependencies:[cn,fU,$A]}),t})(),lj=(()=>{class t{constructor(){this.title="trabajodecampo"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(e,r){1&e&&U(0,"app-toast-generator")(1,"router-outlet")},dependencies:[cm,aj]}),t})(),NS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({imports:[Y8,si,XA,rh,d_,iE]}),t})(),cj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=ft({imports:[NS,Km,d_,rh,si]}),t})(),uj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Te({type:t,bootstrap:[lj]}),t.\u0275inj=ft({providers:[Mh,Xi,un],imports:[Lk,d_,rh,iE,XA,NS,cj]}),t})();(function g4(){kw=!1})(),Pk().bootstrapModule(uj).catch(t=>console.error(t))},140:function(id,od){!function(te){"use strict";function st(b){return null==b}var ic=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,s){b.__proto__=s}||function(b,s){for(var a in s)s.hasOwnProperty(a)&&(b[a]=s[a])};var sd=function(b){function s(a){var l=this.constructor,u=b.call(this,a)||this;return Object.defineProperty(u,"name",{value:l.name,enumerable:!1}),function Ba(b,s){var a=Object.setPrototypeOf;a?a(b,s):b.__proto__=s}(u,l.prototype),function Yr(b,s){void 0===s&&(s=b.constructor);var a=Error.captureStackTrace;a&&a(b,s)}(u),u}return function oc(b,s){function a(){this.constructor=b}ic(b,s),b.prototype=null===s?Object.create(s):(a.prototype=s.prototype,new a)}(s,b),s}(Error);let pr=(()=>{class b extends sd{constructor(a){super(a),this.message=a}getKind(){return this.constructor.kind}}return b.kind="Exception",b})(),Zr=(()=>{class b extends pr{}return b.kind="ArgumentException",b})(),be=(()=>{class b extends pr{}return b.kind="IllegalArgumentException",b})();class Ki{constructor(s){if(this.binarizer=s,null===s)throw new be("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,a){return this.binarizer.getBlackRow(s,a)}getBlackMatrix(){return null==this.matrix&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,a,l,u){const d=this.binarizer.getLuminanceSource().crop(s,a,l,u);return new Ki(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new Ki(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new Ki(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}let Un=(()=>{class b extends pr{static getChecksumInstance(){return new b}}return b.kind="ChecksumException",b})();class jo{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class zt{static arraycopy(s,a,l,u,d){for(;d--;)l[u++]=s[a++]}static currentTimeMillis(){return Date.now()}}let sc=(()=>{class b extends pr{}return b.kind="IndexOutOfBoundsException",b})(),ad=(()=>{class b extends sc{constructor(a,l){super(l),this.index=a,this.message=l}}return b.kind="ArrayIndexOutOfBoundsException",b})();class kn{static fill(s,a){for(let l=0,u=s.length;l<u;l++)s[l]=a}static fillWithin(s,a,l,u){kn.rangeCheck(s.length,a,l);for(let d=a;d<l;d++)s[d]=u}static rangeCheck(s,a,l){if(a>l)throw new be("fromIndex("+a+") > toIndex("+l+")");if(a<0)throw new ad(a);if(l>s)throw new ad(l)}static asList(...s){return s}static create(s,a,l){return Array.from({length:s}).map(d=>Array.from({length:a}).fill(l))}static createInt32Array(s,a,l){return Array.from({length:s}).map(d=>Int32Array.from({length:a}).fill(l))}static equals(s,a){if(!(s&&a&&s.length&&a.length&&s.length===a.length))return!1;for(let l=0,u=s.length;l<u;l++)if(s[l]!==a[l])return!1;return!0}static hashCode(s){if(null===s)return 0;let a=1;for(const l of s)a=31*a+l;return a}static fillUint8Array(s,a){for(let l=0;l!==s.length;l++)s[l]=a}static copyOf(s,a){return s.slice(0,a)}static copyOfUint8Array(s,a){if(s.length<=a){const l=new Uint8Array(a);return l.set(s),l}return s.slice(0,a)}static copyOfRange(s,a,l){const u=l-a,d=new Int32Array(u);return zt.arraycopy(s,a,d,0,u),d}static binarySearch(s,a,l){void 0===l&&(l=kn.numberComparator);let u=0,d=s.length-1;for(;u<=d;){const h=d+u>>1,g=l(a,s[h]);if(g>0)u=h+1;else{if(!(g<0))return h;d=h-1}}return-u-1}static numberComparator(s,a){return s-a}}class $e{static numberOfTrailingZeros(s){let a;if(0===s)return 32;let l=31;return a=s<<16,0!==a&&(l-=16,s=a),a=s<<8,0!==a&&(l-=8,s=a),a=s<<4,0!==a&&(l-=4,s=a),a=s<<2,0!==a&&(l-=2,s=a),l-(s<<1>>>31)}static numberOfLeadingZeros(s){if(0===s)return 32;let a=1;return s>>>16==0&&(a+=16,s<<=16),s>>>24==0&&(a+=8,s<<=8),s>>>28==0&&(a+=4,s<<=4),s>>>30==0&&(a+=2,s<<=2),a-=s>>>31,a}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=(s=(858993459&(s-=s>>>1&1431655765))+(s>>>2&858993459))+(s>>>4)&252645135,63&(s+=s>>>8)+(s>>>16)}static truncDivision(s,a){return Math.trunc(s/a)}static parseInt(s,a){return parseInt(s,a)}}$e.MIN_VALUE_32_BITS=-2147483648,$e.MAX_VALUE=Number.MAX_SAFE_INTEGER;class $t{constructor(s,a){void 0===s?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,this.bits=a??$t.makeArray(s))}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>32*this.bits.length){const a=$t.makeArray(s);zt.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(s){return 0!=(this.bits[Math.floor(s/32)]&1<<(31&s))}set(s){this.bits[Math.floor(s/32)]|=1<<(31&s)}flip(s){this.bits[Math.floor(s/32)]^=1<<(31&s)}getNextSet(s){const a=this.size;if(s>=a)return a;const l=this.bits;let u=Math.floor(s/32),d=l[u];d&=~((1<<(31&s))-1);const h=l.length;for(;0===d;){if(++u===h)return a;d=l[u]}const g=32*u+$e.numberOfTrailingZeros(d);return g>a?a:g}getNextUnset(s){const a=this.size;if(s>=a)return a;const l=this.bits;let u=Math.floor(s/32),d=~l[u];d&=~((1<<(31&s))-1);const h=l.length;for(;0===d;){if(++u===h)return a;d=~l[u]}const g=32*u+$e.numberOfTrailingZeros(d);return g>a?a:g}setBulk(s,a){this.bits[Math.floor(s/32)]=a}setRange(s,a){if(a<s||s<0||a>this.size)throw new be;if(a===s)return;a--;const l=Math.floor(s/32),u=Math.floor(a/32),d=this.bits;for(let h=l;h<=u;h++)d[h]|=(2<<(h<u?31:31&a))-(1<<(h>l?0:31&s))}clear(){const s=this.bits.length,a=this.bits;for(let l=0;l<s;l++)a[l]=0}isRange(s,a,l){if(a<s||s<0||a>this.size)throw new be;if(a===s)return!0;a--;const u=Math.floor(s/32),d=Math.floor(a/32),h=this.bits;for(let g=u;g<=d;g++){const C=(2<<(g<d?31:31&a))-(1<<(g>u?0:31&s))&4294967295;if((h[g]&C)!==(l?C:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}appendBits(s,a){if(a<0||a>32)throw new be("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let l=a;l>0;l--)this.appendBit(1==(s>>l-1&1))}appendBitArray(s){const a=s.size;this.ensureCapacity(this.size+a);for(let l=0;l<a;l++)this.appendBit(s.get(l))}xor(s){if(this.size!==s.size)throw new be("Sizes don't match");const a=this.bits;for(let l=0,u=a.length;l<u;l++)a[l]^=s.bits[l]}toBytes(s,a,l,u){for(let d=0;d<u;d++){let h=0;for(let g=0;g<8;g++)this.get(s)&&(h|=1<<7-g),s++;a[l+d]=h}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),l=a+1,u=this.bits;for(let d=0;d<l;d++){let h=u[d];h=h>>1&1431655765|(1431655765&h)<<1,h=h>>2&858993459|(858993459&h)<<2,h=h>>4&252645135|(252645135&h)<<4,h=h>>8&16711935|(16711935&h)<<8,h=h>>16&65535|(65535&h)<<16,s[a-d]=h}if(this.size!==32*l){const d=32*l-this.size;let h=s[0]>>>d;for(let g=1;g<l;g++){const _=s[g];h|=_<<32-d,s[g-1]=h,h=_>>>d}s[l-1]=h}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){return s instanceof $t&&this.size===s.size&&kn.equals(this.bits,s.bits)}hashCode(){return 31*this.size+kn.hashCode(this.bits)}toString(){let s="";for(let a=0,l=this.size;a<l;a++)0==(7&a)&&(s+=" "),s+=this.get(a)?"X":".";return s}clone(){return new $t(this.size,this.bits.slice())}}var Ua=(()=>{return(b=Ua||(Ua={}))[b.OTHER=0]="OTHER",b[b.PURE_BARCODE=1]="PURE_BARCODE",b[b.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",b[b.TRY_HARDER=3]="TRY_HARDER",b[b.CHARACTER_SET=4]="CHARACTER_SET",b[b.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",b[b.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",b[b.ASSUME_GS1=7]="ASSUME_GS1",b[b.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",b[b.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",b[b.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS",Ua;var b})(),Yt=Ua;let ue=(()=>{class b extends pr{static getFormatInstance(){return new b}}return b.kind="FormatException",b})();var mt=(()=>{return(b=mt||(mt={}))[b.Cp437=0]="Cp437",b[b.ISO8859_1=1]="ISO8859_1",b[b.ISO8859_2=2]="ISO8859_2",b[b.ISO8859_3=3]="ISO8859_3",b[b.ISO8859_4=4]="ISO8859_4",b[b.ISO8859_5=5]="ISO8859_5",b[b.ISO8859_6=6]="ISO8859_6",b[b.ISO8859_7=7]="ISO8859_7",b[b.ISO8859_8=8]="ISO8859_8",b[b.ISO8859_9=9]="ISO8859_9",b[b.ISO8859_10=10]="ISO8859_10",b[b.ISO8859_11=11]="ISO8859_11",b[b.ISO8859_13=12]="ISO8859_13",b[b.ISO8859_14=13]="ISO8859_14",b[b.ISO8859_15=14]="ISO8859_15",b[b.ISO8859_16=15]="ISO8859_16",b[b.SJIS=16]="SJIS",b[b.Cp1250=17]="Cp1250",b[b.Cp1251=18]="Cp1251",b[b.Cp1252=19]="Cp1252",b[b.Cp1256=20]="Cp1256",b[b.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",b[b.UTF8=22]="UTF8",b[b.ASCII=23]="ASCII",b[b.Big5=24]="Big5",b[b.GB18030=25]="GB18030",b[b.EUC_KR=26]="EUC_KR",mt;var b})();class le{constructor(s,a,l,...u){this.valueIdentifier=s,this.name=l,this.values="number"==typeof a?Int32Array.from([a]):a,this.otherEncodingNames=u,le.VALUE_IDENTIFIER_TO_ECI.set(s,this),le.NAME_TO_ECI.set(l,this);const d=this.values;for(let h=0,g=d.length;h!==g;h++)le.VALUES_TO_ECI.set(d[h],this);for(const h of u)le.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new ue("incorect value");const a=le.VALUES_TO_ECI.get(s);if(void 0===a)throw new ue("incorect value");return a}static getCharacterSetECIByName(s){const a=le.NAME_TO_ECI.get(s);if(void 0===a)throw new ue("incorect value");return a}equals(s){if(!(s instanceof le))return!1;const a=s;return this.getName()===a.getName()}}le.VALUE_IDENTIFIER_TO_ECI=new Map,le.VALUES_TO_ECI=new Map,le.NAME_TO_ECI=new Map,le.Cp437=new le(mt.Cp437,Int32Array.from([0,2]),"Cp437"),le.ISO8859_1=new le(mt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),le.ISO8859_2=new le(mt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),le.ISO8859_3=new le(mt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),le.ISO8859_4=new le(mt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),le.ISO8859_5=new le(mt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),le.ISO8859_6=new le(mt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),le.ISO8859_7=new le(mt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),le.ISO8859_8=new le(mt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),le.ISO8859_9=new le(mt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),le.ISO8859_10=new le(mt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),le.ISO8859_11=new le(mt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),le.ISO8859_13=new le(mt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),le.ISO8859_14=new le(mt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),le.ISO8859_15=new le(mt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),le.ISO8859_16=new le(mt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),le.SJIS=new le(mt.SJIS,20,"SJIS","Shift_JIS"),le.Cp1250=new le(mt.Cp1250,21,"Cp1250","windows-1250"),le.Cp1251=new le(mt.Cp1251,22,"Cp1251","windows-1251"),le.Cp1252=new le(mt.Cp1252,23,"Cp1252","windows-1252"),le.Cp1256=new le(mt.Cp1256,24,"Cp1256","windows-1256"),le.UnicodeBigUnmarked=new le(mt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),le.UTF8=new le(mt.UTF8,26,"UTF8","UTF-8"),le.ASCII=new le(mt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),le.Big5=new le(mt.Big5,28,"Big5"),le.GB18030=new le(mt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),le.EUC_KR=new le(mt.EUC_KR,30,"EUC_KR","EUC-KR");let Ji=(()=>{class b extends pr{}return b.kind="UnsupportedOperationException",b})();class rr{static decode(s,a){const l=this.encodingName(a);return this.customDecoder?this.customDecoder(s,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(s,l):new TextDecoder(l).decode(s)}static shouldDecodeOnFallback(s){return!rr.isBrowser()&&"ISO-8859-1"===s}static encode(s,a){const l=this.encodingName(a);return this.customEncoder?this.customEncoder(s,l):typeof TextEncoder>"u"?this.encodeFallback(s):(new TextEncoder).encode(s)}static isBrowser(){return typeof window<"u"&&"[object Window]"==={}.toString.call(window)}static encodingName(s){return"string"==typeof s?s:s.getName()}static encodingCharacterSet(s){return s instanceof le?s:le.getCharacterSetECIByName(s)}static decodeFallback(s,a){const l=this.encodingCharacterSet(a);if(rr.isDecodeFallbackSupported(l)){let u="";for(let d=0,h=s.length;d<h;d++){let g=s[d].toString(16);g.length<2&&(g="0"+g),u+="%"+g}return decodeURIComponent(u)}if(l.equals(le.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new Ji(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(le.UTF8)||s.equals(le.ISO8859_1)||s.equals(le.ASCII)}static encodeFallback(s){const l=btoa(unescape(encodeURIComponent(s))).split(""),u=[];for(let d=0;d<l.length;d++)u.push(l[d].charCodeAt(0));return new Uint8Array(u)}}class ze{static castAsNonUtf8Char(s,a=null){const l=a?a.getName():this.ISO88591;return rr.decode(new Uint8Array([s]),l)}static guessEncoding(s,a){if(null!=a&&void 0!==a.get(Yt.CHARACTER_SET))return a.get(Yt.CHARACTER_SET).toString();const l=s.length;let u=!0,d=!0,h=!0,g=0,_=0,v=0,C=0,x=0,T=0,R=0,k=0,L=0,H=0,W=0;const re=s.length>3&&239===s[0]&&187===s[1]&&191===s[2];for(let pe=0;pe<l&&(u||d||h);pe++){const Q=255&s[pe];h&&(g>0?0==(128&Q)?h=!1:g--:0!=(128&Q)&&(0==(64&Q)?h=!1:(g++,0==(32&Q)?_++:(g++,0==(16&Q)?v++:(g++,0==(8&Q)?C++:h=!1))))),u&&(Q>127&&Q<160?u=!1:Q>159&&(Q<192||215===Q||247===Q)&&W++),d&&(x>0?Q<64||127===Q||Q>252?d=!1:x--:128===Q||160===Q||Q>239?d=!1:Q>160&&Q<224?(T++,k=0,R++,R>L&&(L=R)):Q>127?(x++,R=0,k++,k>H&&(H=k)):(R=0,k=0))}return h&&g>0&&(h=!1),d&&x>0&&(d=!1),h&&(re||_+v+C>0)?ze.UTF8:d&&(ze.ASSUME_SHIFT_JIS||L>=3||H>=3)?ze.SHIFT_JIS:u&&d?2===L&&2===T||10*W>=l?ze.SHIFT_JIS:ze.ISO88591:u?ze.ISO88591:d?ze.SHIFT_JIS:h?ze.UTF8:ze.PLATFORM_DEFAULT_ENCODING}static format(s,...a){let l=-1;return s.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function u(h,g,_,v,C,x){if("%%"===h)return"%";if(void 0===a[++l])return;h=v?parseInt(v.substr(1)):void 0;let R,T=C?parseInt(C.substr(1)):void 0;switch(x){case"s":R=a[l];break;case"c":R=a[l][0];break;case"f":R=parseFloat(a[l]).toFixed(h);break;case"p":R=parseFloat(a[l]).toPrecision(h);break;case"e":R=parseFloat(a[l]).toExponential(h);break;case"x":R=parseInt(a[l]).toString(T||16);break;case"d":R=parseFloat(parseInt(a[l],T||10).toPrecision(h)).toFixed(0)}R="object"==typeof R?JSON.stringify(R):(+R).toString(T);let k=parseInt(_),L=_&&_[0]+""=="0"?"0":" ";for(;R.length<k;)R=void 0!==g?R+L:L+R;return R})}static getBytes(s,a){return rr.encode(s,a)}static getCharCode(s,a=0){return s.charCodeAt(a)}static getCharAt(s){return String.fromCharCode(s)}}ze.SHIFT_JIS=le.SJIS.getName(),ze.GB2312="GB2312",ze.ISO88591=le.ISO8859_1.getName(),ze.EUC_JP="EUC_JP",ze.UTF8=le.UTF8.getName(),ze.PLATFORM_DEFAULT_ENCODING=ze.UTF8,ze.ASSUME_SHIFT_JIS=!1;class Tt{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return this.value+="string"==typeof s?s.toString():this.encoding?ze.castAsNonUtf8Char(s,this.encoding):String.fromCharCode(s),this}appendChars(s,a,l){for(let u=a;a<a+l;u++)this.append(s[u]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,a){this.value=this.value.substr(0,s)+a+this.value.substr(s+1)}substring(s,a){return this.value.substring(s,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,a){this.value=this.value.substr(0,s)+a+this.value.substr(s+a.length)}}class Yn{constructor(s,a,l,u){if(this.width=s,this.height=a,this.rowSize=l,this.bits=u,null==a&&(a=s),this.height=a,s<1||a<1)throw new be("Both dimensions must be greater than 0");null==l&&(l=Math.floor((s+31)/32)),this.rowSize=l,null==u&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const a=s.length,l=s[0].length,u=new Yn(l,a);for(let d=0;d<a;d++){const h=s[d];for(let g=0;g<l;g++)h[g]&&u.set(g,d)}return u}static parseFromString(s,a,l){if(null===s)throw new be("stringRepresentation cannot be null");const u=new Array(s.length);let d=0,h=0,g=-1,_=0,v=0;for(;v<s.length;)if("\n"===s.charAt(v)||"\r"===s.charAt(v)){if(d>h){if(-1===g)g=d-h;else if(d-h!==g)throw new be("row lengths do not match");h=d,_++}v++}else if(s.substring(v,v+a.length)===a)v+=a.length,u[d]=!0,d++;else{if(s.substring(v,v+l.length)!==l)throw new be("illegal character encountered: "+s.substring(v));v+=l.length,u[d]=!1,d++}if(d>h){if(-1===g)g=d-h;else if(d-h!==g)throw new be("row lengths do not match");_++}const C=new Yn(g,_);for(let x=0;x<d;x++)u[x]&&C.set(Math.floor(x%g),Math.floor(x/g));return C}get(s,a){const l=a*this.rowSize+Math.floor(s/32);return 0!=(this.bits[l]>>>(31&s)&1)}set(s,a){const l=a*this.rowSize+Math.floor(s/32);this.bits[l]|=1<<(31&s)&4294967295}unset(s,a){const l=a*this.rowSize+Math.floor(s/32);this.bits[l]&=~(1<<(31&s)&4294967295)}flip(s,a){const l=a*this.rowSize+Math.floor(s/32);this.bits[l]^=1<<(31&s)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new be("input matrix dimensions do not match");const a=new $t(Math.floor(this.width/32)+1),l=this.rowSize,u=this.bits;for(let d=0,h=this.height;d<h;d++){const g=d*l,_=s.getRow(d,a).getBitArray();for(let v=0;v<l;v++)u[g+v]^=_[v]}}clear(){const s=this.bits,a=s.length;for(let l=0;l<a;l++)s[l]=0}setRegion(s,a,l,u){if(a<0||s<0)throw new be("Left and top must be nonnegative");if(u<1||l<1)throw new be("Height and width must be at least 1");const d=s+l,h=a+u;if(h>this.height||d>this.width)throw new be("The region must fit inside the matrix");const g=this.rowSize,_=this.bits;for(let v=a;v<h;v++){const C=v*g;for(let x=s;x<d;x++)_[C+Math.floor(x/32)]|=1<<(31&x)&4294967295}}getRow(s,a){null==a||a.getSize()<this.width?a=new $t(this.width):a.clear();const l=this.rowSize,u=this.bits,d=s*l;for(let h=0;h<l;h++)a.setBulk(32*h,u[d+h]);return a}setRow(s,a){zt.arraycopy(a.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),a=this.getHeight();let l=new $t(s),u=new $t(s);for(let d=0,h=Math.floor((a+1)/2);d<h;d++)l=this.getRow(d,l),u=this.getRow(a-1-d,u),l.reverse(),u.reverse(),this.setRow(d,u),this.setRow(a-1-d,l)}getEnclosingRectangle(){const a=this.height,l=this.rowSize,u=this.bits;let d=this.width,h=a,g=-1,_=-1;for(let v=0;v<a;v++)for(let C=0;C<l;C++){const x=u[v*l+C];if(0!==x){if(v<h&&(h=v),v>_&&(_=v),32*C<d){let T=0;for(;0==(x<<31-T&4294967295);)T++;32*C+T<d&&(d=32*C+T)}if(32*C+31>g){let T=31;for(;x>>>T==0;)T--;32*C+T>g&&(g=32*C+T)}}}return g<d||_<h?null:Int32Array.from([d,h,g-d+1,_-h+1])}getTopLeftOnBit(){const s=this.rowSize,a=this.bits;let l=0;for(;l<a.length&&0===a[l];)l++;if(l===a.length)return null;const u=l/s;let d=l%s*32;const h=a[l];let g=0;for(;0==(h<<31-g&4294967295);)g++;return d+=g,Int32Array.from([d,u])}getBottomRightOnBit(){const s=this.rowSize,a=this.bits;let l=a.length-1;for(;l>=0&&0===a[l];)l--;if(l<0)return null;const u=Math.floor(l/s);let d=32*Math.floor(l%s);const h=a[l];let g=31;for(;h>>>g==0;)g--;return d+=g,Int32Array.from([d,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){return s instanceof Yn&&this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&kn.equals(this.bits,s.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+kn.hashCode(this.bits),s}toString(s="X ",a="  ",l="\n"){return this.buildToString(s,a,l)}buildToString(s,a,l){let u=new Tt;for(let d=0,h=this.height;d<h;d++){for(let g=0,_=this.width;g<_;g++)u.append(this.get(g,d)?s:a);u.append(l)}return u.toString()}clone(){return new Yn(this.width,this.height,this.rowSize,this.bits.slice())}}let X=(()=>{class b extends pr{static getNotFoundInstance(){return new b}}return b.kind="NotFoundException",b})();class Zt extends jo{constructor(s){super(s),this.luminances=Zt.EMPTY,this.buckets=new Int32Array(Zt.LUMINANCE_BUCKETS)}getBlackRow(s,a){const l=this.getLuminanceSource(),u=l.getWidth();null==a||a.getSize()<u?a=new $t(u):a.clear(),this.initArrays(u);const d=l.getRow(s,this.luminances),h=this.buckets;for(let _=0;_<u;_++)h[(255&d[_])>>Zt.LUMINANCE_SHIFT]++;const g=Zt.estimateBlackPoint(h);if(u<3)for(let _=0;_<u;_++)(255&d[_])<g&&a.set(_);else{let _=255&d[0],v=255&d[1];for(let C=1;C<u-1;C++){const x=255&d[C+1];(4*v-_-x)/2<g&&a.set(C),_=v,v=x}}return a}getBlackMatrix(){const s=this.getLuminanceSource(),a=s.getWidth(),l=s.getHeight(),u=new Yn(a,l);this.initArrays(a);const d=this.buckets;for(let _=1;_<5;_++){const v=Math.floor(l*_/5),C=s.getRow(v,this.luminances),x=Math.floor(4*a/5);for(let T=Math.floor(a/5);T<x;T++)d[(255&C[T])>>Zt.LUMINANCE_SHIFT]++}const h=Zt.estimateBlackPoint(d),g=s.getMatrix();for(let _=0;_<l;_++){const v=_*a;for(let C=0;C<a;C++)(255&g[v+C])<h&&u.set(C,_)}return u}createBinarizer(s){return new Zt(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const a=this.buckets;for(let l=0;l<Zt.LUMINANCE_BUCKETS;l++)a[l]=0}static estimateBlackPoint(s){const a=s.length;let l=0,u=0,d=0;for(let C=0;C<a;C++)s[C]>d&&(u=C,d=s[C]),s[C]>l&&(l=s[C]);let h=0,g=0;for(let C=0;C<a;C++){const x=C-u,T=s[C]*x*x;T>g&&(h=C,g=T)}if(u>h){const C=u;u=h,h=C}if(h-u<=a/16)throw new X;let _=h-1,v=-1;for(let C=h-1;C>u;C--){const x=C-u,T=x*x*(h-C)*(l-s[C]);T>v&&(_=C,v=T)}return _<<Zt.LUMINANCE_SHIFT}}Zt.LUMINANCE_BITS=5,Zt.LUMINANCE_SHIFT=8-Zt.LUMINANCE_BITS,Zt.LUMINANCE_BUCKETS=1<<Zt.LUMINANCE_BITS,Zt.EMPTY=Uint8ClampedArray.from([0]);class nt extends Zt{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const s=this.getLuminanceSource(),a=s.getWidth(),l=s.getHeight();if(a>=nt.MINIMUM_DIMENSION&&l>=nt.MINIMUM_DIMENSION){const u=s.getMatrix();let d=a>>nt.BLOCK_SIZE_POWER;0!=(a&nt.BLOCK_SIZE_MASK)&&d++;let h=l>>nt.BLOCK_SIZE_POWER;0!=(l&nt.BLOCK_SIZE_MASK)&&h++;const g=nt.calculateBlackPoints(u,d,h,a,l),_=new Yn(a,l);nt.calculateThresholdForBlock(u,d,h,a,l,g,_),this.matrix=_}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new nt(s)}static calculateThresholdForBlock(s,a,l,u,d,h,g){const _=d-nt.BLOCK_SIZE,v=u-nt.BLOCK_SIZE;for(let C=0;C<l;C++){let x=C<<nt.BLOCK_SIZE_POWER;x>_&&(x=_);const T=nt.cap(C,2,l-3);for(let R=0;R<a;R++){let k=R<<nt.BLOCK_SIZE_POWER;k>v&&(k=v);const L=nt.cap(R,2,a-3);let H=0;for(let re=-2;re<=2;re++){const pe=h[T+re];H+=pe[L-2]+pe[L-1]+pe[L]+pe[L+1]+pe[L+2]}nt.thresholdBlock(s,k,x,H/25,u,g)}}}static cap(s,a,l){return s<a?a:s>l?l:s}static thresholdBlock(s,a,l,u,d,h){for(let g=0,_=l*d+a;g<nt.BLOCK_SIZE;g++,_+=d)for(let v=0;v<nt.BLOCK_SIZE;v++)(255&s[_+v])<=u&&h.set(a+v,l+g)}static calculateBlackPoints(s,a,l,u,d){const h=d-nt.BLOCK_SIZE,g=u-nt.BLOCK_SIZE,_=new Array(l);for(let v=0;v<l;v++){_[v]=new Int32Array(a);let C=v<<nt.BLOCK_SIZE_POWER;C>h&&(C=h);for(let x=0;x<a;x++){let T=x<<nt.BLOCK_SIZE_POWER;T>g&&(T=g);let R=0,k=255,L=0;for(let W=0,re=C*u+T;W<nt.BLOCK_SIZE;W++,re+=u){for(let pe=0;pe<nt.BLOCK_SIZE;pe++){const Q=255&s[re+pe];R+=Q,Q<k&&(k=Q),Q>L&&(L=Q)}if(L-k>nt.MIN_DYNAMIC_RANGE)for(W++,re+=u;W<nt.BLOCK_SIZE;W++,re+=u)for(let pe=0;pe<nt.BLOCK_SIZE;pe++)R+=255&s[re+pe]}let H=R>>2*nt.BLOCK_SIZE_POWER;if(L-k<=nt.MIN_DYNAMIC_RANGE&&(H=k/2,v>0&&x>0)){const W=(_[v-1][x]+2*_[v][x-1]+_[v-1][x-1])/4;k<W&&(H=W)}_[v][x]=H}}return _}}nt.BLOCK_SIZE_POWER=3,nt.BLOCK_SIZE=1<<nt.BLOCK_SIZE_POWER,nt.BLOCK_SIZE_MASK=nt.BLOCK_SIZE-1,nt.MINIMUM_DIMENSION=5*nt.BLOCK_SIZE,nt.MIN_DYNAMIC_RANGE=24;class ys{constructor(s,a){this.width=s,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,a,l,u){throw new Ji("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ji("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ji("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let a=new Tt;for(let l=0;l<this.height;l++){const u=this.getRow(l,s);for(let d=0;d<this.width;d++){const h=255&u[d];let g;g=h<64?"#":h<128?"+":h<192?".":" ",a.append(g)}a.append("\n")}return a.toString()}}class pt extends ys{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,a){const l=this.delegate.getRow(s,a),u=this.getWidth();for(let d=0;d<u;d++)l[d]=255-(255&l[d]);return l}getMatrix(){const s=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(a);for(let u=0;u<a;u++)l[u]=255-(255&s[u]);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(s,a,l,u){return new pt(this.delegate.crop(s,a,l,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new pt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new pt(this.delegate.rotateCounterClockwise45())}}class eo extends ys{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=eo.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const a=s.getContext("2d").getImageData(0,0,s.width,s.height);return eo.toGrayscaleBuffer(a.data,s.width,s.height)}static toGrayscaleBuffer(s,a,l){const u=new Uint8ClampedArray(a*l);for(let d=0,h=0,g=s.length;d<g;d+=4,h++){let _;_=0===s[d+3]?255:306*s[d]+601*s[d+1]+117*s[d+2]+512>>10,u[h]=_}return u}getRow(s,a){if(s<0||s>=this.getHeight())throw new be("Requested row is outside the image: "+s);const l=this.getWidth(),u=s*l;return null===a?a=this.buffer.slice(u,u+l):(a.length<l&&(a=new Uint8ClampedArray(l)),a.set(this.buffer.slice(u,u+l))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,a,l,u){return super.crop(s,a,l,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const a=this.getTempCanvasElement(),l=a.getContext("2d"),u=s*eo.DEGREE_TO_RADIANS,d=this.canvas.width,h=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(u))*d+Math.abs(Math.sin(u))*h),_=Math.ceil(Math.abs(Math.sin(u))*d+Math.abs(Math.cos(u))*h);return a.width=g,a.height=_,l.translate(g/2,_/2),l.rotate(u),l.drawImage(this.canvas,d/-2,h/-2),this.buffer=eo.makeBufferFromCanvasImageData(a),this}invert(){return new pt(this)}}eo.DEGREE_TO_RADIANS=Math.PI/180;class ld{constructor(s,a,l){this.deviceId=s,this.label=a,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var xr=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__awaiter:void 0)||function(b,s,a,l){return new(a||(a=Promise))(function(d,h){function g(C){try{v(l.next(C))}catch(x){h(x)}}function _(C){try{v(l.throw(C))}catch(x){h(x)}}function v(C){C.done?d(C.value):function u(d){return d instanceof a?d:new a(function(h){h(d)})}(C.value).then(g,_)}v((l=l.apply(b,s||[])).next())})};class Go{constructor(s,a=500,l){this.reader=s,this.timeBetweenScansMillis=a,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return xr(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const l of s){const u="video"===l.kind?"videoinput":l.kind;"videoinput"===u&&a.push({deviceId:l.deviceId||l.id,label:l.label||`Video device ${a.length+1}`,kind:u,groupId:l.groupId})}return a})}getVideoInputDevices(){return xr(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new ld(a.deviceId,a.label))})}findDeviceById(s){return xr(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(l=>l.deviceId===s):null})}decodeFromInputVideoDevice(s,a){return xr(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,a)})}decodeOnceFromVideoDevice(s,a){return xr(this,void 0,void 0,function*(){let l;this.reset(),l=s?{deviceId:{exact:s}}:{facingMode:"environment"};const u={video:l};return yield this.decodeOnceFromConstraints(u,a)})}decodeOnceFromConstraints(s,a){return xr(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(l,a)})}decodeOnceFromStream(s,a){return xr(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(s,a);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(s,a,l){return xr(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,a,l)})}decodeFromVideoDevice(s,a,l){return xr(this,void 0,void 0,function*(){let u;u=s?{deviceId:{exact:s}}:{facingMode:"environment"};const d={video:u};return yield this.decodeFromConstraints(d,a,l)})}decodeFromConstraints(s,a,l){return xr(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(u,a,l)})}decodeFromStream(s,a,l){return xr(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(s,a);return yield this.decodeContinuously(u,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,a){return xr(this,void 0,void 0,function*(){const l=this.prepareVideoElement(a);return this.addVideoSource(l,s),this.videoElement=l,this.stream=s,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(s){return new Promise((a,l)=>this.playVideoOnLoad(s,()=>a()))}playVideoOnLoad(s,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",a),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return xr(this,void 0,void 0,function*(){if(this.isVideoPlaying(s))console.warn("Trying to play video that is already playing.");else try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,a){const l=document.getElementById(s);if(!l)throw new Zr(`element with id '${s}' not found`);if(l.nodeName.toLowerCase()!==a.toLowerCase())throw new Zr(`element with id '${s}' must be an ${a} element`);return l}decodeFromImage(s,a){if(!s&&!a)throw new Zr("either imageElement with a src set or an url must be provided");return a&&!s?this.decodeFromImageUrl(a):this.decodeFromImageElement(s)}decodeFromVideo(s,a){if(!s&&!a)throw new Zr("Either an element with a src set or an URL must be provided");return a&&!s?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,a,l){if(void 0===s&&void 0===a)throw new Zr("Either an element with a src set or an URL must be provided");return a&&!s?this.decodeFromVideoUrlContinuously(a,l):this.decodeFromVideoElementContinuously(s,l)}decodeFromImageElement(s){if(!s)throw new Zr("An image element must be provided.");this.reset();const a=this.prepareImageElement(s);let l;return this.imageElement=a,l=this.isImageLoaded(a)?this.decodeOnce(a,!1,!0):this._decodeOnLoadImage(a),l}decodeFromVideoElement(s){const a=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(s,a){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(l,a)}_decodeFromVideoElementSetup(s){if(!s)throw new Zr("A video element must be provided.");this.reset();const a=this.prepareVideoElement(s);return this.videoElement=a,a}decodeFromImageUrl(s){if(!s)throw new Zr("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const l=this._decodeOnLoadImage(a);return a.src=s,l}decodeFromVideoUrl(s){if(!s)throw new Zr("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElement(a);return a.src=s,l}decodeFromVideoUrlContinuously(s,a){if(!s)throw new Zr("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(l,a);return l.src=s,u}_decodeOnLoadImage(s){return new Promise((a,l)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(a,l),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return xr(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,a){return xr(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,a)})}isImageLoaded(s){return!(!s.complete||0===s.naturalWidth)}prepareImageElement(s){let a;return typeof s>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),"string"==typeof s&&(a=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(a=s),a}prepareVideoElement(s){let a;return!s&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),"string"==typeof s&&(a=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(a=s),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(s,a=!0,l=!0){this._stopAsyncDecode=!1;const u=(d,h)=>{if(this._stopAsyncDecode)return h(new X("Video stream has ended before any code could be detected.")),void(this._stopAsyncDecode=void 0);try{d(this.decode(s))}catch(g){const C=(g instanceof Un||g instanceof ue)&&l;if(a&&g instanceof X||C)return setTimeout(u,this._timeBetweenDecodingAttempts,d,h);h(g)}};return new Promise((d,h)=>u(d,h))}decodeContinuously(s,a){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const u=this.decode(s);a(u,null),setTimeout(l,this.timeBetweenScansMillis)}catch(u){a(null,u);const h=u instanceof X;(u instanceof Un||u instanceof ue||h)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(s){const a=this.createBinaryBitmap(s);return this.decodeBitmap(a)}_isHTMLVideoElement(s){return 0!==s.videoWidth}drawFrameOnCanvas(s,a,l){a||(a={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(s,a,l=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const l=this.getCaptureCanvas(s),u=new eo(l),d=new nt(u);return new Ki(d)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const a=this.createCaptureCanvas(s);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let l,u;return typeof s<"u"&&(s instanceof HTMLVideoElement?(l=s.videoWidth,u=s.videoHeight):s instanceof HTMLImageElement&&(l=s.naturalWidth||s.width,u=s.naturalHeight||s.height)),a.style.width=l+"px",a.style.height=u+"px",a.width=l,a.height=u,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){!this.videoElement||(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){!this.imageElement||(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,a){try{s.srcObject=a}catch{s.src=URL.createObjectURL(a)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class je{constructor(s,a,l=(null==a?0:8*a.length),u,d,h=zt.currentTimeMillis()){this.text=s,this.rawBytes=a,this.numBits=l,this.resultPoints=u,this.format=d,this.timestamp=h,this.text=s,this.rawBytes=a,this.numBits=l??(null==a?0:8*a.length),this.resultPoints=u,this.format=d,this.resultMetadata=null,this.timestamp=h??zt.currentTimeMillis()}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,a){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(s,a)}putAllMetadata(s){null!==s&&(this.resultMetadata=null===this.resultMetadata?s:new Map(s))}addResultPoints(s){const a=this.resultPoints;if(null===a)this.resultPoints=s;else if(null!==s&&s.length>0){const l=new Array(a.length+s.length);zt.arraycopy(a,0,l,0,a.length),zt.arraycopy(s,0,l,a.length,s.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Qs=(()=>{return(b=Qs||(Qs={}))[b.AZTEC=0]="AZTEC",b[b.CODABAR=1]="CODABAR",b[b.CODE_39=2]="CODE_39",b[b.CODE_93=3]="CODE_93",b[b.CODE_128=4]="CODE_128",b[b.DATA_MATRIX=5]="DATA_MATRIX",b[b.EAN_8=6]="EAN_8",b[b.EAN_13=7]="EAN_13",b[b.ITF=8]="ITF",b[b.MAXICODE=9]="MAXICODE",b[b.PDF_417=10]="PDF_417",b[b.QR_CODE=11]="QR_CODE",b[b.RSS_14=12]="RSS_14",b[b.RSS_EXPANDED=13]="RSS_EXPANDED",b[b.UPC_A=14]="UPC_A",b[b.UPC_E=15]="UPC_E",b[b.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",Qs;var b})(),Me=Qs,en=(()=>{return(b=en||(en={}))[b.OTHER=0]="OTHER",b[b.ORIENTATION=1]="ORIENTATION",b[b.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",b[b.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",b[b.ISSUE_NUMBER=4]="ISSUE_NUMBER",b[b.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",b[b.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",b[b.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",b[b.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",b[b.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",b[b.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",en;var b})(),Ye=en;class Ks{constructor(s,a,l,u,d=-1,h=-1){this.rawBytes=s,this.text=a,this.byteSegments=l,this.ecLevel=u,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=h,this.numBits=null==s?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Be{exp(s){return this.expTable[s]}log(s){if(0===s)throw new be;return this.logTable[s]}static addOrSubtract(s,a){return s^a}}class gr{constructor(s,a){if(0===a.length)throw new be;this.field=s;const l=a.length;if(l>1&&0===a[0]){let u=1;for(;u<l&&0===a[u];)u++;u===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-u),zt.arraycopy(a,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(0===s)return this.getCoefficient(0);const a=this.coefficients;let l;if(1===s){l=0;for(let h=0,g=a.length;h!==g;h++)l=Be.addOrSubtract(l,a[h]);return l}l=a[0];const u=a.length,d=this.field;for(let h=1;h<u;h++)l=Be.addOrSubtract(d.multiply(s,l),a[h]);return l}addOrSubtract(s){if(!this.field.equals(s.field))throw new be("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let a=this.coefficients,l=s.coefficients;if(a.length>l.length){const h=a;a=l,l=h}let u=new Int32Array(l.length);const d=l.length-a.length;zt.arraycopy(l,0,u,0,d);for(let h=d;h<l.length;h++)u[h]=Be.addOrSubtract(a[h-d],l[h]);return new gr(this.field,u)}multiply(s){if(!this.field.equals(s.field))throw new be("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const a=this.coefficients,l=a.length,u=s.coefficients,d=u.length,h=new Int32Array(l+d-1),g=this.field;for(let _=0;_<l;_++){const v=a[_];for(let C=0;C<d;C++)h[_+C]=Be.addOrSubtract(h[_+C],g.multiply(v,u[C]))}return new gr(g,h)}multiplyScalar(s){if(0===s)return this.field.getZero();if(1===s)return this;const a=this.coefficients.length,l=this.field,u=new Int32Array(a),d=this.coefficients;for(let h=0;h<a;h++)u[h]=l.multiply(d[h],s);return new gr(l,u)}multiplyByMonomial(s,a){if(s<0)throw new be;if(0===a)return this.field.getZero();const l=this.coefficients,u=l.length,d=new Int32Array(u+s),h=this.field;for(let g=0;g<u;g++)d[g]=h.multiply(l[g],a);return new gr(h,d)}divide(s){if(!this.field.equals(s.field))throw new be("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new be("Divide by 0");const a=this.field;let l=a.getZero(),u=this;const d=s.getCoefficient(s.getDegree()),h=a.inverse(d);for(;u.getDegree()>=s.getDegree()&&!u.isZero();){const g=u.getDegree()-s.getDegree(),_=a.multiply(u.getCoefficient(u.getDegree()),h),v=s.multiplyByMonomial(g,_),C=a.buildMonomial(g,_);l=l.addOrSubtract(C),u=u.addOrSubtract(v)}return[l,u]}toString(){let s="";for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);if(0!==l){if(l<0?(s+=" - ",l=-l):s.length>0&&(s+=" + "),0===a||1!==l){const u=this.field.log(l);0===u?s+="1":1===u?s+="a":(s+="a^",s+=u)}0!==a&&(1===a?s+="x":(s+="x^",s+=a))}}return s}}let cd=(()=>{class b extends pr{}return b.kind="ArithmeticException",b})();class _t extends Be{constructor(s,a,l){super(),this.primitive=s,this.size=a,this.generatorBase=l;const u=new Int32Array(a);let d=1;for(let g=0;g<a;g++)u[g]=d,d*=2,d>=a&&(d^=s,d&=a-1);this.expTable=u;const h=new Int32Array(a);for(let g=0;g<a-1;g++)h[u[g]]=g;this.logTable=h,this.zero=new gr(this,Int32Array.from([0])),this.one=new gr(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,a){if(s<0)throw new be;if(0===a)return this.zero;const l=new Int32Array(s+1);return l[0]=a,new gr(this,l)}inverse(s){if(0===s)throw new cd;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,a){return 0===s||0===a?0:this.expTable[(this.logTable[s]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+$e.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}_t.AZTEC_DATA_12=new _t(4201,4096,1),_t.AZTEC_DATA_10=new _t(1033,1024,1),_t.AZTEC_DATA_6=new _t(67,64,1),_t.AZTEC_PARAM=new _t(19,16,1),_t.QR_CODE_FIELD_256=new _t(285,256,0),_t.DATA_MATRIX_FIELD_256=new _t(301,256,1),_t.AZTEC_DATA_8=_t.DATA_MATRIX_FIELD_256,_t.MAXICODE_FIELD_64=_t.AZTEC_DATA_6;let Va=(()=>{class b extends pr{}return b.kind="ReedSolomonException",b})(),Co=(()=>{class b extends pr{}return b.kind="IllegalStateException",b})();class Ha{constructor(s){this.field=s}decode(s,a){const l=this.field,u=new gr(l,s),d=new Int32Array(a);let h=!0;for(let R=0;R<a;R++){const k=u.evaluateAt(l.exp(R+l.getGeneratorBase()));d[d.length-1-R]=k,0!==k&&(h=!1)}if(h)return;const g=new gr(l,d),_=this.runEuclideanAlgorithm(l.buildMonomial(a,1),g,a),C=_[1],x=this.findErrorLocations(_[0]),T=this.findErrorMagnitudes(C,x);for(let R=0;R<x.length;R++){const k=s.length-1-l.log(x[R]);if(k<0)throw new Va("Bad error location");s[k]=_t.addOrSubtract(s[k],T[R])}}runEuclideanAlgorithm(s,a,l){if(s.getDegree()<a.getDegree()){const R=s;s=a,a=R}const u=this.field;let d=s,h=a,g=u.getZero(),_=u.getOne();for(;h.getDegree()>=(l/2|0);){let R=d,k=g;if(d=h,g=_,d.isZero())throw new Va("r_{i-1} was zero");h=R;let L=u.getZero();const H=d.getCoefficient(d.getDegree()),W=u.inverse(H);for(;h.getDegree()>=d.getDegree()&&!h.isZero();){const re=h.getDegree()-d.getDegree(),pe=u.multiply(h.getCoefficient(h.getDegree()),W);L=L.addOrSubtract(u.buildMonomial(re,pe)),h=h.addOrSubtract(d.multiplyByMonomial(re,pe))}if(_=L.multiply(g).addOrSubtract(k),h.getDegree()>=d.getDegree())throw new Co("Division algorithm failed to reduce polynomial?")}const v=_.getCoefficient(0);if(0===v)throw new Va("sigmaTilde(0) was zero");const C=u.inverse(v);return[_.multiplyScalar(C),h.multiplyScalar(C)]}findErrorLocations(s){const a=s.getDegree();if(1===a)return Int32Array.from([s.getCoefficient(1)]);const l=new Int32Array(a);let u=0;const d=this.field;for(let h=1;h<d.getSize()&&u<a;h++)0===s.evaluateAt(h)&&(l[u]=d.inverse(h),u++);if(u!==a)throw new Va("Error locator degree does not match number of roots");return l}findErrorMagnitudes(s,a){const l=a.length,u=new Int32Array(l),d=this.field;for(let h=0;h<l;h++){const g=d.inverse(a[h]);let _=1;for(let v=0;v<l;v++)if(h!==v){const C=d.multiply(a[v],g);_=d.multiply(_,0==(1&C)?1|C:-2&C)}u[h]=d.multiply(s.evaluateAt(g),d.inverse(_)),0!==d.getGeneratorBase()&&(u[h]=d.multiply(u[h],g))}return u}}var ir=(()=>{return(b=ir||(ir={}))[b.UPPER=0]="UPPER",b[b.LOWER=1]="LOWER",b[b.MIXED=2]="MIXED",b[b.DIGIT=3]="DIGIT",b[b.PUNCT=4]="PUNCT",b[b.BINARY=5]="BINARY",ir;var b})();let ac=(()=>{class b{decode(a){this.ddata=a;let l=a.getBits(),u=this.extractBits(l),d=this.correctBits(u),h=b.convertBoolArrayToByteArray(d),g=b.getEncodedData(d),_=new Ks(h,g,null,null);return _.setNumBits(d.length),_}static highLevelDecode(a){return this.getEncodedData(a)}static getEncodedData(a){let l=a.length,u=ir.UPPER,d=ir.UPPER,h="",g=0;for(;g<l;)if(d===ir.BINARY){if(l-g<5)break;let _=b.readCode(a,g,5);if(g+=5,0===_){if(l-g<11)break;_=b.readCode(a,g,11)+31,g+=11}for(let v=0;v<_;v++){if(l-g<8){g=l;break}const C=b.readCode(a,g,8);h+=ze.castAsNonUtf8Char(C),g+=8}d=u}else{let _=d===ir.DIGIT?4:5;if(l-g<_)break;let v=b.readCode(a,g,_);g+=_;let C=b.getCharacter(d,v);C.startsWith("CTRL_")?(u=d,d=b.getTable(C.charAt(5)),"L"===C.charAt(6)&&(u=d)):(h+=C,d=u)}return h}static getTable(a){switch(a){case"L":return ir.LOWER;case"P":return ir.PUNCT;case"M":return ir.MIXED;case"D":return ir.DIGIT;case"B":return ir.BINARY;default:return ir.UPPER}}static getCharacter(a,l){switch(a){case ir.UPPER:return b.UPPER_TABLE[l];case ir.LOWER:return b.LOWER_TABLE[l];case ir.MIXED:return b.MIXED_TABLE[l];case ir.PUNCT:return b.PUNCT_TABLE[l];case ir.DIGIT:return b.DIGIT_TABLE[l];default:throw new Co("Bad table")}}correctBits(a){let l,u;this.ddata.getNbLayers()<=2?(u=6,l=_t.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,l=_t.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,l=_t.AZTEC_DATA_10):(u=12,l=_t.AZTEC_DATA_12);let d=this.ddata.getNbDatablocks(),h=a.length/u;if(h<d)throw new ue;let g=a.length%u,_=new Int32Array(h);for(let R=0;R<h;R++,g+=u)_[R]=b.readCode(a,g,u);try{new Ha(l).decode(_,h-d)}catch(R){throw new ue(R)}let v=(1<<u)-1,C=0;for(let R=0;R<d;R++){let k=_[R];if(0===k||k===v)throw new ue;(1===k||k===v-1)&&C++}let x=new Array(d*u-C),T=0;for(let R=0;R<d;R++){let k=_[R];if(1===k||k===v-1)x.fill(k>1,T,T+u-1),T+=u-1;else for(let L=u-1;L>=0;--L)x[T++]=0!=(k&1<<L)}return x}extractBits(a){let l=this.ddata.isCompact(),u=this.ddata.getNbLayers(),d=(l?11:14)+4*u,h=new Int32Array(d),g=new Array(this.totalBitsInLayer(u,l));if(l)for(let _=0;_<h.length;_++)h[_]=_;else{let _=d+1+2*$e.truncDivision($e.truncDivision(d,2)-1,15),v=d/2,C=$e.truncDivision(_,2);for(let x=0;x<v;x++){let T=x+$e.truncDivision(x,15);h[v-x-1]=C-T-1,h[v+x]=C+T+1}}for(let _=0,v=0;_<u;_++){let C=4*(u-_)+(l?9:12),x=2*_,T=d-1-x;for(let R=0;R<C;R++){let k=2*R;for(let L=0;L<2;L++)g[v+k+L]=a.get(h[x+L],h[x+R]),g[v+2*C+k+L]=a.get(h[x+R],h[T-L]),g[v+4*C+k+L]=a.get(h[T-L],h[T-R]),g[v+6*C+k+L]=a.get(h[T-R],h[x+L])}v+=8*C}return g}static readCode(a,l,u){let d=0;for(let h=l;h<l+u;h++)d<<=1,a[h]&&(d|=1);return d}static readByte(a,l){let u=a.length-l;return u>=8?b.readCode(a,l,8):b.readCode(a,l,u)<<8-u}static convertBoolArrayToByteArray(a){let l=new Uint8Array((a.length+7)/8);for(let u=0;u<l.length;u++)l[u]=b.readByte(a,8*u);return l}totalBitsInLayer(a,l){return((l?88:112)+16*a)*a}}return b.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],b.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],b.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],b.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],b.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],b})();class vt{constructor(){}static round(s){return NaN===s?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,a,l,u){const d=s-l,h=a-u;return Math.sqrt(d*d+h*h)}static sum(s){let a=0;for(let l=0,u=s.length;l!==u;l++)a+=s[l];return a}}class Js{static floatToIntBits(s){return s}}Js.MAX_VALUE=Number.MAX_SAFE_INTEGER;class De{constructor(s,a){this.x=s,this.y=a}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof De){const a=s;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*Js.floatToIntBits(this.x)+Js.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const a=this.distance(s[0],s[1]),l=this.distance(s[1],s[2]),u=this.distance(s[0],s[2]);let d,h,g;if(l>=a&&l>=u?(h=s[0],d=s[1],g=s[2]):u>=l&&u>=a?(h=s[1],d=s[0],g=s[2]):(h=s[2],d=s[0],g=s[1]),this.crossProductZ(d,h,g)<0){const _=d;d=g,g=_}s[0]=d,s[1]=h,s[2]=g}static distance(s,a){return vt.distance(s.x,s.y,a.x,a.y)}static crossProductZ(s,a,l){const u=a.x,d=a.y;return(l.x-u)*(s.y-d)-(l.y-d)*(s.x-u)}}class ea{constructor(s,a){this.bits=s,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class ud extends ea{constructor(s,a,l,u,d){super(s,a),this.compact=l,this.nbDatablocks=u,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}let lc=(()=>{class b{constructor(a,l,u,d){this.image=a,this.height=a.getHeight(),this.width=a.getWidth(),null==l&&(l=b.INIT_SIZE),null==u&&(u=a.getWidth()/2|0),null==d&&(d=a.getHeight()/2|0);const h=l/2|0;if(this.leftInit=u-h,this.rightInit=u+h,this.upInit=d-h,this.downInit=d+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new X}detect(){let a=this.leftInit,l=this.rightInit,u=this.upInit,d=this.downInit,h=!1,g=!0,_=!1,v=!1,C=!1,x=!1,T=!1;const R=this.width,k=this.height;for(;g;){g=!1;let L=!0;for(;(L||!v)&&l<R;)L=this.containsBlackPoint(u,d,l,!1),L?(l++,g=!0,v=!0):v||l++;if(l>=R){h=!0;break}let H=!0;for(;(H||!C)&&d<k;)H=this.containsBlackPoint(a,l,d,!0),H?(d++,g=!0,C=!0):C||d++;if(d>=k){h=!0;break}let W=!0;for(;(W||!x)&&a>=0;)W=this.containsBlackPoint(u,d,a,!1),W?(a--,g=!0,x=!0):x||a--;if(a<0){h=!0;break}let re=!0;for(;(re||!T)&&u>=0;)re=this.containsBlackPoint(a,l,u,!0),re?(u--,g=!0,T=!0):T||u--;if(u<0){h=!0;break}g&&(_=!0)}if(!h&&_){const L=l-a;let H=null;for(let Q=1;null===H&&Q<L;Q++)H=this.getBlackPointOnSegment(a,d-Q,a+Q,d);if(null==H)throw new X;let W=null;for(let Q=1;null===W&&Q<L;Q++)W=this.getBlackPointOnSegment(a,u+Q,a+Q,u);if(null==W)throw new X;let re=null;for(let Q=1;null===re&&Q<L;Q++)re=this.getBlackPointOnSegment(l,u+Q,l-Q,u);if(null==re)throw new X;let pe=null;for(let Q=1;null===pe&&Q<L;Q++)pe=this.getBlackPointOnSegment(l,d-Q,l-Q,d);if(null==pe)throw new X;return this.centerEdges(pe,H,re,W)}throw new X}getBlackPointOnSegment(a,l,u,d){const h=vt.round(vt.distance(a,l,u,d)),g=(u-a)/h,_=(d-l)/h,v=this.image;for(let C=0;C<h;C++){const x=vt.round(a+C*g),T=vt.round(l+C*_);if(v.get(x,T))return new De(x,T)}return null}centerEdges(a,l,u,d){const h=a.getX(),g=a.getY(),_=l.getX(),v=l.getY(),C=u.getX(),x=u.getY(),T=d.getX(),R=d.getY(),k=b.CORR;return h<this.width/2?[new De(T-k,R+k),new De(_+k,v+k),new De(C-k,x-k),new De(h+k,g-k)]:[new De(T+k,R+k),new De(_+k,v-k),new De(C-k,x+k),new De(h-k,g-k)]}containsBlackPoint(a,l,u,d){const h=this.image;if(d){for(let g=a;g<=l;g++)if(h.get(g,u))return!0}else for(let g=a;g<=l;g++)if(h.get(u,g))return!0;return!1}}return b.INIT_SIZE=10,b.CORR=1,b})();class dd{static checkAndNudgePoints(s,a){const l=s.getWidth(),u=s.getHeight();let d=!0;for(let h=0;h<a.length&&d;h+=2){const g=Math.floor(a[h]),_=Math.floor(a[h+1]);if(g<-1||g>l||_<-1||_>u)throw new X;d=!1,-1===g?(a[h]=0,d=!0):g===l&&(a[h]=l-1,d=!0),-1===_?(a[h+1]=0,d=!0):_===u&&(a[h+1]=u-1,d=!0)}d=!0;for(let h=a.length-2;h>=0&&d;h-=2){const g=Math.floor(a[h]),_=Math.floor(a[h+1]);if(g<-1||g>l||_<-1||_>u)throw new X;d=!1,-1===g?(a[h]=0,d=!0):g===l&&(a[h]=l-1,d=!0),-1===_?(a[h+1]=0,d=!0):_===u&&(a[h+1]=u-1,d=!0)}}}class Mi{constructor(s,a,l,u,d,h,g,_,v){this.a11=s,this.a21=a,this.a31=l,this.a12=u,this.a22=d,this.a32=h,this.a13=g,this.a23=_,this.a33=v}static quadrilateralToQuadrilateral(s,a,l,u,d,h,g,_,v,C,x,T,R,k,L,H){const W=Mi.quadrilateralToSquare(s,a,l,u,d,h,g,_);return Mi.squareToQuadrilateral(v,C,x,T,R,k,L,H).times(W)}transformPoints(s){const a=s.length,l=this.a11,u=this.a12,d=this.a13,h=this.a21,g=this.a22,_=this.a23,v=this.a31,C=this.a32,x=this.a33;for(let T=0;T<a;T+=2){const R=s[T],k=s[T+1],L=d*R+_*k+x;s[T]=(l*R+h*k+v)/L,s[T+1]=(u*R+g*k+C)/L}}transformPointsWithValues(s,a){const l=this.a11,u=this.a12,d=this.a13,h=this.a21,g=this.a22,_=this.a23,v=this.a31,C=this.a32,x=this.a33,T=s.length;for(let R=0;R<T;R++){const k=s[R],L=a[R],H=d*k+_*L+x;s[R]=(l*k+h*L+v)/H,a[R]=(u*k+g*L+C)/H}}static squareToQuadrilateral(s,a,l,u,d,h,g,_){const v=s-l+d-g,C=a-u+h-_;if(0===v&&0===C)return new Mi(l-s,d-l,s,u-a,h-u,a,0,0,1);{const x=l-d,T=g-d,R=u-h,k=_-h,L=x*k-T*R,H=(v*k-T*C)/L,W=(x*C-v*R)/L;return new Mi(l-s+H*l,g-s+W*g,s,u-a+H*u,_-a+W*_,a,H,W,1)}}static quadrilateralToSquare(s,a,l,u,d,h,g,_){return Mi.squareToQuadrilateral(s,a,l,u,d,h,g,_).buildAdjoint()}buildAdjoint(){return new Mi(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new Mi(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class wo extends dd{sampleGrid(s,a,l,u,d,h,g,_,v,C,x,T,R,k,L,H,W,re,pe){const Q=Mi.quadrilateralToQuadrilateral(u,d,h,g,_,v,C,x,T,R,k,L,H,W,re,pe);return this.sampleGridWithTransform(s,a,l,Q)}sampleGridWithTransform(s,a,l,u){if(a<=0||l<=0)throw new X;const d=new Yn(a,l),h=new Float32Array(2*a);for(let g=0;g<l;g++){const _=h.length,v=g+.5;for(let C=0;C<_;C+=2)h[C]=C/2+.5,h[C+1]=v;u.transformPoints(h),dd.checkAndNudgePoints(s,h);try{for(let C=0;C<_;C+=2)s.get(Math.floor(h[C]),Math.floor(h[C+1]))&&d.set(C/2,g)}catch{throw new X}}return d}}class Do{static setGridSampler(s){Do.gridSampler=s}static getInstance(){return Do.gridSampler}}Do.gridSampler=new wo;class kr{constructor(s,a){this.x=s,this.y=a}toResultPoint(){return new De(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class fd{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let a=this.getMatrixCenter(),l=this.getBullsEyeCorners(a);if(s){let h=l[0];l[0]=l[2],l[2]=h}this.extractParameters(l);let u=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),d=this.getMatrixCornerPoints(l);return new ud(u,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!(this.isValidPoint(s[0])&&this.isValidPoint(s[1])&&this.isValidPoint(s[2])&&this.isValidPoint(s[3])))throw new X;let a=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(s[0],s[1],a),this.sampleLine(s[1],s[2],a),this.sampleLine(s[2],s[3],a),this.sampleLine(s[3],s[0],a)]);this.shift=this.getRotation(l,a);let u=0;for(let h=0;h<4;h++){let g=l[(this.shift+h)%4];this.compact?(u<<=7,u+=g>>1&127):(u<<=10,u+=(g>>2&992)+(g>>1&31))}let d=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=1+(d>>6),this.nbDataBlocks=1+(63&d)):(this.nbLayers=1+(d>>11),this.nbDataBlocks=1+(2047&d))}getRotation(s,a){let l=0;s.forEach((u,d,h)=>{l=(u>>a-2<<1)+(1&u)+(l<<3)}),l=((1&l)<<11)+(l>>1);for(let u=0;u<4;u++)if($e.bitCount(l^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new X}getCorrectedParameterData(s,a){let l,u;a?(l=7,u=2):(l=10,u=4);let d=l-u,h=new Int32Array(l);for(let _=l-1;_>=0;--_)h[_]=15&s,s>>=4;try{new Ha(_t.AZTEC_PARAM).decode(h,d)}catch{throw new X}let g=0;for(let _=0;_<u;_++)g=(g<<4)+h[_];return g}getBullsEyeCorners(s){let a=s,l=s,u=s,d=s,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let x=this.getFirstDifferent(a,h,1,-1),T=this.getFirstDifferent(l,h,1,1),R=this.getFirstDifferent(u,h,-1,1),k=this.getFirstDifferent(d,h,-1,-1);if(this.nbCenterLayers>2){let L=this.distancePoint(k,x)*this.nbCenterLayers/(this.distancePoint(d,a)*(this.nbCenterLayers+2));if(L<.75||L>1.25||!this.isWhiteOrBlackRectangle(x,T,R,k))break}a=x,l=T,u=R,d=k,h=!h}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new X;this.compact=5===this.nbCenterLayers;let g=new De(a.getX()+.5,a.getY()-.5),_=new De(l.getX()+.5,l.getY()+.5),v=new De(u.getX()-.5,u.getY()+.5),C=new De(d.getX()-.5,d.getY()-.5);return this.expandSquare([g,_,v,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,a,l,u;try{let g=new lc(this.image).detect();s=g[0],a=g[1],l=g[2],u=g[3]}catch{let _=this.image.getWidth()/2,v=this.image.getHeight()/2;s=this.getFirstDifferent(new kr(_+7,v-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new kr(_+7,v+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new kr(_-7,v+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new kr(_-7,v-7),!1,-1,-1).toResultPoint()}let d=vt.round((s.getX()+u.getX()+a.getX()+l.getX())/4),h=vt.round((s.getY()+u.getY()+a.getY()+l.getY())/4);try{let g=new lc(this.image,15,d,h).detect();s=g[0],a=g[1],l=g[2],u=g[3]}catch{s=this.getFirstDifferent(new kr(d+7,h-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new kr(d+7,h+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new kr(d-7,h+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new kr(d-7,h-7),!1,-1,-1).toResultPoint()}return d=vt.round((s.getX()+u.getX()+a.getX()+l.getX())/4),h=vt.round((s.getY()+u.getY()+a.getY()+l.getY())/4),new kr(d,h)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,a,l,u,d){let h=Do.getInstance(),g=this.getDimension(),_=g/2-this.nbCenterLayers,v=g/2+this.nbCenterLayers;return h.sampleGrid(s,g,g,_,_,v,_,v,v,_,v,a.getX(),a.getY(),l.getX(),l.getY(),u.getX(),u.getY(),d.getX(),d.getY())}sampleLine(s,a,l){let u=0,d=this.distanceResultPoint(s,a),h=d/l,g=s.getX(),_=s.getY(),v=h*(a.getX()-s.getX())/d,C=h*(a.getY()-s.getY())/d;for(let x=0;x<l;x++)this.image.get(vt.round(g+x*v),vt.round(_+x*C))&&(u|=1<<l-x-1);return u}isWhiteOrBlackRectangle(s,a,l,u){s=new kr(s.getX()-3,s.getY()+3),a=new kr(a.getX()-3,a.getY()-3),l=new kr(l.getX()+3,l.getY()-3),u=new kr(u.getX()+3,u.getY()+3);let h=this.getColor(u,s);if(0===h)return!1;let g=this.getColor(s,a);return g===h&&(g=this.getColor(a,l),g===h)&&(g=this.getColor(l,u),g===h)}getColor(s,a){let l=this.distancePoint(s,a),u=(a.getX()-s.getX())/l,d=(a.getY()-s.getY())/l,h=0,g=s.getX(),_=s.getY(),v=this.image.get(s.getX(),s.getY()),C=Math.ceil(l);for(let T=0;T<C;T++)g+=u,_+=d,this.image.get(vt.round(g),vt.round(_))!==v&&h++;let x=h/l;return x>.1&&x<.9?0:x<=.1===v?1:-1}getFirstDifferent(s,a,l,u){let d=s.getX()+l,h=s.getY()+u;for(;this.isValid(d,h)&&this.image.get(d,h)===a;)d+=l,h+=u;for(d-=l,h-=u;this.isValid(d,h)&&this.image.get(d,h)===a;)d+=l;for(d-=l;this.isValid(d,h)&&this.image.get(d,h)===a;)h+=u;return h-=u,new kr(d,h)}expandSquare(s,a,l){let u=l/(2*a),d=s[0].getX()-s[2].getX(),h=s[0].getY()-s[2].getY(),g=(s[0].getX()+s[2].getX())/2,_=(s[0].getY()+s[2].getY())/2,v=new De(g+u*d,_+u*h),C=new De(g-u*d,_-u*h);return d=s[1].getX()-s[3].getX(),h=s[1].getY()-s[3].getY(),g=(s[1].getX()+s[3].getX())/2,_=(s[1].getY()+s[3].getY())/2,[v,new De(g+u*d,_+u*h),C,new De(g-u*d,_-u*h)]}isValid(s,a){return s>=0&&s<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(s){let a=vt.round(s.getX()),l=vt.round(s.getY());return this.isValid(a,l)}distancePoint(s,a){return vt.distance(s.getX(),s.getY(),a.getX(),a.getY())}distanceResultPoint(s,a){return vt.distance(s.getX(),s.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*($e.truncDivision(this.nbLayers-4,8)+1)+15}}class cc{decode(s,a=null){let l=null,u=new fd(s.getBlackMatrix()),d=null,h=null;try{let C=u.detectMirror(!1);d=C.getPoints(),this.reportFoundResultPoints(a,d),h=(new ac).decode(C)}catch(C){l=C}if(null==h)try{let C=u.detectMirror(!0);d=C.getPoints(),this.reportFoundResultPoints(a,d),h=(new ac).decode(C)}catch(C){throw l??C}let g=new je(h.getText(),h.getRawBytes(),h.getNumBits(),d,Me.AZTEC,zt.currentTimeMillis()),_=h.getByteSegments();null!=_&&g.putMetadata(Ye.BYTE_SEGMENTS,_);let v=h.getECLevel();return null!=v&&g.putMetadata(Ye.ERROR_CORRECTION_LEVEL,v),g}reportFoundResultPoints(s,a){if(null!=s){let l=s.get(Yt.NEED_RESULT_POINT_CALLBACK);null!=l&&a.forEach((u,d,h)=>{l.foundPossibleResultPoint(u)})}}reset(){}}class Vn{decode(s,a){try{return this.doDecode(s,a)}catch{if(a&&!0===a.get(Yt.TRY_HARDER)&&s.isRotateSupported()){const d=s.rotateCounterClockwise(),h=this.doDecode(d,a),g=h.getResultMetadata();let _=270;null!==g&&!0===g.get(Ye.ORIENTATION)&&(_+=g.get(Ye.ORIENTATION)%360),h.putMetadata(Ye.ORIENTATION,_);const v=h.getResultPoints();if(null!==v){const C=d.getHeight();for(let x=0;x<v.length;x++)v[x]=new De(C-v[x].getY()-1,v[x].getX())}return h}throw new X}}reset(){}doDecode(s,a){const l=s.getWidth(),u=s.getHeight();let d=new $t(l);const h=a&&!0===a.get(Yt.TRY_HARDER),g=Math.max(1,u>>(h?8:5));let _;_=h?u:15;const v=Math.trunc(u/2);for(let C=0;C<_;C++){const x=Math.trunc((C+1)/2),R=v+g*(0==(1&C)?x:-x);if(R<0||R>=u)break;try{d=s.getBlackRow(R,d)}catch{continue}for(let k=0;k<2;k++){if(1===k&&(d.reverse(),a&&!0===a.get(Yt.NEED_RESULT_POINT_CALLBACK))){const L=new Map;a.forEach((H,W)=>L.set(W,H)),L.delete(Yt.NEED_RESULT_POINT_CALLBACK),a=L}try{const L=this.decodeRow(R,d,a);if(1===k){L.putMetadata(Ye.ORIENTATION,180);const H=L.getResultPoints();null!==H&&(H[0]=new De(l-H[0].getX()-1,H[0].getY()),H[1]=new De(l-H[1].getX()-1,H[1].getY()))}return L}catch{}}}throw new X}static recordPattern(s,a,l){const u=l.length;for(let v=0;v<u;v++)l[v]=0;const d=s.getSize();if(a>=d)throw new X;let h=!s.get(a),g=0,_=a;for(;_<d;){if(s.get(_)!==h)l[g]++;else{if(++g===u)break;l[g]=1,h=!h}_++}if(g!==u&&(g!==u-1||_!==d))throw new X}static recordPatternInReverse(s,a,l){let u=l.length,d=s.get(a);for(;a>0&&u>=0;)s.get(--a)!==d&&(u--,d=!d);if(u>=0)throw new X;Vn.recordPattern(s,a+1,l)}static patternMatchVariance(s,a,l){const u=s.length;let d=0,h=0;for(let v=0;v<u;v++)d+=s[v],h+=a[v];if(d<h)return Number.POSITIVE_INFINITY;const g=d/h;l*=g;let _=0;for(let v=0;v<u;v++){const C=s[v],x=a[v]*g,T=C>x?C-x:x-C;if(T>l)return Number.POSITIVE_INFINITY;_+=T}return _/d}}class ce extends Vn{static findStartPattern(s){const a=s.getSize(),l=s.getNextSet(0);let u=0,d=Int32Array.from([0,0,0,0,0,0]),h=l,g=!1;for(let v=l;v<a;v++)if(s.get(v)!==g)d[u]++;else{if(5===u){let C=ce.MAX_AVG_VARIANCE,x=-1;for(let T=ce.CODE_START_A;T<=ce.CODE_START_C;T++){const R=Vn.patternMatchVariance(d,ce.CODE_PATTERNS[T],ce.MAX_INDIVIDUAL_VARIANCE);R<C&&(C=R,x=T)}if(x>=0&&s.isRange(Math.max(0,h-(v-h)/2),h,!1))return Int32Array.from([h,v,x]);h+=d[0]+d[1],d=d.slice(2,d.length-1),d[u-1]=0,d[u]=0,u--}else u++;d[u]=1,g=!g}throw new X}static decodeCode(s,a,l){Vn.recordPattern(s,l,a);let u=ce.MAX_AVG_VARIANCE,d=-1;for(let h=0;h<ce.CODE_PATTERNS.length;h++){const _=this.patternMatchVariance(a,ce.CODE_PATTERNS[h],ce.MAX_INDIVIDUAL_VARIANCE);_<u&&(u=_,d=h)}if(d>=0)return d;throw new X}decodeRow(s,a,l){const u=l&&!0===l.get(Yt.ASSUME_GS1),d=ce.findStartPattern(a),h=d[2];let g=0;const _=new Uint8Array(20);let v;switch(_[g++]=h,h){case ce.CODE_START_A:v=ce.CODE_CODE_A;break;case ce.CODE_START_B:v=ce.CODE_CODE_B;break;case ce.CODE_START_C:v=ce.CODE_CODE_C;break;default:throw new ue}let C=!1,x=!1,T="",R=d[0],k=d[1];const L=Int32Array.from([0,0,0,0,0,0]);let H=0,W=0,re=h,pe=0,Q=!0,lt=!1,tt=!1;for(;!C;){const aa=x;switch(x=!1,H=W,W=ce.decodeCode(a,L,k),_[g++]=W,W!==ce.CODE_STOP&&(Q=!0),W!==ce.CODE_STOP&&(pe++,re+=pe*W),R=k,k+=L.reduce((w_,D_)=>w_+D_,0),W){case ce.CODE_START_A:case ce.CODE_START_B:case ce.CODE_START_C:throw new ue}switch(v){case ce.CODE_CODE_A:if(W<64)T+=String.fromCharCode(tt===lt?" ".charCodeAt(0)+W:" ".charCodeAt(0)+W+128),tt=!1;else if(W<96)T+=String.fromCharCode(tt===lt?W-64:W+64),tt=!1;else switch(W!==ce.CODE_STOP&&(Q=!1),W){case ce.CODE_FNC_1:u&&(T+=0===T.length?"]C1":String.fromCharCode(29));break;case ce.CODE_FNC_2:case ce.CODE_FNC_3:break;case ce.CODE_FNC_4_A:!lt&&tt?(lt=!0,tt=!1):lt&&tt?(lt=!1,tt=!1):tt=!0;break;case ce.CODE_SHIFT:x=!0,v=ce.CODE_CODE_B;break;case ce.CODE_CODE_B:v=ce.CODE_CODE_B;break;case ce.CODE_CODE_C:v=ce.CODE_CODE_C;break;case ce.CODE_STOP:C=!0}break;case ce.CODE_CODE_B:if(W<96)T+=String.fromCharCode(tt===lt?" ".charCodeAt(0)+W:" ".charCodeAt(0)+W+128),tt=!1;else switch(W!==ce.CODE_STOP&&(Q=!1),W){case ce.CODE_FNC_1:u&&(T+=0===T.length?"]C1":String.fromCharCode(29));break;case ce.CODE_FNC_2:case ce.CODE_FNC_3:break;case ce.CODE_FNC_4_B:!lt&&tt?(lt=!0,tt=!1):lt&&tt?(lt=!1,tt=!1):tt=!0;break;case ce.CODE_SHIFT:x=!0,v=ce.CODE_CODE_A;break;case ce.CODE_CODE_A:v=ce.CODE_CODE_A;break;case ce.CODE_CODE_C:v=ce.CODE_CODE_C;break;case ce.CODE_STOP:C=!0}break;case ce.CODE_CODE_C:if(W<100)W<10&&(T+="0"),T+=W;else switch(W!==ce.CODE_STOP&&(Q=!1),W){case ce.CODE_FNC_1:u&&(T+=0===T.length?"]C1":String.fromCharCode(29));break;case ce.CODE_CODE_A:v=ce.CODE_CODE_A;break;case ce.CODE_CODE_B:v=ce.CODE_CODE_B;break;case ce.CODE_STOP:C=!0}}aa&&(v=v===ce.CODE_CODE_A?ce.CODE_CODE_B:ce.CODE_CODE_A)}const Kr=k-R;if(k=a.getNextUnset(k),!a.isRange(k,Math.min(a.getSize(),k+(k-R)/2),!1))throw new X;if(re-=pe*H,re%103!==H)throw new Un;const Bi=T.length;if(0===Bi)throw new X;Bi>0&&Q&&(T=T.substring(0,v===ce.CODE_CODE_C?Bi-2:Bi-1));const Jr=(d[1]+d[0])/2,Kt=R+Kr/2,Cr=_.length,fi=new Uint8Array(Cr);for(let aa=0;aa<Cr;aa++)fi[aa]=_[aa];const sa=[new De(Jr,s),new De(Kt,s)];return new je(T,fi,0,sa,Me.CODE_128,(new Date).getTime())}}ce.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ce.MAX_AVG_VARIANCE=.25,ce.MAX_INDIVIDUAL_VARIANCE=.7,ce.CODE_SHIFT=98,ce.CODE_CODE_C=99,ce.CODE_CODE_B=100,ce.CODE_CODE_A=101,ce.CODE_FNC_1=102,ce.CODE_FNC_2=97,ce.CODE_FNC_3=96,ce.CODE_FNC_4_A=101,ce.CODE_FNC_4_B=100,ce.CODE_START_A=103,ce.CODE_START_B=104,ce.CODE_START_C=105,ce.CODE_STOP=106;let hd=(()=>{class b extends Vn{constructor(a=!1,l=!1){super(),this.usingCheckDigit=a,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(a,l,u){let d=this.counters;d.fill(0),this.decodeRowResult="";let v,C,h=b.findAsteriskPattern(l,d),g=l.getNextSet(h[1]),_=l.getSize();do{b.recordPattern(l,g,d);let H=b.toNarrowWidePattern(d);if(H<0)throw new X;v=b.patternToChar(H),this.decodeRowResult+=v,C=g;for(let W of d)g+=W;g=l.getNextSet(g)}while("*"!==v);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let R,x=0;for(let H of d)x+=H;if(g!==_&&2*(g-C-x)<x)throw new X;if(this.usingCheckDigit){let H=this.decodeRowResult.length-1,W=0;for(let re=0;re<H;re++)W+=b.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(re));if(this.decodeRowResult.charAt(H)!==b.ALPHABET_STRING.charAt(W%43))throw new Un;this.decodeRowResult=this.decodeRowResult.substring(0,H)}if(0===this.decodeRowResult.length)throw new X;R=this.extendedMode?b.decodeExtended(this.decodeRowResult):this.decodeRowResult;let L=C+x/2;return new je(R,null,0,[new De((h[1]+h[0])/2,a),new De(L,a)],Me.CODE_39,(new Date).getTime())}static findAsteriskPattern(a,l){let u=a.getSize(),d=a.getNextSet(0),h=0,g=d,_=!1,v=l.length;for(let C=d;C<u;C++)if(a.get(C)!==_)l[h]++;else{if(h===v-1){if(this.toNarrowWidePattern(l)===b.ASTERISK_ENCODING&&a.isRange(Math.max(0,g-Math.floor((C-g)/2)),g,!1))return[g,C];g+=l[0]+l[1],l.copyWithin(0,2,2+h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,_=!_}throw new X}static toNarrowWidePattern(a){let d,l=a.length,u=0;do{let h=2147483647;for(let v of a)v<h&&v>u&&(h=v);u=h,d=0;let g=0,_=0;for(let v=0;v<l;v++){let C=a[v];C>u&&(_|=1<<l-1-v,d++,g+=C)}if(3===d){for(let v=0;v<l&&d>0;v++){let C=a[v];if(C>u&&(d--,2*C>=g))return-1}return _}}while(d>3);return-1}static patternToChar(a){for(let l=0;l<b.CHARACTER_ENCODINGS.length;l++)if(b.CHARACTER_ENCODINGS[l]===a)return b.ALPHABET_STRING.charAt(l);if(a===b.ASTERISK_ENCODING)return"*";throw new X}static decodeExtended(a){let l=a.length,u="";for(let d=0;d<l;d++){let h=a.charAt(d);if("+"===h||"$"===h||"%"===h||"/"===h){let g=a.charAt(d+1),_="\0";switch(h){case"+":if(!(g>="A"&&g<="Z"))throw new ue;_=String.fromCharCode(g.charCodeAt(0)+32);break;case"$":if(!(g>="A"&&g<="Z"))throw new ue;_=String.fromCharCode(g.charCodeAt(0)-64);break;case"%":if(g>="A"&&g<="E")_=String.fromCharCode(g.charCodeAt(0)-38);else if(g>="F"&&g<="J")_=String.fromCharCode(g.charCodeAt(0)-11);else if(g>="K"&&g<="O")_=String.fromCharCode(g.charCodeAt(0)+16);else if(g>="P"&&g<="T")_=String.fromCharCode(g.charCodeAt(0)+43);else if("U"===g)_="\0";else if("V"===g)_="@";else if("W"===g)_="`";else{if("X"!==g&&"Y"!==g&&"Z"!==g)throw new ue;_="\x7f"}break;case"/":if(g>="A"&&g<="O")_=String.fromCharCode(g.charCodeAt(0)-32);else{if("Z"!==g)throw new ue;_=":"}}u+=_,d++}else u+=h}return u}}return b.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",b.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],b.ASTERISK_ENCODING=148,b})();class Xt extends Vn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,a,l){let u=this.decodeStart(a),d=this.decodeEnd(a),h=new Tt;Xt.decodeMiddle(a,u[1],d[0],h);let g=h.toString(),_=null;null!=l&&(_=l.get(Yt.ALLOWED_LENGTHS)),null==_&&(_=Xt.DEFAULT_ALLOWED_LENGTHS);let v=g.length,C=!1,x=0;for(let k of _){if(v===k){C=!0;break}k>x&&(x=k)}if(!C&&v>x&&(C=!0),!C)throw new ue;const T=[new De(u[1],s),new De(d[0],s)];return new je(g,null,0,T,Me.ITF,(new Date).getTime())}static decodeMiddle(s,a,l,u){let d=new Int32Array(10),h=new Int32Array(5),g=new Int32Array(5);for(d.fill(0),h.fill(0),g.fill(0);a<l;){Vn.recordPattern(s,a,d);for(let v=0;v<5;v++){let C=2*v;h[v]=d[C],g[v]=d[C+1]}let _=Xt.decodeDigit(h);u.append(_.toString()),_=this.decodeDigit(g),u.append(_.toString()),d.forEach(function(v){a+=v})}}decodeStart(s){let a=Xt.skipWhiteSpace(s),l=Xt.findGuardPattern(s,a,Xt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(s,l[0]),l}validateQuietZone(s,a){let l=10*this.narrowLineWidth;l=l<a?l:a;for(let u=a-1;l>0&&u>=0&&!s.get(u);u--)l--;if(0!==l)throw new X}static skipWhiteSpace(s){const a=s.getSize(),l=s.getNextSet(0);if(l===a)throw new X;return l}decodeEnd(s){s.reverse();try{let l,a=Xt.skipWhiteSpace(s);try{l=Xt.findGuardPattern(s,a,Xt.END_PATTERN_REVERSED[0])}catch(d){d instanceof X&&(l=Xt.findGuardPattern(s,a,Xt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,l[0]);let u=l[0];return l[0]=s.getSize()-l[1],l[1]=s.getSize()-u,l}finally{s.reverse()}}static findGuardPattern(s,a,l){let u=l.length,d=new Int32Array(u),h=s.getSize(),g=!1,_=0,v=a;d.fill(0);for(let C=a;C<h;C++)if(s.get(C)!==g)d[_]++;else{if(_===u-1){if(Vn.patternMatchVariance(d,l,Xt.MAX_INDIVIDUAL_VARIANCE)<Xt.MAX_AVG_VARIANCE)return[v,C];v+=d[0]+d[1],zt.arraycopy(d,2,d,0,_-1),d[_-1]=0,d[_]=0,_--}else _++;d[_]=1,g=!g}throw new X}static decodeDigit(s){let a=Xt.MAX_AVG_VARIANCE,l=-1,u=Xt.PATTERNS.length;for(let d=0;d<u;d++){let g=Vn.patternMatchVariance(s,Xt.PATTERNS[d],Xt.MAX_INDIVIDUAL_VARIANCE);g<a?(a=g,l=d):g===a&&(l=-1)}if(l>=0)return l%10;throw new X}}Xt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Xt.MAX_AVG_VARIANCE=.38,Xt.MAX_INDIVIDUAL_VARIANCE=.5,Xt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Xt.START_PATTERN=Int32Array.from([1,1,1,1]),Xt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Cn extends Vn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let l,a=!1,u=0,d=Int32Array.from([0,0,0]);for(;!a;){d=Int32Array.from([0,0,0]),l=Cn.findGuardPattern(s,u,!1,this.START_END_PATTERN,d);let h=l[0];u=l[1];let g=h-(u-h);g>=0&&(a=s.isRange(g,h,!1))}return l}static checkChecksum(s){return Cn.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let a=s.length;if(0===a)return!1;let l=parseInt(s.charAt(a-1),10);return Cn.getStandardUPCEANChecksum(s.substring(0,a-1))===l}static getStandardUPCEANChecksum(s){let a=s.length,l=0;for(let u=a-1;u>=0;u-=2){let d=s.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(d<0||d>9)throw new ue;l+=d}l*=3;for(let u=a-2;u>=0;u-=2){let d=s.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(d<0||d>9)throw new ue;l+=d}return(1e3-l)%10}static decodeEnd(s,a){return Cn.findGuardPattern(s,a,!1,Cn.START_END_PATTERN,new Int32Array(Cn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,a,l,u){return this.findGuardPattern(s,a,l,u,new Int32Array(u.length))}static findGuardPattern(s,a,l,u,d){let h=s.getSize(),g=0,_=a=l?s.getNextUnset(a):s.getNextSet(a),v=u.length,C=l;for(let x=a;x<h;x++)if(s.get(x)!==C)d[g]++;else{if(g===v-1){if(Vn.patternMatchVariance(d,u,Cn.MAX_INDIVIDUAL_VARIANCE)<Cn.MAX_AVG_VARIANCE)return Int32Array.from([_,x]);_+=d[0]+d[1];let T=d.slice(2,d.length-1);for(let R=0;R<g-1;R++)d[R]=T[R];d[g-1]=0,d[g]=0,g--}else g++;d[g]=1,C=!C}throw new X}static decodeDigit(s,a,l,u){this.recordPattern(s,l,a);let d=this.MAX_AVG_VARIANCE,h=-1,g=u.length;for(let _=0;_<g;_++){let C=Vn.patternMatchVariance(a,u[_],Cn.MAX_INDIVIDUAL_VARIANCE);C<d&&(d=C,h=_)}if(h>=0)return h;throw new X}}Cn.MAX_AVG_VARIANCE=.48,Cn.MAX_INDIVIDUAL_VARIANCE=.7,Cn.START_END_PATTERN=Int32Array.from([1,1,1]),Cn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Cn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Cn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class zo{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,a,l){let u=this.decodeRowStringBuffer,d=this.decodeMiddle(a,l,u),h=u.toString(),g=zo.parseExtensionString(h),_=[new De((l[0]+l[1])/2,s),new De(d,s)],v=new je(h,null,0,_,Me.UPC_EAN_EXTENSION,(new Date).getTime());return null!=g&&v.putAllMetadata(g),v}decodeMiddle(s,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=s.getSize(),h=a[1],g=0;for(let v=0;v<5&&h<d;v++){let C=Cn.decodeDigit(s,u,h,Cn.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let x of u)h+=x;C>=10&&(g|=1<<4-v),4!==v&&(h=s.getNextSet(h),h=s.getNextUnset(h))}if(5!==l.length)throw new X;let _=this.determineCheckDigit(g);if(zo.extensionChecksum(l.toString())!==_)throw new X;return h}static extensionChecksum(s){let a=s.length,l=0;for(let u=a-2;u>=0;u-=2)l+=s.charAt(u).charCodeAt(0)-"0".charCodeAt(0);l*=3;for(let u=a-1;u>=0;u-=2)l+=s.charAt(u).charCodeAt(0)-"0".charCodeAt(0);return l*=3,l%10}determineCheckDigit(s){for(let a=0;a<10;a++)if(s===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new X}static parseExtensionString(s){if(5!==s.length)return null;let a=zo.parseExtension5String(s);return null==a?null:new Map([[Ye.SUGGESTED_PRICE,a]])}static parseExtension5String(s){let a;switch(s.charAt(0)){case"0":a="\xa3";break;case"5":a="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a=""}let l=parseInt(s.substring(1)),d=l%100;return a+(l/100).toString()+"."+(d<10?"0"+d:d.toString())}}class ja{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,a,l){let u=this.decodeRowStringBuffer,d=this.decodeMiddle(a,l,u),h=u.toString(),g=ja.parseExtensionString(h),_=[new De((l[0]+l[1])/2,s),new De(d,s)],v=new je(h,null,0,_,Me.UPC_EAN_EXTENSION,(new Date).getTime());return null!=g&&v.putAllMetadata(g),v}decodeMiddle(s,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=s.getSize(),h=a[1],g=0;for(let _=0;_<2&&h<d;_++){let v=Cn.decodeDigit(s,u,h,Cn.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+v%10);for(let C of u)h+=C;v>=10&&(g|=1<<1-_),1!==_&&(h=s.getNextSet(h),h=s.getNextUnset(h))}if(2!==l.length)throw new X;if(parseInt(l.toString())%4!==g)throw new X;return h}static parseExtensionString(s){return 2!==s.length?null:new Map([[Ye.ISSUE_NUMBER,parseInt(s)]])}}class uc{static decodeRow(s,a,l){let u=Cn.findGuardPattern(a,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new zo).decodeRow(s,a,u)}catch{return(new ja).decodeRow(s,a,u)}}}uc.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class yt extends Cn{constructor(){super(),this.decodeRowStringBuffer="",yt.L_AND_G_PATTERNS=yt.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let a=yt.L_PATTERNS[s-10],l=new Int32Array(a.length);for(let u=0;u<a.length;u++)l[u]=a[a.length-u-1];yt.L_AND_G_PATTERNS[s]=l}}decodeRow(s,a,l){let u=yt.findStartGuardPattern(a),d=null==l?null:l.get(Yt.NEED_RESULT_POINT_CALLBACK);if(null!=d){const Q=new De((u[0]+u[1])/2,s);d.foundPossibleResultPoint(Q)}let h=this.decodeMiddle(a,u,this.decodeRowStringBuffer),g=h.rowOffset,_=h.resultString;if(null!=d){const Q=new De(g,s);d.foundPossibleResultPoint(Q)}let v=this.decodeEnd(a,g);if(null!=d){const Q=new De((v[0]+v[1])/2,s);d.foundPossibleResultPoint(Q)}let C=v[1],x=C+(C-v[0]);if(x>=a.getSize()||!a.isRange(C,x,!1))throw new X;let T=_.toString();if(T.length<8)throw new ue;if(!yt.checkChecksum(T))throw new Un;let R=(u[1]+u[0])/2,k=(v[1]+v[0])/2,L=this.getBarcodeFormat(),H=[new De(R,s),new De(k,s)],W=new je(T,null,0,H,L,(new Date).getTime()),re=0;try{let Q=uc.decodeRow(s,a,v[1]);W.putMetadata(Ye.UPC_EAN_EXTENSION,Q.getText()),W.putAllMetadata(Q.getResultMetadata()),W.addResultPoints(Q.getResultPoints()),re=Q.getText().length}catch{}let pe=null==l?null:l.get(Yt.ALLOWED_EAN_EXTENSIONS);if(null!=pe){let Q=!1;for(let lt in pe)if(re.toString()===lt){Q=!0;break}if(!Q)throw new X}return W}decodeEnd(s,a){return yt.findGuardPattern(s,a,!1,yt.START_END_PATTERN,new Int32Array(yt.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return yt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let a=s.length;if(0===a)return!1;let l=parseInt(s.charAt(a-1),10);return yt.getStandardUPCEANChecksum(s.substring(0,a-1))===l}static getStandardUPCEANChecksum(s){let a=s.length,l=0;for(let u=a-1;u>=0;u-=2){let d=s.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(d<0||d>9)throw new ue;l+=d}l*=3;for(let u=a-2;u>=0;u-=2){let d=s.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(d<0||d>9)throw new ue;l+=d}return(1e3-l)%10}}let ta=(()=>{class b extends yt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,l,u){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let h=a.getSize(),g=l[1],_=0;for(let C=0;C<6&&g<h;C++){let x=yt.decodeDigit(a,d,g,yt.L_AND_G_PATTERNS);u+=String.fromCharCode("0".charCodeAt(0)+x%10);for(let T of d)g+=T;x>=10&&(_|=1<<5-C)}u=b.determineFirstDigit(u,_),g=yt.findGuardPattern(a,g,!0,yt.MIDDLE_PATTERN,new Int32Array(yt.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<6&&g<h;C++){let x=yt.decodeDigit(a,d,g,yt.L_PATTERNS);u+=String.fromCharCode("0".charCodeAt(0)+x);for(let T of d)g+=T}return{rowOffset:g,resultString:u}}getBarcodeFormat(){return Me.EAN_13}static determineFirstDigit(a,l){for(let u=0;u<10;u++)if(l===this.FIRST_DIGIT_ENCODINGS[u])return String.fromCharCode("0".charCodeAt(0)+u)+a;throw new X}}return b.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],b})();class pd extends yt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,a,l){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=s.getSize(),h=a[1];for(let _=0;_<4&&h<d;_++){let v=yt.decodeDigit(s,u,h,yt.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+v);for(let C of u)h+=C}h=yt.findGuardPattern(s,h,!0,yt.MIDDLE_PATTERN,new Int32Array(yt.MIDDLE_PATTERN.length).fill(0))[1];for(let _=0;_<4&&h<d;_++){let v=yt.decodeDigit(s,u,h,yt.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+v);for(let C of u)h+=C}return{rowOffset:h,resultString:l}}getBarcodeFormat(){return Me.EAN_8}}class dc extends yt{constructor(){super(...arguments),this.ean13Reader=new ta}getBarcodeFormat(){return Me.UPC_A}decode(s,a){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,a,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,a,l))}decodeMiddle(s,a,l){return this.ean13Reader.decodeMiddle(s,a,l)}maybeReturnResult(s){let a=s.getText();if("0"===a.charAt(0)){let l=new je(a.substring(1),null,null,s.getResultPoints(),Me.UPC_A);return null!=s.getResultMetadata()&&l.putAllMetadata(s.getResultMetadata()),l}throw new X}reset(){this.ean13Reader.reset()}}class ci extends yt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,a,l){const u=this.decodeMiddleCounters.map(v=>v);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const d=s.getSize();let h=a[1],g=0;for(let v=0;v<6&&h<d;v++){const C=ci.decodeDigit(s,u,h,ci.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let x of u)h+=x;C>=10&&(g|=1<<5-v)}return{rowOffset:h,resultString:ci.determineNumSysAndCheckDigit(l,g)}}decodeEnd(s,a){return ci.findGuardPatternWithoutCounters(s,a,!0,ci.MIDDLE_END_PATTERN)}checkChecksum(s){return yt.checkChecksum(ci.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,a){for(let l=0;l<=1;l++)for(let u=0;u<10;u++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][u])return String.fromCharCode("0".charCodeAt(0)+l)+s+String.fromCharCode("0".charCodeAt(0)+u);throw X.getNotFoundInstance()}getBarcodeFormat(){return Me.UPC_E}static convertUPCEtoUPCA(s){const a=s.slice(1,7).split("").map(d=>d.charCodeAt(0)),l=new Tt;l.append(s.charAt(0));let u=a[5];switch(u){case 0:case 1:case 2:l.appendChars(a,0,2),l.append(u),l.append("0000"),l.appendChars(a,2,3);break;case 3:l.appendChars(a,0,3),l.append("00000"),l.appendChars(a,3,2);break;case 4:l.appendChars(a,0,4),l.append("00000"),l.append(a[4]);break;default:l.appendChars(a,0,5),l.append("0000"),l.append(u)}return s.length>=8&&l.append(s.charAt(7)),l.toString()}}ci.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ci.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ga extends Vn{constructor(s){super();let a=null==s?null:s.get(Yt.POSSIBLE_FORMATS),l=[];st(a)?(l.push(new ta),l.push(new dc),l.push(new pd),l.push(new ci)):(a.indexOf(Me.EAN_13)>-1&&l.push(new ta),a.indexOf(Me.UPC_A)>-1&&l.push(new dc),a.indexOf(Me.EAN_8)>-1&&l.push(new pd),a.indexOf(Me.UPC_E)>-1&&l.push(new ci)),this.readers=l}decodeRow(s,a,l){for(let u of this.readers)try{const d=u.decodeRow(s,a,l),h=d.getBarcodeFormat()===Me.EAN_13&&"0"===d.getText().charAt(0),g=null==l?null:l.get(Yt.POSSIBLE_FORMATS),_=null==g||g.includes(Me.UPC_A);if(h&&_){const v=d.getRawBytes(),C=new je(d.getText().substring(1),v,v?v.length:null,d.getResultPoints(),Me.UPC_A);return C.putAllMetadata(d.getResultMetadata()),C}return d}catch{}throw new X}reset(){for(let s of this.readers)s.reset()}}let Eo=(()=>{class b extends Vn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(a,l){for(let u=0;u<l.length;u++)if(Vn.patternMatchVariance(a,l[u],b.MAX_INDIVIDUAL_VARIANCE)<b.MAX_AVG_VARIANCE)return u;throw new X}static count(a){return vt.sum(new Int32Array(a))}static increment(a,l){let u=0,d=l[0];for(let h=1;h<a.length;h++)l[h]>d&&(d=l[h],u=h);a[u]++}static decrement(a,l){let u=0,d=l[0];for(let h=1;h<a.length;h++)l[h]<d&&(d=l[h],u=h);a[u]--}static isFinderPattern(a){let l=a[0]+a[1],d=l/(l+a[2]+a[3]);if(d>=b.MIN_FINDER_PATTERN_RATIO&&d<=b.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER;for(let _ of a)_>g&&(g=_),_<h&&(h=_);return g<10*h}return!1}}return b.MAX_AVG_VARIANCE=.2,b.MAX_INDIVIDUAL_VARIANCE=.45,b.MIN_FINDER_PATTERN_RATIO=9.5/12,b.MAX_FINDER_PATTERN_RATIO=12.5/14,b})();class gn{constructor(s,a){this.value=s,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){return s instanceof gn&&this.value===s.value&&this.checksumPortion===s.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class za{constructor(s,a,l,u,d){this.value=s,this.startEnd=a,this.value=s,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new De(l,d)),this.resultPoints.push(new De(u,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){return s instanceof za&&this.value===s.value}hashCode(){return this.value}}class Oi{constructor(){}static getRSSvalue(s,a,l){let u=0;for(let _ of s)u+=_;let d=0,h=0,g=s.length;for(let _=0;_<g-1;_++){let v;for(v=1,h|=1<<_;v<s[_];v++,h&=~(1<<_)){let C=Oi.combins(u-v-1,g-_-2);if(l&&0===h&&u-v-(g-_-1)>=g-_-1&&(C-=Oi.combins(u-v-(g-_),g-_-2)),g-_-1>1){let x=0;for(let T=u-v-(g-_-2);T>a;T--)x+=Oi.combins(u-v-T-1,g-_-3);C-=x*(g-1-_)}else u-v>a&&C--;d+=C}u-=v}return d}static combins(s,a){let l,u;s-a>a?(u=a,l=s-a):(u=s-a,l=a);let d=1,h=1;for(let g=s;g>l;g--)d*=g,h<=u&&(d/=h,h++);for(;h<=u;)d/=h,h++;return d}}class $o{constructor(s,a){a?this.decodedInformation=null:(this.finished=s,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class $a{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}let _i=(()=>{class b extends $a{constructor(a,l){super(a),this.value=l}getValue(){return this.value}isFNC1(){return this.value===b.FNC1}}return b.FNC1="$",b})();class Wo extends $a{constructor(s,a,l){super(s),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}let Pr=(()=>{class b extends $a{constructor(a,l,u){if(super(a),l<0||l>10||u<0||u>10)throw new ue;this.firstDigit=l,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return 10*this.firstDigit+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===b.FNC1}isSecondDigitFNC1(){return this.secondDigit===b.FNC1}isAnyFNC1(){return this.firstDigit===b.FNC1||this.secondDigit===b.FNC1}}return b.FNC1=10,b})();class ye{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new X;let a=s.substring(0,2);for(let d of ye.TWO_DIGIT_DATA_LENGTH)if(d[0]===a)return d[1]===ye.VARIABLE_LENGTH?ye.processVariableAI(2,d[2],s):ye.processFixedAI(2,d[1],s);if(s.length<3)throw new X;let l=s.substring(0,3);for(let d of ye.THREE_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===ye.VARIABLE_LENGTH?ye.processVariableAI(3,d[2],s):ye.processFixedAI(3,d[1],s);for(let d of ye.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===ye.VARIABLE_LENGTH?ye.processVariableAI(4,d[2],s):ye.processFixedAI(4,d[1],s);if(s.length<4)throw new X;let u=s.substring(0,4);for(let d of ye.FOUR_DIGIT_DATA_LENGTH)if(d[0]===u)return d[1]===ye.VARIABLE_LENGTH?ye.processVariableAI(4,d[2],s):ye.processFixedAI(4,d[1],s);throw new X}static processFixedAI(s,a,l){if(l.length<s)throw new X;let u=l.substring(0,s);if(l.length<s+a)throw new X;let d=l.substring(s,s+a),h=l.substring(s+a),g="("+u+")"+d,_=ye.parseFieldsInGeneralPurpose(h);return null==_?g:g+_}static processVariableAI(s,a,l){let d,u=l.substring(0,s);d=l.length<s+a?l.length:s+a;let h=l.substring(s,d),g=l.substring(d),_="("+u+")"+h,v=ye.parseFieldsInGeneralPurpose(g);return null==v?_:_+v}}ye.VARIABLE_LENGTH=[],ye.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ye.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ye.VARIABLE_LENGTH,20],["22",ye.VARIABLE_LENGTH,29],["30",ye.VARIABLE_LENGTH,8],["37",ye.VARIABLE_LENGTH,8],["90",ye.VARIABLE_LENGTH,30],["91",ye.VARIABLE_LENGTH,30],["92",ye.VARIABLE_LENGTH,30],["93",ye.VARIABLE_LENGTH,30],["94",ye.VARIABLE_LENGTH,30],["95",ye.VARIABLE_LENGTH,30],["96",ye.VARIABLE_LENGTH,30],["97",ye.VARIABLE_LENGTH,3],["98",ye.VARIABLE_LENGTH,30],["99",ye.VARIABLE_LENGTH,30]],ye.THREE_DIGIT_DATA_LENGTH=[["240",ye.VARIABLE_LENGTH,30],["241",ye.VARIABLE_LENGTH,30],["242",ye.VARIABLE_LENGTH,6],["250",ye.VARIABLE_LENGTH,30],["251",ye.VARIABLE_LENGTH,30],["253",ye.VARIABLE_LENGTH,17],["254",ye.VARIABLE_LENGTH,20],["400",ye.VARIABLE_LENGTH,30],["401",ye.VARIABLE_LENGTH,30],["402",17],["403",ye.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ye.VARIABLE_LENGTH,20],["421",ye.VARIABLE_LENGTH,15],["422",3],["423",ye.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ye.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ye.VARIABLE_LENGTH,15],["391",ye.VARIABLE_LENGTH,18],["392",ye.VARIABLE_LENGTH,15],["393",ye.VARIABLE_LENGTH,18],["703",ye.VARIABLE_LENGTH,30]],ye.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ye.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ye.VARIABLE_LENGTH,20],["8003",ye.VARIABLE_LENGTH,30],["8004",ye.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ye.VARIABLE_LENGTH,30],["8008",ye.VARIABLE_LENGTH,12],["8018",18],["8020",ye.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ye.VARIABLE_LENGTH,70],["8200",ye.VARIABLE_LENGTH,70]];class sn{constructor(s){this.buffer=new Tt,this.information=s}decodeAllCodes(s,a){let l=a,u=null;for(;;){let d=this.decodeGeneralPurposeField(l,u),h=ye.parseFieldsInGeneralPurpose(d.getNewString());if(null!=h&&s.append(h),u=d.isRemaining()?""+d.getRemainingValue():null,l===d.getNewPosition())break;l=d.getNewPosition()}return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let a=s;a<s+3;++a)if(this.information.get(a))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(s,4);return new Pr(this.information.getSize(),0===d?Pr.FNC1:d-1,Pr.FNC1)}let a=this.extractNumericValueFromBitArray(s,7);return new Pr(s+7,(a-8)/11,(a-8)%11)}extractNumericValueFromBitArray(s,a){return sn.extractNumericValueFromBitArray(this.information,s,a)}static extractNumericValueFromBitArray(s,a,l){let u=0;for(let d=0;d<l;++d)s.get(a+d)&&(u|=1<<l-d-1);return u}decodeGeneralPurposeField(s,a){this.buffer.setLengthToZero(),null!=a&&this.buffer.append(a),this.current.setPosition(s);let l=this.parseBlocks();return null!=l&&l.isRemaining()?new Wo(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Wo(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,a;do{let l=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),s=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),s=a.isFinished()):(a=this.parseNumericBlock(),s=a.isFinished()),l===this.current.getPosition()&&!s)break}while(!s);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let a;return a=s.isSecondDigitFNC1()?new Wo(this.current.getPosition(),this.buffer.toString()):new Wo(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new $o(!0,a)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let a=new Wo(this.current.getPosition(),this.buffer.toString());return new $o(!0,a)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new $o(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let a=new Wo(this.current.getPosition(),this.buffer.toString());return new $o(!0,a)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new $o(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let a=new Wo(this.current.getPosition(),this.buffer.toString());return new $o(!0,a)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new $o(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(s,5);if(a>=5&&a<16)return!0;if(s+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<116)return!0;if(s+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(s,8);return u>=232&&u<253}decodeIsoIec646(s){let a=this.extractNumericValueFromBitArray(s,5);if(15===a)return new _i(s+5,_i.FNC1);if(a>=5&&a<15)return new _i(s+5,"0"+(a-5));let d,l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<90)return new _i(s+7,""+(l+1));if(l>=90&&l<116)return new _i(s+7,""+(l+7));switch(this.extractNumericValueFromBitArray(s,8)){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new ue}return new _i(s+8,d)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(s,5);if(a>=5&&a<16)return!0;if(s+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,6);return l>=16&&l<63}decodeAlphanumeric(s){let a=this.extractNumericValueFromBitArray(s,5);if(15===a)return new _i(s+5,_i.FNC1);if(a>=5&&a<15)return new _i(s+5,"0"+(a-5));let u,l=this.extractNumericValueFromBitArray(s,6);if(l>=32&&l<58)return new _i(s+6,""+(l+33));switch(l){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new Co("Decoding invalid alphanumeric value: "+l)}return new _i(s+6,u)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let a=0;a<5&&a+s<this.information.getSize();++a)if(2===a){if(!this.information.get(s+2))return!1}else if(this.information.get(s+a))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let a=s;a<s+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let a=0;a<4&&a+s<this.information.getSize();++a)if(this.information.get(s+a))return!1;return!0}}class xo{constructor(s){this.information=s,this.generalDecoder=new sn(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}let wn=(()=>{class b extends xo{constructor(a){super(a)}encodeCompressedGtin(a,l){a.append("(01)");let u=a.length();a.append("9"),this.encodeCompressedGtinWithoutAI(a,l,u)}encodeCompressedGtinWithoutAI(a,l,u){for(let d=0;d<4;++d){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*d,10);h/100==0&&a.append("0"),h/10==0&&a.append("0"),a.append(h)}b.appendCheckDigit(a,u)}static appendCheckDigit(a,l){let u=0;for(let d=0;d<13;d++){let h=a.charAt(d+l).charCodeAt(0)-"0".charCodeAt(0);u+=0==(1&d)?3*h:h}u=10-u%10,10===u&&(u=0),a.append(u)}}return b.GTIN_SIZE=40,b})(),m_=(()=>{class b extends wn{constructor(a){super(a)}parseInformation(){let a=new Tt;a.append("(01)");let l=a.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(b.HEADER_SIZE,4);return a.append(u),this.encodeCompressedGtinWithoutAI(a,b.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(a,b.HEADER_SIZE+44)}}return b.HEADER_SIZE=4,b})(),pp=(()=>{class b extends xo{constructor(a){super(a)}parseInformation(){let a=new Tt;return this.getGeneralDecoder().decodeAllCodes(a,b.HEADER_SIZE)}}return b.HEADER_SIZE=5,b})();class na extends wn{constructor(s){super(s)}encodeCompressedWeight(s,a,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(a,l);this.addWeightCode(s,u);let d=this.checkWeight(u),h=1e5;for(let g=0;g<5;++g)d/h==0&&s.append("0"),h/=10;s.append(d)}}let Wa=(()=>{class b extends na{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()!=b.HEADER_SIZE+na.GTIN_SIZE+b.WEIGHT_SIZE)throw new X;let a=new Tt;return this.encodeCompressedGtin(a,b.HEADER_SIZE),this.encodeCompressedWeight(a,b.HEADER_SIZE+na.GTIN_SIZE,b.WEIGHT_SIZE),a.toString()}}return b.HEADER_SIZE=5,b.WEIGHT_SIZE=15,b})();class qa extends Wa{constructor(s){super(s)}addWeightCode(s,a){s.append("(3103)")}checkWeight(s){return s}}class ra extends Wa{constructor(s){super(s)}addWeightCode(s,a){s.append(a<1e4?"(3202)":"(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}let gp=(()=>{class b extends wn{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<b.HEADER_SIZE+wn.GTIN_SIZE)throw new X;let a=new Tt;this.encodeCompressedGtin(a,b.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(b.HEADER_SIZE+wn.GTIN_SIZE,b.LAST_DIGIT_SIZE);a.append("(392"),a.append(l),a.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(b.HEADER_SIZE+wn.GTIN_SIZE+b.LAST_DIGIT_SIZE,null);return a.append(u.getNewString()),a.toString()}}return b.HEADER_SIZE=8,b.LAST_DIGIT_SIZE=2,b})(),gd=(()=>{class b extends wn{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<b.HEADER_SIZE+wn.GTIN_SIZE)throw new X;let a=new Tt;this.encodeCompressedGtin(a,b.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(b.HEADER_SIZE+wn.GTIN_SIZE,b.LAST_DIGIT_SIZE);a.append("(393"),a.append(l),a.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(b.HEADER_SIZE+wn.GTIN_SIZE+b.LAST_DIGIT_SIZE,b.FIRST_THREE_DIGITS_SIZE);u/100==0&&a.append("0"),u/10==0&&a.append("0"),a.append(u);let d=this.getGeneralDecoder().decodeGeneralPurposeField(b.HEADER_SIZE+wn.GTIN_SIZE+b.LAST_DIGIT_SIZE+b.FIRST_THREE_DIGITS_SIZE,null);return a.append(d.getNewString()),a.toString()}}return b.HEADER_SIZE=8,b.LAST_DIGIT_SIZE=2,b.FIRST_THREE_DIGITS_SIZE=10,b})(),to=(()=>{class b extends na{constructor(a,l,u){super(a),this.dateCode=u,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=b.HEADER_SIZE+b.GTIN_SIZE+b.WEIGHT_SIZE+b.DATE_SIZE)throw new X;let a=new Tt;return this.encodeCompressedGtin(a,b.HEADER_SIZE),this.encodeCompressedWeight(a,b.HEADER_SIZE+b.GTIN_SIZE,b.WEIGHT_SIZE),this.encodeCompressedDate(a,b.HEADER_SIZE+b.GTIN_SIZE+b.WEIGHT_SIZE),a.toString()}encodeCompressedDate(a,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(l,b.DATE_SIZE);if(38400==u)return;a.append("("),a.append(this.dateCode),a.append(")");let d=u%32;u/=32;let h=u%12+1;u/=12;let g=u;g/10==0&&a.append("0"),a.append(g),h/10==0&&a.append("0"),a.append(h),d/10==0&&a.append("0"),a.append(d)}addWeightCode(a,l){a.append("("),a.append(this.firstAIdigits),a.append(l/1e5),a.append(")")}checkWeight(a){return a%1e5}}return b.HEADER_SIZE=8,b.WEIGHT_SIZE=20,b.DATE_SIZE=16,b})();function md(b){try{if(b.get(1))return new m_(b);if(!b.get(2))return new pp(b);switch(sn.extractNumericValueFromBitArray(b,1,4)){case 4:return new qa(b);case 5:return new ra(b)}switch(sn.extractNumericValueFromBitArray(b,1,5)){case 12:return new gp(b);case 13:return new gd(b)}switch(sn.extractNumericValueFromBitArray(b,1,7)){case 56:return new to(b,"310","11");case 57:return new to(b,"320","11");case 58:return new to(b,"310","13");case 59:return new to(b,"320","13");case 60:return new to(b,"310","15");case 61:return new to(b,"320","15");case 62:return new to(b,"310","17");case 63:return new to(b,"320","17")}}catch(s){throw console.log(s),new Co("unknown decoder: "+b)}}class Ao{constructor(s,a,l,u){this.leftchar=s,this.rightchar=a,this.finderpattern=l,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return null==this.rightchar}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}static equals(s,a){return s instanceof Ao&&Ao.equalsOrNull(s.leftchar,a.leftchar)&&Ao.equalsOrNull(s.rightchar,a.rightchar)&&Ao.equalsOrNull(s.finderpattern,a.finderpattern)}static equalsOrNull(s,a){return null===s?null===a:Ao.equals(s,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class fc{constructor(s,a,l){this.pairs=s,this.rowNumber=a,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,a){return s instanceof fc&&this.checkEqualitity(s,a)&&s.wasReversed===a.wasReversed}checkEqualitity(s,a){if(!s||!a)return;let l;return s.forEach((u,d)=>{a.forEach(h=>{u.getLeftChar().getValue()===h.getLeftChar().getValue()&&u.getRightChar().getValue()===h.getRightChar().getValue()&&u.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(l=!0)})}),l}}class J extends Eo{constructor(s){super(...arguments),this.pairs=new Array(J.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=!0===s}decodeRow(s,a,l){this.pairs.length=0,this.startFromEven=!1;try{return J.constructResult(this.decodeRow2pairs(s,a))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,J.constructResult(this.decodeRow2pairs(s,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,a){let u,l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,s))}catch(d){if(d instanceof X){if(!this.pairs.length)throw new X;l=!0}}if(this.checkChecksum())return this.pairs;if(u=!!this.rows.length,this.storeRow(s,!1),u){let d=this.checkRowsBoolean(!1);if(null!=d||(d=this.checkRowsBoolean(!0),null!=d))return d}throw new X}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return s&&(this.rows=this.rows.reverse()),a}checkRows(s,a){for(let l=a;l<this.rows.length;l++){let u=this.rows[l];this.pairs.length=0;for(let h of s)this.pairs.push(h.getPairs());if(this.pairs.push(u.getPairs()),!J.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(s);d.push(u);try{return this.checkRows(d,l+1)}catch(h){this.verbose&&console.log(h)}}throw new X}static isValidSequence(s){for(let a of J.FINDER_PATTERN_SEQUENCES){if(s.length>a.length)continue;let l=!0;for(let u=0;u<s.length;u++)if(s[u].getFinderPattern().getValue()!=a[u]){l=!1;break}if(l)return!0}return!1}storeRow(s,a){let l=0,u=!1,d=!1;for(;l<this.rows.length;){let h=this.rows[l];if(h.getRowNumber()>s){d=h.isEquivalent(this.pairs);break}u=h.isEquivalent(this.pairs),l++}d||u||J.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new fc(this.pairs,s,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,a){for(let l of a)if(l.getPairs().length!==s.length)for(let u of l.getPairs())for(let d of s)if(Ao.equals(u,d))break}static isPartialRow(s,a){for(let l of a){let u=!0;for(let d of s){let h=!1;for(let g of l.getPairs())if(d.equals(g)){h=!0;break}if(!h){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(s){let u=md(class hp{static buildBitArray(s){let a=2*s.length-1;null==s[s.length-1].getRightChar()&&(a-=1);let u=new $t(12*a),d=0,g=s[0].getRightChar().getValue();for(let _=11;_>=0;--_)0!=(g&1<<_)&&u.set(d),d++;for(let _=1;_<s.length;++_){let v=s[_],C=v.getLeftChar().getValue();for(let x=11;x>=0;--x)0!=(C&1<<x)&&u.set(d),d++;if(null!=v.getRightChar()){let x=v.getRightChar().getValue();for(let T=11;T>=0;--T)0!=(x&1<<T)&&u.set(d),d++}}return u}}.buildBitArray(s)).parseInformation(),d=s[0].getFinderPattern().getResultPoints(),h=s[s.length-1].getFinderPattern().getResultPoints();return new je(u,null,null,[d[0],d[1],h[0],h[1]],Me.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),a=s.getLeftChar(),l=s.getRightChar();if(null==l)return!1;let u=l.getChecksumPortion(),d=2;for(let g=1;g<this.pairs.size();++g){let _=this.pairs.get(g);u+=_.getLeftChar().getChecksumPortion(),d++;let v=_.getRightChar();null!=v&&(u+=v.getChecksumPortion(),d++)}return u%=211,211*(d-4)+u==a.getValue()}static getNextSecondBar(s,a){let l;return s.get(a)?(l=s.getNextUnset(a),l=s.getNextSet(l)):(l=s.getNextSet(a),l=s.getNextUnset(l)),l}retrieveNextPair(s,a,l){let u=a.length%2==0;this.startFromEven&&(u=!u);let d,h=!0,g=-1;do{this.findNextPair(s,a,g),d=this.parseFoundFinderPattern(s,l,u),null==d?g=J.getNextSecondBar(s,this.startEnd[0]):h=!1}while(h);let v,_=this.decodeDataCharacter(s,d,u,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new X;try{v=this.decodeDataCharacter(s,d,u,!1)}catch(C){v=null,this.verbose&&console.log(C)}return new Ao(_,v,d,!0)}isEmptyPair(s){return 0===s.length}findNextPair(s,a,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h,d=s.getSize();h=l>=0?l:this.isEmptyPair(a)?0:a[a.length-1].getFinderPattern().getStartEnd()[1];let g=a.length%2!=0;this.startFromEven&&(g=!g);let _=!1;for(;h<d&&(_=!s.get(h),_);)h++;let v=0,C=h;for(let x=h;x<d;x++)if(s.get(x)!=_)u[v]++;else{if(3==v){if(g&&J.reverseCounters(u),J.isFinderPattern(u))return this.startEnd[0]=C,void(this.startEnd[1]=x);g&&J.reverseCounters(u),C+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,v--}else v++;u[v]=1,_=!_}throw new X}static reverseCounters(s){let a=s.length;for(let l=0;l<a/2;++l){let u=s[l];s[l]=s[a-l-1],s[a-l-1]=u}}parseFoundFinderPattern(s,a,l){let u,d,h;if(l){let v=this.startEnd[0]-1;for(;v>=0&&!s.get(v);)v--;v++,u=this.startEnd[0]-v,d=v,h=this.startEnd[1]}else d=this.startEnd[0],h=s.getNextUnset(this.startEnd[1]+1),u=h-this.startEnd[1];let _,g=this.getDecodeFinderCounters();zt.arraycopy(g,0,g,1,g.length-1),g[0]=u;try{_=this.parseFinderValue(g,J.FINDER_PATTERNS)}catch{return null}return new za(_,[d,h],d,h,a)}decodeDataCharacter(s,a,l,u){let d=this.getDataCharacterCounters();for(let Kt=0;Kt<d.length;Kt++)d[Kt]=0;if(u)J.recordPatternInReverse(s,a.getStartEnd()[0],d);else{J.recordPattern(s,a.getStartEnd()[1],d);for(let Kt=0,Cr=d.length-1;Kt<Cr;Kt++,Cr--){let fi=d[Kt];d[Kt]=d[Cr],d[Cr]=fi}}let g=vt.sum(new Int32Array(d))/17,_=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(g-_)/_>.3)throw new X;let v=this.getOddCounts(),C=this.getEvenCounts(),x=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let Kt=0;Kt<d.length;Kt++){let Cr=1*d[Kt]/g,fi=Cr+.5;if(fi<1){if(Cr<.3)throw new X;fi=1}else if(fi>8){if(Cr>8.7)throw new X;fi=8}let sa=Kt/2;0==(1&Kt)?(v[sa]=fi,x[sa]=Cr-fi):(C[sa]=fi,T[sa]=Cr-fi)}this.adjustOddEvenCounts(17);let R=4*a.getValue()+(l?0:2)+(u?0:1)-1,k=0,L=0;for(let Kt=v.length-1;Kt>=0;Kt--)J.isNotA1left(a,l,u)&&(L+=v[Kt]*J.WEIGHTS[R][2*Kt]),k+=v[Kt];let H=0;for(let Kt=C.length-1;Kt>=0;Kt--)J.isNotA1left(a,l,u)&&(H+=C[Kt]*J.WEIGHTS[R][2*Kt+1]);let W=L+H;if(0!=(1&k)||k>13||k<4)throw new X;let re=(13-k)/2,pe=J.SYMBOL_WIDEST[re],Q=9-pe,lt=Oi.getRSSvalue(v,pe,!0),tt=Oi.getRSSvalue(C,Q,!1);return new gn(lt*J.EVEN_TOTAL_SUBSET[re]+tt+J.GSUM[re],W)}static isNotA1left(s,a,l){return!(0==s.getValue()&&a&&l)}adjustOddEvenCounts(s){let a=vt.sum(new Int32Array(this.getOddCounts())),l=vt.sum(new Int32Array(this.getEvenCounts())),u=!1,d=!1;a>13?d=!0:a<4&&(u=!0);let h=!1,g=!1;l>13?g=!0:l<4&&(h=!0);let _=a+l-s,v=1==(1&a),C=0==(1&l);if(1==_)if(v){if(C)throw new X;d=!0}else{if(!C)throw new X;g=!0}else if(-1==_)if(v){if(C)throw new X;u=!0}else{if(!C)throw new X;h=!0}else{if(0!=_)throw new X;if(v){if(!C)throw new X;a<l?(u=!0,g=!0):(d=!0,h=!0)}else if(C)throw new X}if(u){if(d)throw new X;J.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&J.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(g)throw new X;J.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&J.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}J.SYMBOL_WIDEST=[7,5,4,3,1],J.EVEN_TOTAL_SUBSET=[4,20,52,104,204],J.GSUM=[0,348,1388,2948,3988],J.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],J.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],J.FINDER_PAT_A=0,J.FINDER_PAT_B=1,J.FINDER_PAT_C=2,J.FINDER_PAT_D=3,J.FINDER_PAT_E=4,J.FINDER_PAT_F=5,J.FINDER_PATTERN_SEQUENCES=[[J.FINDER_PAT_A,J.FINDER_PAT_A],[J.FINDER_PAT_A,J.FINDER_PAT_B,J.FINDER_PAT_B],[J.FINDER_PAT_A,J.FINDER_PAT_C,J.FINDER_PAT_B,J.FINDER_PAT_D],[J.FINDER_PAT_A,J.FINDER_PAT_E,J.FINDER_PAT_B,J.FINDER_PAT_D,J.FINDER_PAT_C],[J.FINDER_PAT_A,J.FINDER_PAT_E,J.FINDER_PAT_B,J.FINDER_PAT_D,J.FINDER_PAT_D,J.FINDER_PAT_F],[J.FINDER_PAT_A,J.FINDER_PAT_E,J.FINDER_PAT_B,J.FINDER_PAT_D,J.FINDER_PAT_E,J.FINDER_PAT_F,J.FINDER_PAT_F],[J.FINDER_PAT_A,J.FINDER_PAT_A,J.FINDER_PAT_B,J.FINDER_PAT_B,J.FINDER_PAT_C,J.FINDER_PAT_C,J.FINDER_PAT_D,J.FINDER_PAT_D],[J.FINDER_PAT_A,J.FINDER_PAT_A,J.FINDER_PAT_B,J.FINDER_PAT_B,J.FINDER_PAT_C,J.FINDER_PAT_C,J.FINDER_PAT_D,J.FINDER_PAT_E,J.FINDER_PAT_E],[J.FINDER_PAT_A,J.FINDER_PAT_A,J.FINDER_PAT_B,J.FINDER_PAT_B,J.FINDER_PAT_C,J.FINDER_PAT_C,J.FINDER_PAT_D,J.FINDER_PAT_E,J.FINDER_PAT_F,J.FINDER_PAT_F],[J.FINDER_PAT_A,J.FINDER_PAT_A,J.FINDER_PAT_B,J.FINDER_PAT_B,J.FINDER_PAT_C,J.FINDER_PAT_D,J.FINDER_PAT_D,J.FINDER_PAT_E,J.FINDER_PAT_E,J.FINDER_PAT_F,J.FINDER_PAT_F]],J.MAX_PAIRS=11;class _d extends gn{constructor(s,a,l){super(s,a),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class mn extends Eo{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,a,l){const u=this.decodePair(a,!1,s,l);mn.addOrTally(this.possibleLeftPairs,u),a.reverse();let d=this.decodePair(a,!0,s,l);mn.addOrTally(this.possibleRightPairs,d),a.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1)for(let g of this.possibleRightPairs)if(g.getCount()>1&&mn.checkChecksum(h,g))return mn.constructResult(h,g);throw new X}static addOrTally(s,a){if(null==a)return;let l=!1;for(let u of s)if(u.getValue()===a.getValue()){u.incrementCount(),l=!0;break}l||s.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,a){let l=4537077*s.getValue()+a.getValue(),u=new String(l).toString(),d=new Tt;for(let v=13-u.length;v>0;v--)d.append("0");d.append(u);let h=0;for(let v=0;v<13;v++){let C=d.charAt(v).charCodeAt(0)-"0".charCodeAt(0);h+=0==(1&v)?3*C:C}h=10-h%10,10===h&&(h=0),d.append(h.toString());let g=s.getFinderPattern().getResultPoints(),_=a.getFinderPattern().getResultPoints();return new je(d.toString(),null,0,[g[0],g[1],_[0],_[1]],Me.RSS_14,(new Date).getTime())}static checkChecksum(s,a){let l=(s.getChecksumPortion()+16*a.getChecksumPortion())%79,u=9*s.getFinderPattern().getValue()+a.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,l===u}decodePair(s,a,l,u){try{let d=this.findFinderPattern(s,a),h=this.parseFoundFinderPattern(s,l,a,d),g=null==u?null:u.get(Yt.NEED_RESULT_POINT_CALLBACK);if(null!=g){let C=(d[0]+d[1])/2;a&&(C=s.getSize()-1-C),g.foundPossibleResultPoint(new De(C,l))}let _=this.decodeDataCharacter(s,h,!0),v=this.decodeDataCharacter(s,h,!1);return new _d(1597*_.getValue()+v.getValue(),_.getChecksumPortion()+4*v.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(s,a,l){let u=this.getDataCharacterCounters();for(let H=0;H<u.length;H++)u[H]=0;if(l)Vn.recordPatternInReverse(s,a.getStartEnd()[0],u);else{Vn.recordPattern(s,a.getStartEnd()[1]+1,u);for(let H=0,W=u.length-1;H<W;H++,W--){let re=u[H];u[H]=u[W],u[W]=re}}let d=l?16:15,h=vt.sum(new Int32Array(u))/d,g=this.getOddCounts(),_=this.getEvenCounts(),v=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let H=0;H<u.length;H++){let W=u[H]/h,re=Math.floor(W+.5);re<1?re=1:re>8&&(re=8);let pe=Math.floor(H/2);0==(1&H)?(g[pe]=re,v[pe]=W-re):(_[pe]=re,C[pe]=W-re)}this.adjustOddEvenCounts(l,d);let x=0,T=0;for(let H=g.length-1;H>=0;H--)T*=9,T+=g[H],x+=g[H];let R=0,k=0;for(let H=_.length-1;H>=0;H--)R*=9,R+=_[H],k+=_[H];let L=T+3*R;if(l){if(0!=(1&x)||x>12||x<4)throw new X;let H=(12-x)/2,W=mn.OUTSIDE_ODD_WIDEST[H],re=9-W,pe=Oi.getRSSvalue(g,W,!1),Q=Oi.getRSSvalue(_,re,!0);return new gn(pe*mn.OUTSIDE_EVEN_TOTAL_SUBSET[H]+Q+mn.OUTSIDE_GSUM[H],L)}{if(0!=(1&k)||k>10||k<4)throw new X;let H=(10-k)/2,W=mn.INSIDE_ODD_WIDEST[H],re=9-W,pe=Oi.getRSSvalue(g,W,!0),Q=Oi.getRSSvalue(_,re,!1);return new gn(Q*mn.INSIDE_ODD_TOTAL_SUBSET[H]+pe+mn.INSIDE_GSUM[H],L)}}findFinderPattern(s,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=s.getSize(),d=!1,h=0;for(;h<u&&(d=!s.get(h),a!==d);)h++;let g=0,_=h;for(let v=h;v<u;v++)if(s.get(v)!==d)l[g]++;else{if(3===g){if(Eo.isFinderPattern(l))return[_,v];_+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,g--}else g++;l[g]=1,d=!d}throw new X}parseFoundFinderPattern(s,a,l,u){let d=s.get(u[0]),h=u[0]-1;for(;h>=0&&d!==s.get(h);)h--;h++;const g=u[0]-h,_=this.getDecodeFinderCounters(),v=new Int32Array(_.length);zt.arraycopy(_,0,v,1,_.length-1),v[0]=g;const C=this.parseFinderValue(v,mn.FINDER_PATTERNS);let x=h,T=u[1];return l&&(x=s.getSize()-1-x,T=s.getSize()-1-T),new za(C,[h,u[1]],x,T,a)}adjustOddEvenCounts(s,a){let l=vt.sum(new Int32Array(this.getOddCounts())),u=vt.sum(new Int32Array(this.getEvenCounts())),d=!1,h=!1,g=!1,_=!1;s?(l>12?h=!0:l<4&&(d=!0),u>12?_=!0:u<4&&(g=!0)):(l>11?h=!0:l<5&&(d=!0),u>10?_=!0:u<4&&(g=!0));let v=l+u-a,C=(1&l)==(s?1:0),x=1==(1&u);if(1===v)if(C){if(x)throw new X;h=!0}else{if(!x)throw new X;_=!0}else if(-1===v)if(C){if(x)throw new X;d=!0}else{if(!x)throw new X;g=!0}else{if(0!==v)throw new X;if(C){if(!x)throw new X;l<u?(d=!0,_=!0):(h=!0,g=!0)}else if(x)throw new X}if(d){if(h)throw new X;Eo.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Eo.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(_)throw new X;Eo.increment(this.getEvenCounts(),this.getOddRoundingErrors())}_&&Eo.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}mn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],mn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],mn.OUTSIDE_GSUM=[0,161,961,2015,2715],mn.INSIDE_GSUM=[0,336,1036,1516],mn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],mn.INSIDE_ODD_WIDEST=[2,4,6,8],mn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class bs extends Vn{constructor(s,a){super(),this.readers=[],this.verbose=!0===a;const l=s?s.get(Yt.POSSIBLE_FORMATS):null,u=s&&void 0!==s.get(Yt.ASSUME_CODE_39_CHECK_DIGIT);l?((l.includes(Me.EAN_13)||l.includes(Me.UPC_A)||l.includes(Me.EAN_8)||l.includes(Me.UPC_E))&&this.readers.push(new Ga(s)),l.includes(Me.CODE_39)&&this.readers.push(new hd(u)),l.includes(Me.CODE_128)&&this.readers.push(new ce),l.includes(Me.ITF)&&this.readers.push(new Xt),l.includes(Me.RSS_14)&&this.readers.push(new mn),l.includes(Me.RSS_EXPANDED)&&this.readers.push(new J(this.verbose))):(this.readers.push(new Ga(s)),this.readers.push(new hd),this.readers.push(new Ga(s)),this.readers.push(new ce),this.readers.push(new Xt),this.readers.push(new mn),this.readers.push(new J(this.verbose)))}decodeRow(s,a,l){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(s,a,l)}catch{}throw new X}reset(){this.readers.forEach(s=>s.reset())}}class Dt{constructor(s,a,l){this.ecCodewords=s,this.ecBlocks=[a],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Et{constructor(s,a){this.count=s,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class at{constructor(s,a,l,u,d,h){this.versionNumber=s,this.symbolSizeRows=a,this.symbolSizeColumns=l,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=d,this.ecBlocks=h;let g=0;const _=h.getECCodewords(),v=h.getECBlocks();for(let C of v)g+=C.getCount()*(C.getDataCodewords()+_);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,a){if(0!=(1&s)||0!=(1&a))throw new ue;for(let l of at.VERSIONS)if(l.symbolSizeRows===s&&l.symbolSizeColumns===a)return l;throw new ue}toString(){return""+this.versionNumber}static buildVersions(){return[new at(1,10,10,8,8,new Dt(5,new Et(1,3))),new at(2,12,12,10,10,new Dt(7,new Et(1,5))),new at(3,14,14,12,12,new Dt(10,new Et(1,8))),new at(4,16,16,14,14,new Dt(12,new Et(1,12))),new at(5,18,18,16,16,new Dt(14,new Et(1,18))),new at(6,20,20,18,18,new Dt(18,new Et(1,22))),new at(7,22,22,20,20,new Dt(20,new Et(1,30))),new at(8,24,24,22,22,new Dt(24,new Et(1,36))),new at(9,26,26,24,24,new Dt(28,new Et(1,44))),new at(10,32,32,14,14,new Dt(36,new Et(1,62))),new at(11,36,36,16,16,new Dt(42,new Et(1,86))),new at(12,40,40,18,18,new Dt(48,new Et(1,114))),new at(13,44,44,20,20,new Dt(56,new Et(1,144))),new at(14,48,48,22,22,new Dt(68,new Et(1,174))),new at(15,52,52,24,24,new Dt(42,new Et(2,102))),new at(16,64,64,14,14,new Dt(56,new Et(2,140))),new at(17,72,72,16,16,new Dt(36,new Et(4,92))),new at(18,80,80,18,18,new Dt(48,new Et(4,114))),new at(19,88,88,20,20,new Dt(56,new Et(4,144))),new at(20,96,96,22,22,new Dt(68,new Et(4,174))),new at(21,104,104,24,24,new Dt(56,new Et(6,136))),new at(22,120,120,18,18,new Dt(68,new Et(6,175))),new at(23,132,132,20,20,new Dt(62,new Et(8,163))),new at(24,144,144,22,22,new Dt(62,new Et(8,156),new Et(2,155))),new at(25,8,18,6,16,new Dt(7,new Et(1,5))),new at(26,8,32,6,14,new Dt(11,new Et(1,10))),new at(27,12,26,10,24,new Dt(14,new Et(1,16))),new at(28,12,36,10,16,new Dt(18,new Et(1,22))),new at(29,16,36,14,16,new Dt(24,new Et(1,32))),new at(30,16,48,14,22,new Dt(28,new Et(1,49)))]}}at.VERSIONS=at.buildVersions();class Pt{constructor(s){const a=s.getHeight();if(a<8||a>144||0!=(1&a))throw new ue;this.version=Pt.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new Yn(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const a=s.getHeight(),l=s.getWidth();return at.getVersionForDimensions(a,l)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let a=0,l=4,u=0;const d=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let g=!1,_=!1,v=!1,C=!1;do{if(l!==d||0!==u||g)if(l!==d-2||0!==u||0==(3&h)||_)if(l!==d+4||2!==u||0!=(7&h)||v)if(l!==d-2||0!==u||4!=(7&h)||C){do{l<d&&u>=0&&!this.readMappingMatrix.get(u,l)&&(s[a++]=255&this.readUtah(l,u,d,h)),l-=2,u+=2}while(l>=0&&u<h);l+=1,u+=3;do{l>=0&&u<h&&!this.readMappingMatrix.get(u,l)&&(s[a++]=255&this.readUtah(l,u,d,h)),l+=2,u-=2}while(l<d&&u>=0);l+=3,u+=1}else s[a++]=255&this.readCorner4(d,h),l-=2,u+=2,C=!0;else s[a++]=255&this.readCorner3(d,h),l-=2,u+=2,v=!0;else s[a++]=255&this.readCorner2(d,h),l-=2,u+=2,_=!0;else s[a++]=255&this.readCorner1(d,h),l-=2,u+=2,g=!0}while(l<d||u<h);if(a!==this.version.getTotalCodewords())throw new ue;return s}readModule(s,a,l,u){return s<0&&(s+=l,a+=4-(l+4&7)),a<0&&(a+=u,s+=4-(u+4&7)),this.readMappingMatrix.set(a,s),this.mappingBitMatrix.get(a,s)}readUtah(s,a,l,u){let d=0;return this.readModule(s-2,a-2,l,u)&&(d|=1),d<<=1,this.readModule(s-2,a-1,l,u)&&(d|=1),d<<=1,this.readModule(s-1,a-2,l,u)&&(d|=1),d<<=1,this.readModule(s-1,a-1,l,u)&&(d|=1),d<<=1,this.readModule(s-1,a,l,u)&&(d|=1),d<<=1,this.readModule(s,a-2,l,u)&&(d|=1),d<<=1,this.readModule(s,a-1,l,u)&&(d|=1),d<<=1,this.readModule(s,a,l,u)&&(d|=1),d}readCorner1(s,a){let l=0;return this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,1,s,a)&&(l|=1),l<<=1,this.readModule(s-1,2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l<<=1,this.readModule(2,a-1,s,a)&&(l|=1),l<<=1,this.readModule(3,a-1,s,a)&&(l|=1),l}readCorner2(s,a){let l=0;return this.readModule(s-3,0,s,a)&&(l|=1),l<<=1,this.readModule(s-2,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(0,a-4,s,a)&&(l|=1),l<<=1,this.readModule(0,a-3,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l}readCorner3(s,a){let l=0;return this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,a-1,s,a)&&(l|=1),l<<=1,this.readModule(0,a-3,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-3,s,a)&&(l|=1),l<<=1,this.readModule(1,a-2,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l}readCorner4(s,a){let l=0;return this.readModule(s-3,0,s,a)&&(l|=1),l<<=1,this.readModule(s-2,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l<<=1,this.readModule(2,a-1,s,a)&&(l|=1),l<<=1,this.readModule(3,a-1,s,a)&&(l|=1),l}extractDataRegion(s){const a=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(s.getHeight()!==a)throw new be("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),h=a/u|0,g=l/d|0,C=new Yn(g*d,h*u);for(let x=0;x<h;++x){const T=x*u;for(let R=0;R<g;++R){const k=R*d;for(let L=0;L<u;++L){const H=x*(u+2)+1+L,W=T+L;for(let re=0;re<d;++re)s.get(R*(d+2)+1+re,H)&&C.set(k+re,W)}}}return C}}class ia{constructor(s,a){this.numDataCodewords=s,this.codewords=a}static getDataBlocks(s,a){const l=a.getECBlocks();let u=0;const d=l.getECBlocks();for(let L of d)u+=L.getCount();const h=new Array(u);let g=0;for(let L of d)for(let H=0;H<L.getCount();H++){const W=L.getDataCodewords(),re=l.getECCodewords()+W;h[g++]=new ia(W,new Uint8Array(re))}const v=h[0].codewords.length-l.getECCodewords(),C=v-1;let x=0;for(let L=0;L<C;L++)for(let H=0;H<g;H++)h[H].codewords[L]=s[x++];const T=24===a.getVersionNumber(),R=T?8:g;for(let L=0;L<R;L++)h[L].codewords[v-1]=s[x++];const k=h[0].codewords.length;for(let L=v;L<k;L++)for(let H=0;H<g;H++){const W=T?(H+8)%g:H;h[W].codewords[T&&W>7?L-1:L]=s[x++]}if(x!==s.length)throw new be;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Lt{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new be(""+s);let a=0,l=this.bitOffset,u=this.byteOffset;const d=this.bytes;if(l>0){const h=8-l,g=s<h?s:h,_=h-g;a=(d[u]&255>>8-g<<_)>>_,s-=g,l+=g,8===l&&(l=0,u++)}if(s>0){for(;s>=8;)a=a<<8|255&d[u],u++,s-=8;if(s>0){const h=8-s;a=a<<s|(d[u]&255>>h<<h)>>h,l+=s}}return this.bitOffset=l,this.byteOffset=u,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var _n=(()=>{return(b=_n||(_n={}))[b.PAD_ENCODE=0]="PAD_ENCODE",b[b.ASCII_ENCODE=1]="ASCII_ENCODE",b[b.C40_ENCODE=2]="C40_ENCODE",b[b.TEXT_ENCODE=3]="TEXT_ENCODE",b[b.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",b[b.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",b[b.BASE256_ENCODE=6]="BASE256_ENCODE",_n;var b})();class So{static decode(s){const a=new Lt(s),l=new Tt,u=new Tt,d=new Array;let h=_n.ASCII_ENCODE;do{if(h===_n.ASCII_ENCODE)h=this.decodeAsciiSegment(a,l,u);else{switch(h){case _n.C40_ENCODE:this.decodeC40Segment(a,l);break;case _n.TEXT_ENCODE:this.decodeTextSegment(a,l);break;case _n.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,l);break;case _n.EDIFACT_ENCODE:this.decodeEdifactSegment(a,l);break;case _n.BASE256_ENCODE:this.decodeBase256Segment(a,l,d);break;default:throw new ue}h=_n.ASCII_ENCODE}}while(h!==_n.PAD_ENCODE&&a.available()>0);return u.length()>0&&l.append(u.toString()),new Ks(s,l.toString(),0===d.length?null:d,null)}static decodeAsciiSegment(s,a,l){let u=!1;do{let d=s.readBits(8);if(0===d)throw new ue;if(d<=128)return u&&(d+=128),a.append(String.fromCharCode(d-1)),_n.ASCII_ENCODE;if(129===d)return _n.PAD_ENCODE;if(d<=229){const h=d-130;h<10&&a.append("0"),a.append(""+h)}else switch(d){case 230:return _n.C40_ENCODE;case 231:return _n.BASE256_ENCODE;case 232:a.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:u=!0;break;case 236:a.append("[)>\x1e05\x1d"),l.insert(0,"\x1e\x04");break;case 237:a.append("[)>\x1e06\x1d"),l.insert(0,"\x1e\x04");break;case 238:return _n.ANSIX12_ENCODE;case 239:return _n.TEXT_ENCODE;case 240:return _n.EDIFACT_ENCODE;default:if(254!==d||0!==s.available())throw new ue}}while(s.available()>0);return _n.ASCII_ENCODE}static decodeC40Segment(s,a){let l=!1;const u=[];let d=0;do{if(8===s.available())return;const h=s.readBits(8);if(254===h)return;this.parseTwoBytes(h,s.readBits(8),u);for(let g=0;g<3;g++){const _=u[g];switch(d){case 0:if(_<3)d=_+1;else{if(!(_<this.C40_BASIC_SET_CHARS.length))throw new ue;{const v=this.C40_BASIC_SET_CHARS[_];l?(a.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):a.append(v)}}break;case 1:l?(a.append(String.fromCharCode(_+128)),l=!1):a.append(String.fromCharCode(_)),d=0;break;case 2:if(_<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[_];l?(a.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):a.append(v)}else switch(_){case 27:a.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new ue}d=0;break;case 3:l?(a.append(String.fromCharCode(_+224)),l=!1):a.append(String.fromCharCode(_+96)),d=0;break;default:throw new ue}}}while(s.available()>0)}static decodeTextSegment(s,a){let l=!1,u=[],d=0;do{if(8===s.available())return;const h=s.readBits(8);if(254===h)return;this.parseTwoBytes(h,s.readBits(8),u);for(let g=0;g<3;g++){const _=u[g];switch(d){case 0:if(_<3)d=_+1;else{if(!(_<this.TEXT_BASIC_SET_CHARS.length))throw new ue;{const v=this.TEXT_BASIC_SET_CHARS[_];l?(a.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):a.append(v)}}break;case 1:l?(a.append(String.fromCharCode(_+128)),l=!1):a.append(String.fromCharCode(_)),d=0;break;case 2:if(_<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[_];l?(a.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):a.append(v)}else switch(_){case 27:a.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new ue}d=0;break;case 3:if(!(_<this.TEXT_SHIFT3_SET_CHARS.length))throw new ue;{const v=this.TEXT_SHIFT3_SET_CHARS[_];l?(a.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):a.append(v),d=0}break;default:throw new ue}}}while(s.available()>0)}static decodeAnsiX12Segment(s,a){const l=[];do{if(8===s.available())return;const u=s.readBits(8);if(254===u)return;this.parseTwoBytes(u,s.readBits(8),l);for(let d=0;d<3;d++){const h=l[d];switch(h){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(h<14)a.append(String.fromCharCode(h+44));else{if(!(h<40))throw new ue;a.append(String.fromCharCode(h+51))}}}}while(s.available()>0)}static parseTwoBytes(s,a,l){let u=(s<<8)+a-1,d=Math.floor(u/1600);l[0]=d,u-=1600*d,d=Math.floor(u/40),l[1]=d,l[2]=u-40*d}static decodeEdifactSegment(s,a){do{if(s.available()<=16)return;for(let l=0;l<4;l++){let u=s.readBits(6);if(31===u){const d=8-s.getBitOffset();return void(8!==d&&s.readBits(d))}0==(32&u)&&(u|=64),a.append(String.fromCharCode(u))}}while(s.available()>0)}static decodeBase256Segment(s,a,l){let u=1+s.getByteOffset();const d=this.unrandomize255State(s.readBits(8),u++);let h;if(h=0===d?s.available()/8|0:d<250?d:250*(d-249)+this.unrandomize255State(s.readBits(8),u++),h<0)throw new ue;const g=new Uint8Array(h);for(let _=0;_<h;_++){if(s.available()<8)throw new ue;g[_]=this.unrandomize255State(s.readBits(8),u++)}l.push(g);try{a.append(rr.decode(g,ze.ISO88591))}catch(_){throw new Co("Platform does not support required encoding: "+_.message)}}static unrandomize255State(s,a){const u=s-(149*a%255+1);return u>=0?u:u+256}}So.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],So.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],So.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],So.TEXT_SHIFT2_SET_CHARS=So.C40_SHIFT2_SET_CHARS,So.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class dt{constructor(){this.rsDecoder=new Ha(_t.DATA_MATRIX_FIELD_256)}decode(s){const a=new Pt(s),l=a.getVersion(),u=a.readCodewords(),d=ia.getDataBlocks(u,l);let h=0;for(let v of d)h+=v.getNumDataCodewords();const g=new Uint8Array(h),_=d.length;for(let v=0;v<_;v++){const C=d[v],x=C.getCodewords(),T=C.getNumDataCodewords();this.correctErrors(x,T);for(let R=0;R<T;R++)g[R*_+v]=x[R]}return So.decode(g)}correctErrors(s,a){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-a)}catch{throw new Un}for(let u=0;u<a;u++)s[u]=l[u]}}class ve{constructor(s){this.image=s,this.rectangleDetector=new lc(this.image)}detect(){const s=this.rectangleDetector.detect();let a=this.detectSolid1(s);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new X;a=this.shiftToModuleCenter(a);const l=a[0],u=a[1],d=a[2],h=a[3];let g=this.transitionsBetween(l,h)+1,_=this.transitionsBetween(d,h)+1;1==(1&g)&&(g+=1),1==(1&_)&&(_+=1),4*g<7*_&&4*_<7*g&&(g=_=Math.max(g,_));let v=ve.sampleGrid(this.image,l,u,d,h,g,_);return new ea(v,[l,u,d,h])}static shiftPoint(s,a,l){let u=(a.getX()-s.getX())/(l+1),d=(a.getY()-s.getY())/(l+1);return new De(s.getX()+u,s.getY()+d)}static moveAway(s,a,l){let u=s.getX(),d=s.getY();return u<a?u-=1:u+=1,d<l?d-=1:d+=1,new De(u,d)}detectSolid1(s){let a=s[0],l=s[1],u=s[3],d=s[2],h=this.transitionsBetween(a,l),g=this.transitionsBetween(l,u),_=this.transitionsBetween(u,d),v=this.transitionsBetween(d,a),C=h,x=[d,a,l,u];return C>g&&(C=g,x[0]=a,x[1]=l,x[2]=u,x[3]=d),C>_&&(C=_,x[0]=l,x[1]=u,x[2]=d,x[3]=a),C>v&&(x[0]=u,x[1]=d,x[2]=a,x[3]=l),x}detectSolid2(s){let a=s[0],l=s[1],u=s[2],d=s[3],h=this.transitionsBetween(a,d),g=ve.shiftPoint(l,u,4*(h+1)),_=ve.shiftPoint(u,l,4*(h+1));return this.transitionsBetween(g,a)<this.transitionsBetween(_,d)?(s[0]=a,s[1]=l,s[2]=u,s[3]=d):(s[0]=l,s[1]=u,s[2]=d,s[3]=a),s}correctTopRight(s){let a=s[0],l=s[1],u=s[2],d=s[3],h=this.transitionsBetween(a,d),g=this.transitionsBetween(l,d),_=ve.shiftPoint(a,l,4*(g+1)),v=ve.shiftPoint(u,l,4*(h+1));h=this.transitionsBetween(_,d),g=this.transitionsBetween(v,d);let C=new De(d.getX()+(u.getX()-l.getX())/(h+1),d.getY()+(u.getY()-l.getY())/(h+1)),x=new De(d.getX()+(a.getX()-l.getX())/(g+1),d.getY()+(a.getY()-l.getY())/(g+1));return this.isValid(C)?this.isValid(x)?this.transitionsBetween(_,C)+this.transitionsBetween(v,C)>this.transitionsBetween(_,x)+this.transitionsBetween(v,x)?C:x:C:this.isValid(x)?x:null}shiftToModuleCenter(s){let a=s[0],l=s[1],u=s[2],d=s[3],h=this.transitionsBetween(a,d)+1,g=this.transitionsBetween(u,d)+1,_=ve.shiftPoint(a,l,4*g),v=ve.shiftPoint(u,l,4*h);h=this.transitionsBetween(_,d)+1,g=this.transitionsBetween(v,d)+1,1==(1&h)&&(h+=1),1==(1&g)&&(g+=1);let T,R,C=(a.getX()+l.getX()+u.getX()+d.getX())/4,x=(a.getY()+l.getY()+u.getY()+d.getY())/4;return a=ve.moveAway(a,C,x),l=ve.moveAway(l,C,x),u=ve.moveAway(u,C,x),d=ve.moveAway(d,C,x),_=ve.shiftPoint(a,l,4*g),_=ve.shiftPoint(_,d,4*h),T=ve.shiftPoint(l,a,4*g),T=ve.shiftPoint(T,u,4*h),v=ve.shiftPoint(u,d,4*g),v=ve.shiftPoint(v,l,4*h),R=ve.shiftPoint(d,u,4*g),R=ve.shiftPoint(R,a,4*h),[_,T,v,R]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,a,l,u,d,h,g){return Do.getInstance().sampleGrid(s,h,g,.5,.5,h-.5,.5,h-.5,g-.5,.5,g-.5,a.getX(),a.getY(),d.getX(),d.getY(),u.getX(),u.getY(),l.getX(),l.getY())}transitionsBetween(s,a){let l=Math.trunc(s.getX()),u=Math.trunc(s.getY()),d=Math.trunc(a.getX()),h=Math.trunc(a.getY()),g=Math.abs(h-u)>Math.abs(d-l);if(g){let L=l;l=u,u=L,L=d,d=h,h=L}let _=Math.abs(d-l),v=Math.abs(h-u),C=-_/2,x=u<h?1:-1,T=l<d?1:-1,R=0,k=this.image.get(g?u:l,g?l:u);for(let L=l,H=u;L!==d;L+=T){let W=this.image.get(g?H:L,g?L:H);if(W!==k&&(R++,k=W),C+=v,C>0){if(H===h)break;H+=x,C-=_}}return R}}let Cs=(()=>{class b{constructor(){this.decoder=new dt}decode(a,l=null){let u,d;if(null!=l&&l.has(Yt.PURE_BARCODE)){const C=b.extractPureBits(a.getBlackMatrix());u=this.decoder.decode(C),d=b.NO_POINTS}else{const C=new ve(a.getBlackMatrix()).detect();u=this.decoder.decode(C.getBits()),d=C.getPoints()}const h=u.getRawBytes(),g=new je(u.getText(),h,8*h.length,d,Me.DATA_MATRIX,zt.currentTimeMillis()),_=u.getByteSegments();null!=_&&g.putMetadata(Ye.BYTE_SEGMENTS,_);const v=u.getECLevel();return null!=v&&g.putMetadata(Ye.ERROR_CORRECTION_LEVEL,v),g}reset(){}static extractPureBits(a){const l=a.getTopLeftOnBit(),u=a.getBottomRightOnBit();if(null==l||null==u)throw new X;const d=this.moduleSize(l,a);let h=l[1],_=l[0];const C=(u[0]-_+1)/d,x=(u[1]-h+1)/d;if(C<=0||x<=0)throw new X;const T=d/2;h+=T,_+=T;const R=new Yn(C,x);for(let k=0;k<x;k++){const L=h+k*d;for(let H=0;H<C;H++)a.get(_+H*d,L)&&R.set(H,k)}return R}static moduleSize(a,l){const u=l.getWidth();let d=a[0];const h=a[1];for(;d<u&&l.get(d,h);)d++;if(d===u)throw new X;const g=d-a[0];if(0===g)throw new X;return g}}return b.NO_POINTS=[],b})();var ae=(()=>{return(b=ae||(ae={}))[b.L=0]="L",b[b.M=1]="M",b[b.Q=2]="Q",b[b.H=3]="H",ae;var b})();class Bt{constructor(s,a,l){this.value=s,this.stringValue=a,this.bits=l,Bt.FOR_BITS.set(l,this),Bt.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return Bt.L;case"M":return Bt.M;case"Q":return Bt.Q;case"H":return Bt.H;default:throw new Zr(s+"not available")}}toString(){return this.stringValue}equals(s){return s instanceof Bt&&this.value===s.value}static forBits(s){if(s<0||s>=Bt.FOR_BITS.size)throw new be;return Bt.FOR_BITS.get(s)}}Bt.FOR_BITS=new Map,Bt.FOR_VALUE=new Map,Bt.L=new Bt(ae.L,"L",1),Bt.M=new Bt(ae.M,"M",0),Bt.Q=new Bt(ae.Q,"Q",3),Bt.H=new Bt(ae.H,"H",2);class Se{constructor(s){this.errorCorrectionLevel=Bt.forBits(s>>3&3),this.dataMask=7&s}static numBitsDiffering(s,a){return $e.bitCount(s^a)}static decodeFormatInformation(s,a){const l=Se.doDecodeFormatInformation(s,a);return null!==l?l:Se.doDecodeFormatInformation(s^Se.FORMAT_INFO_MASK_QR,a^Se.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,a){let l=Number.MAX_SAFE_INTEGER,u=0;for(const d of Se.FORMAT_INFO_DECODE_LOOKUP){const h=d[0];if(h===s||h===a)return new Se(d[1]);let g=Se.numBitsDiffering(s,h);g<l&&(u=d[1],l=g),s!==a&&(g=Se.numBitsDiffering(a,h),g<l&&(u=d[1],l=g))}return l<=3?new Se(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){return s instanceof Se&&this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask}}Se.FORMAT_INFO_MASK_QR=21522,Se.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class V{constructor(s,...a){this.ecCodewordsPerBlock=s,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const a=this.ecBlocks;for(const l of a)s+=l.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class O{constructor(s,a){this.count=s,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ne{constructor(s,a,...l){this.versionNumber=s,this.alignmentPatternCenters=a,this.ecBlocks=l;let u=0;const d=l[0].getECCodewordsPerBlock(),h=l[0].getECBlocks();for(const g of h)u+=g.getCount()*(g.getDataCodewords()+d);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!=1)throw new ue;try{return this.getVersionForNumber((s-17)/4)}catch{throw new ue}}static getVersionForNumber(s){if(s<1||s>40)throw new be;return Ne.VERSIONS[s-1]}static decodeVersionInformation(s){let a=Number.MAX_SAFE_INTEGER,l=0;for(let u=0;u<Ne.VERSION_DECODE_INFO.length;u++){const d=Ne.VERSION_DECODE_INFO[u];if(d===s)return Ne.getVersionForNumber(u+7);const h=Se.numBitsDiffering(s,d);h<a&&(l=u+7,a=h)}return a<=3?Ne.getVersionForNumber(l):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),a=new Yn(s);a.setRegion(0,0,9,9),a.setRegion(s-8,0,8,9),a.setRegion(0,s-8,9,8);const l=this.alignmentPatternCenters.length;for(let u=0;u<l;u++){const d=this.alignmentPatternCenters[u]-2;for(let h=0;h<l;h++)0===u&&(0===h||h===l-1)||u===l-1&&0===h||a.setRegion(this.alignmentPatternCenters[h]-2,d,5,5)}return a.setRegion(6,9,1,s-17),a.setRegion(9,6,s-17,1),this.versionNumber>6&&(a.setRegion(s-11,0,3,6),a.setRegion(0,s-11,6,3)),a}toString(){return""+this.versionNumber}}Ne.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ne.VERSIONS=[new Ne(1,new Int32Array(0),new V(7,new O(1,19)),new V(10,new O(1,16)),new V(13,new O(1,13)),new V(17,new O(1,9))),new Ne(2,Int32Array.from([6,18]),new V(10,new O(1,34)),new V(16,new O(1,28)),new V(22,new O(1,22)),new V(28,new O(1,16))),new Ne(3,Int32Array.from([6,22]),new V(15,new O(1,55)),new V(26,new O(1,44)),new V(18,new O(2,17)),new V(22,new O(2,13))),new Ne(4,Int32Array.from([6,26]),new V(20,new O(1,80)),new V(18,new O(2,32)),new V(26,new O(2,24)),new V(16,new O(4,9))),new Ne(5,Int32Array.from([6,30]),new V(26,new O(1,108)),new V(24,new O(2,43)),new V(18,new O(2,15),new O(2,16)),new V(22,new O(2,11),new O(2,12))),new Ne(6,Int32Array.from([6,34]),new V(18,new O(2,68)),new V(16,new O(4,27)),new V(24,new O(4,19)),new V(28,new O(4,15))),new Ne(7,Int32Array.from([6,22,38]),new V(20,new O(2,78)),new V(18,new O(4,31)),new V(18,new O(2,14),new O(4,15)),new V(26,new O(4,13),new O(1,14))),new Ne(8,Int32Array.from([6,24,42]),new V(24,new O(2,97)),new V(22,new O(2,38),new O(2,39)),new V(22,new O(4,18),new O(2,19)),new V(26,new O(4,14),new O(2,15))),new Ne(9,Int32Array.from([6,26,46]),new V(30,new O(2,116)),new V(22,new O(3,36),new O(2,37)),new V(20,new O(4,16),new O(4,17)),new V(24,new O(4,12),new O(4,13))),new Ne(10,Int32Array.from([6,28,50]),new V(18,new O(2,68),new O(2,69)),new V(26,new O(4,43),new O(1,44)),new V(24,new O(6,19),new O(2,20)),new V(28,new O(6,15),new O(2,16))),new Ne(11,Int32Array.from([6,30,54]),new V(20,new O(4,81)),new V(30,new O(1,50),new O(4,51)),new V(28,new O(4,22),new O(4,23)),new V(24,new O(3,12),new O(8,13))),new Ne(12,Int32Array.from([6,32,58]),new V(24,new O(2,92),new O(2,93)),new V(22,new O(6,36),new O(2,37)),new V(26,new O(4,20),new O(6,21)),new V(28,new O(7,14),new O(4,15))),new Ne(13,Int32Array.from([6,34,62]),new V(26,new O(4,107)),new V(22,new O(8,37),new O(1,38)),new V(24,new O(8,20),new O(4,21)),new V(22,new O(12,11),new O(4,12))),new Ne(14,Int32Array.from([6,26,46,66]),new V(30,new O(3,115),new O(1,116)),new V(24,new O(4,40),new O(5,41)),new V(20,new O(11,16),new O(5,17)),new V(24,new O(11,12),new O(5,13))),new Ne(15,Int32Array.from([6,26,48,70]),new V(22,new O(5,87),new O(1,88)),new V(24,new O(5,41),new O(5,42)),new V(30,new O(5,24),new O(7,25)),new V(24,new O(11,12),new O(7,13))),new Ne(16,Int32Array.from([6,26,50,74]),new V(24,new O(5,98),new O(1,99)),new V(28,new O(7,45),new O(3,46)),new V(24,new O(15,19),new O(2,20)),new V(30,new O(3,15),new O(13,16))),new Ne(17,Int32Array.from([6,30,54,78]),new V(28,new O(1,107),new O(5,108)),new V(28,new O(10,46),new O(1,47)),new V(28,new O(1,22),new O(15,23)),new V(28,new O(2,14),new O(17,15))),new Ne(18,Int32Array.from([6,30,56,82]),new V(30,new O(5,120),new O(1,121)),new V(26,new O(9,43),new O(4,44)),new V(28,new O(17,22),new O(1,23)),new V(28,new O(2,14),new O(19,15))),new Ne(19,Int32Array.from([6,30,58,86]),new V(28,new O(3,113),new O(4,114)),new V(26,new O(3,44),new O(11,45)),new V(26,new O(17,21),new O(4,22)),new V(26,new O(9,13),new O(16,14))),new Ne(20,Int32Array.from([6,34,62,90]),new V(28,new O(3,107),new O(5,108)),new V(26,new O(3,41),new O(13,42)),new V(30,new O(15,24),new O(5,25)),new V(28,new O(15,15),new O(10,16))),new Ne(21,Int32Array.from([6,28,50,72,94]),new V(28,new O(4,116),new O(4,117)),new V(26,new O(17,42)),new V(28,new O(17,22),new O(6,23)),new V(30,new O(19,16),new O(6,17))),new Ne(22,Int32Array.from([6,26,50,74,98]),new V(28,new O(2,111),new O(7,112)),new V(28,new O(17,46)),new V(30,new O(7,24),new O(16,25)),new V(24,new O(34,13))),new Ne(23,Int32Array.from([6,30,54,78,102]),new V(30,new O(4,121),new O(5,122)),new V(28,new O(4,47),new O(14,48)),new V(30,new O(11,24),new O(14,25)),new V(30,new O(16,15),new O(14,16))),new Ne(24,Int32Array.from([6,28,54,80,106]),new V(30,new O(6,117),new O(4,118)),new V(28,new O(6,45),new O(14,46)),new V(30,new O(11,24),new O(16,25)),new V(30,new O(30,16),new O(2,17))),new Ne(25,Int32Array.from([6,32,58,84,110]),new V(26,new O(8,106),new O(4,107)),new V(28,new O(8,47),new O(13,48)),new V(30,new O(7,24),new O(22,25)),new V(30,new O(22,15),new O(13,16))),new Ne(26,Int32Array.from([6,30,58,86,114]),new V(28,new O(10,114),new O(2,115)),new V(28,new O(19,46),new O(4,47)),new V(28,new O(28,22),new O(6,23)),new V(30,new O(33,16),new O(4,17))),new Ne(27,Int32Array.from([6,34,62,90,118]),new V(30,new O(8,122),new O(4,123)),new V(28,new O(22,45),new O(3,46)),new V(30,new O(8,23),new O(26,24)),new V(30,new O(12,15),new O(28,16))),new Ne(28,Int32Array.from([6,26,50,74,98,122]),new V(30,new O(3,117),new O(10,118)),new V(28,new O(3,45),new O(23,46)),new V(30,new O(4,24),new O(31,25)),new V(30,new O(11,15),new O(31,16))),new Ne(29,Int32Array.from([6,30,54,78,102,126]),new V(30,new O(7,116),new O(7,117)),new V(28,new O(21,45),new O(7,46)),new V(30,new O(1,23),new O(37,24)),new V(30,new O(19,15),new O(26,16))),new Ne(30,Int32Array.from([6,26,52,78,104,130]),new V(30,new O(5,115),new O(10,116)),new V(28,new O(19,47),new O(10,48)),new V(30,new O(15,24),new O(25,25)),new V(30,new O(23,15),new O(25,16))),new Ne(31,Int32Array.from([6,30,56,82,108,134]),new V(30,new O(13,115),new O(3,116)),new V(28,new O(2,46),new O(29,47)),new V(30,new O(42,24),new O(1,25)),new V(30,new O(23,15),new O(28,16))),new Ne(32,Int32Array.from([6,34,60,86,112,138]),new V(30,new O(17,115)),new V(28,new O(10,46),new O(23,47)),new V(30,new O(10,24),new O(35,25)),new V(30,new O(19,15),new O(35,16))),new Ne(33,Int32Array.from([6,30,58,86,114,142]),new V(30,new O(17,115),new O(1,116)),new V(28,new O(14,46),new O(21,47)),new V(30,new O(29,24),new O(19,25)),new V(30,new O(11,15),new O(46,16))),new Ne(34,Int32Array.from([6,34,62,90,118,146]),new V(30,new O(13,115),new O(6,116)),new V(28,new O(14,46),new O(23,47)),new V(30,new O(44,24),new O(7,25)),new V(30,new O(59,16),new O(1,17))),new Ne(35,Int32Array.from([6,30,54,78,102,126,150]),new V(30,new O(12,121),new O(7,122)),new V(28,new O(12,47),new O(26,48)),new V(30,new O(39,24),new O(14,25)),new V(30,new O(22,15),new O(41,16))),new Ne(36,Int32Array.from([6,24,50,76,102,128,154]),new V(30,new O(6,121),new O(14,122)),new V(28,new O(6,47),new O(34,48)),new V(30,new O(46,24),new O(10,25)),new V(30,new O(2,15),new O(64,16))),new Ne(37,Int32Array.from([6,28,54,80,106,132,158]),new V(30,new O(17,122),new O(4,123)),new V(28,new O(29,46),new O(14,47)),new V(30,new O(49,24),new O(10,25)),new V(30,new O(24,15),new O(46,16))),new Ne(38,Int32Array.from([6,32,58,84,110,136,162]),new V(30,new O(4,122),new O(18,123)),new V(28,new O(13,46),new O(32,47)),new V(30,new O(48,24),new O(14,25)),new V(30,new O(42,15),new O(32,16))),new Ne(39,Int32Array.from([6,26,54,82,110,138,166]),new V(30,new O(20,117),new O(4,118)),new V(28,new O(40,47),new O(7,48)),new V(30,new O(43,24),new O(22,25)),new V(30,new O(10,15),new O(67,16))),new Ne(40,Int32Array.from([6,30,58,86,114,142,170]),new V(30,new O(19,118),new O(6,119)),new V(28,new O(18,47),new O(31,48)),new V(30,new O(34,24),new O(34,25)),new V(30,new O(20,15),new O(61,16)))];var Hn=(()=>{return(b=Hn||(Hn={}))[b.DATA_MASK_000=0]="DATA_MASK_000",b[b.DATA_MASK_001=1]="DATA_MASK_001",b[b.DATA_MASK_010=2]="DATA_MASK_010",b[b.DATA_MASK_011=3]="DATA_MASK_011",b[b.DATA_MASK_100=4]="DATA_MASK_100",b[b.DATA_MASK_101=5]="DATA_MASK_101",b[b.DATA_MASK_110=6]="DATA_MASK_110",b[b.DATA_MASK_111=7]="DATA_MASK_111",Hn;var b})();class Ar{constructor(s,a){this.value=s,this.isMasked=a}unmaskBitMatrix(s,a){for(let l=0;l<a;l++)for(let u=0;u<a;u++)this.isMasked(l,u)&&s.flip(u,l)}}Ar.values=new Map([[Hn.DATA_MASK_000,new Ar(Hn.DATA_MASK_000,(b,s)=>0==(b+s&1))],[Hn.DATA_MASK_001,new Ar(Hn.DATA_MASK_001,(b,s)=>0==(1&b))],[Hn.DATA_MASK_010,new Ar(Hn.DATA_MASK_010,(b,s)=>s%3==0)],[Hn.DATA_MASK_011,new Ar(Hn.DATA_MASK_011,(b,s)=>(b+s)%3==0)],[Hn.DATA_MASK_100,new Ar(Hn.DATA_MASK_100,(b,s)=>0==(Math.floor(b/2)+Math.floor(s/3)&1))],[Hn.DATA_MASK_101,new Ar(Hn.DATA_MASK_101,(b,s)=>b*s%6==0)],[Hn.DATA_MASK_110,new Ar(Hn.DATA_MASK_110,(b,s)=>b*s%6<3)],[Hn.DATA_MASK_111,new Ar(Hn.DATA_MASK_111,(b,s)=>0==(b+s+b*s%3&1))]]);class Xr{constructor(s){const a=s.getHeight();if(a<21||1!=(3&a))throw new ue;this.bitMatrix=s}readFormatInformation(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;let s=0;for(let d=0;d<6;d++)s=this.copyBit(d,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let d=5;d>=0;d--)s=this.copyBit(8,d,s);const a=this.bitMatrix.getHeight();let l=0;const u=a-7;for(let d=a-1;d>=u;d--)l=this.copyBit(8,d,l);for(let d=a-8;d<a;d++)l=this.copyBit(d,8,l);if(this.parsedFormatInfo=Se.decodeFormatInformation(s,l),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new ue}readVersion(){if(null!=this.parsedVersion)return this.parsedVersion;const s=this.bitMatrix.getHeight(),a=Math.floor((s-17)/4);if(a<=6)return Ne.getVersionForNumber(a);let l=0;const u=s-11;for(let h=5;h>=0;h--)for(let g=s-9;g>=u;g--)l=this.copyBit(g,h,l);let d=Ne.decodeVersionInformation(l);if(null!==d&&d.getDimensionForVersion()===s)return this.parsedVersion=d,d;l=0;for(let h=5;h>=0;h--)for(let g=s-9;g>=u;g--)l=this.copyBit(h,g,l);if(d=Ne.decodeVersionInformation(l),null!==d&&d.getDimensionForVersion()===s)return this.parsedVersion=d,d;throw new ue}copyBit(s,a,l){return(this.isMirror?this.bitMatrix.get(a,s):this.bitMatrix.get(s,a))?l<<1|1:l<<1}readCodewords(){const s=this.readFormatInformation(),a=this.readVersion(),l=Ar.values.get(s.getDataMask()),u=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,u);const d=a.buildFunctionPattern();let h=!0;const g=new Uint8Array(a.getTotalCodewords());let _=0,v=0,C=0;for(let x=u-1;x>0;x-=2){6===x&&x--;for(let T=0;T<u;T++){const R=h?u-1-T:T;for(let k=0;k<2;k++)d.get(x-k,R)||(C++,v<<=1,this.bitMatrix.get(x-k,R)&&(v|=1),8===C&&(g[_++]=v,C=0,v=0))}h=!h}if(_!==a.getTotalCodewords())throw new ue;return g}remask(){if(null===this.parsedFormatInfo)return;const s=Ar.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,a)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let a=0,l=s.getWidth();a<l;a++)for(let u=a+1,d=s.getHeight();u<d;u++)s.get(a,u)!==s.get(u,a)&&(s.flip(u,a),s.flip(a,u))}}class vd{constructor(s,a){this.numDataCodewords=s,this.codewords=a}static getDataBlocks(s,a,l){if(s.length!==a.getTotalCodewords())throw new be;const u=a.getECBlocksForLevel(l);let d=0;const h=u.getECBlocks();for(const k of h)d+=k.getCount();const g=new Array(d);let _=0;for(const k of h)for(let L=0;L<k.getCount();L++){const H=k.getDataCodewords(),W=u.getECCodewordsPerBlock()+H;g[_++]=new vd(H,new Uint8Array(W))}const v=g[0].codewords.length;let C=g.length-1;for(;C>=0&&g[C].codewords.length!==v;)C--;C++;const x=v-u.getECCodewordsPerBlock();let T=0;for(let k=0;k<x;k++)for(let L=0;L<_;L++)g[L].codewords[k]=s[T++];for(let k=C;k<_;k++)g[k].codewords[x]=s[T++];const R=g[0].codewords.length;for(let k=x;k<R;k++)for(let L=0;L<_;L++)g[L].codewords[L<C?k:k+1]=s[T++];return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Qr=(()=>{return(b=Qr||(Qr={}))[b.TERMINATOR=0]="TERMINATOR",b[b.NUMERIC=1]="NUMERIC",b[b.ALPHANUMERIC=2]="ALPHANUMERIC",b[b.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",b[b.BYTE=4]="BYTE",b[b.ECI=5]="ECI",b[b.KANJI=6]="KANJI",b[b.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",b[b.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",b[b.HANZI=9]="HANZI",Qr;var b})();class Oe{constructor(s,a,l,u){this.value=s,this.stringValue=a,this.characterCountBitsForVersions=l,this.bits=u,Oe.FOR_BITS.set(u,this),Oe.FOR_VALUE.set(s,this)}static forBits(s){const a=Oe.FOR_BITS.get(s);if(void 0===a)throw new be;return a}getCharacterCountBits(s){const a=s.getVersionNumber();let l;return l=a<=9?0:a<=26?1:2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(s){return s instanceof Oe&&this.value===s.value}toString(){return this.stringValue}}Oe.FOR_BITS=new Map,Oe.FOR_VALUE=new Map,Oe.TERMINATOR=new Oe(Qr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Oe.NUMERIC=new Oe(Qr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Oe.ALPHANUMERIC=new Oe(Qr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Oe.STRUCTURED_APPEND=new Oe(Qr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Oe.BYTE=new Oe(Qr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Oe.ECI=new Oe(Qr.ECI,"ECI",Int32Array.from([0,0,0]),7),Oe.KANJI=new Oe(Qr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Oe.FNC1_FIRST_POSITION=new Oe(Qr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Oe.FNC1_SECOND_POSITION=new Oe(Qr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Oe.HANZI=new Oe(Qr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);let Ri=(()=>{class b{static decode(a,l,u,d){const h=new Lt(a);let g=new Tt;const _=new Array;let v=-1,C=-1;try{let R,x=null,T=!1;do{if(h.available()<4)R=Oe.TERMINATOR;else{const k=h.readBits(4);R=Oe.forBits(k)}switch(R){case Oe.TERMINATOR:break;case Oe.FNC1_FIRST_POSITION:case Oe.FNC1_SECOND_POSITION:T=!0;break;case Oe.STRUCTURED_APPEND:if(h.available()<16)throw new ue;v=h.readBits(8),C=h.readBits(8);break;case Oe.ECI:const k=b.parseECIValue(h);if(x=le.getCharacterSetECIByValue(k),null===x)throw new ue;break;case Oe.HANZI:const L=h.readBits(4),H=h.readBits(R.getCharacterCountBits(l));L===b.GB2312_SUBSET&&b.decodeHanziSegment(h,g,H);break;default:const W=h.readBits(R.getCharacterCountBits(l));switch(R){case Oe.NUMERIC:b.decodeNumericSegment(h,g,W);break;case Oe.ALPHANUMERIC:b.decodeAlphanumericSegment(h,g,W,T);break;case Oe.BYTE:b.decodeByteSegment(h,g,W,x,_,d);break;case Oe.KANJI:b.decodeKanjiSegment(h,g,W);break;default:throw new ue}}}while(R!==Oe.TERMINATOR)}catch{throw new ue}return new Ks(a,g.toString(),0===_.length?null:_,null===u?null:u.toString(),v,C)}static decodeHanziSegment(a,l,u){if(13*u>a.available())throw new ue;const d=new Uint8Array(2*u);let h=0;for(;u>0;){const g=a.readBits(13);let _=g/96<<8&4294967295|g%96;_+=_<959?41377:42657,d[h]=_>>8&255,d[h+1]=255&_,h+=2,u--}try{l.append(rr.decode(d,ze.GB2312))}catch(g){throw new ue(g)}}static decodeKanjiSegment(a,l,u){if(13*u>a.available())throw new ue;const d=new Uint8Array(2*u);let h=0;for(;u>0;){const g=a.readBits(13);let _=g/192<<8&4294967295|g%192;_+=_<7936?33088:49472,d[h]=_>>8,d[h+1]=_,h+=2,u--}try{l.append(rr.decode(d,ze.SHIFT_JIS))}catch(g){throw new ue(g)}}static decodeByteSegment(a,l,u,d,h,g){if(8*u>a.available())throw new ue;const _=new Uint8Array(u);for(let C=0;C<u;C++)_[C]=a.readBits(8);let v;v=null===d?ze.guessEncoding(_,g):d.getName();try{l.append(rr.decode(_,v))}catch(C){throw new ue(C)}h.push(_)}static toAlphaNumericChar(a){if(a>=b.ALPHANUMERIC_CHARS.length)throw new ue;return b.ALPHANUMERIC_CHARS[a]}static decodeAlphanumericSegment(a,l,u,d){const h=l.length();for(;u>1;){if(a.available()<11)throw new ue;const g=a.readBits(11);l.append(b.toAlphaNumericChar(Math.floor(g/45))),l.append(b.toAlphaNumericChar(g%45)),u-=2}if(1===u){if(a.available()<6)throw new ue;l.append(b.toAlphaNumericChar(a.readBits(6)))}if(d)for(let g=h;g<l.length();g++)"%"===l.charAt(g)&&(g<l.length()-1&&"%"===l.charAt(g+1)?l.deleteCharAt(g+1):l.setCharAt(g,String.fromCharCode(29)))}static decodeNumericSegment(a,l,u){for(;u>=3;){if(a.available()<10)throw new ue;const d=a.readBits(10);if(d>=1e3)throw new ue;l.append(b.toAlphaNumericChar(Math.floor(d/100))),l.append(b.toAlphaNumericChar(Math.floor(d/10)%10)),l.append(b.toAlphaNumericChar(d%10)),u-=3}if(2===u){if(a.available()<7)throw new ue;const d=a.readBits(7);if(d>=100)throw new ue;l.append(b.toAlphaNumericChar(Math.floor(d/10))),l.append(b.toAlphaNumericChar(d%10))}else if(1===u){if(a.available()<4)throw new ue;const d=a.readBits(4);if(d>=10)throw new ue;l.append(b.toAlphaNumericChar(d))}}static parseECIValue(a){const l=a.readBits(8);if(0==(128&l))return 127&l;if(128==(192&l))return(63&l)<<8&4294967295|a.readBits(8);if(192==(224&l))return(31&l)<<16&4294967295|a.readBits(16);throw new ue}}return b.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",b.GB2312_SUBSET=1,b})();class mp{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||null===s||s.length<3)return;const a=s[0];s[0]=s[2],s[2]=a}}class v_{constructor(){this.rsDecoder=new Ha(_t.QR_CODE_FIELD_256)}decodeBooleanArray(s,a){return this.decodeBitMatrix(Yn.parseFromBooleanArray(s),a)}decodeBitMatrix(s,a){const l=new Xr(s);let u=null;try{return this.decodeBitMatrixParser(l,a)}catch(d){u=d}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const d=this.decodeBitMatrixParser(l,a);return d.setOther(new mp(!0)),d}catch(d){throw null!==u?u:d}}decodeBitMatrixParser(s,a){const l=s.readVersion(),u=s.readFormatInformation().getErrorCorrectionLevel(),d=s.readCodewords(),h=vd.getDataBlocks(d,l,u);let g=0;for(const C of h)g+=C.getNumDataCodewords();const _=new Uint8Array(g);let v=0;for(const C of h){const x=C.getCodewords(),T=C.getNumDataCodewords();this.correctErrors(x,T);for(let R=0;R<T;R++)_[v++]=x[R]}return Ri.decode(_,l,u,a)}correctErrors(s,a){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-a)}catch{throw new Un}for(let u=0;u<a;u++)s[u]=l[u]}}class yd extends De{constructor(s,a,l){super(s,a),this.estimatedModuleSize=l}aboutEquals(s,a,l){if(Math.abs(a-this.getY())<=s&&Math.abs(l-this.getX())<=s){const u=Math.abs(s-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(s,a,l){const u=(this.getX()+a)/2,d=(this.getY()+s)/2;return new yd(u,d,(this.estimatedModuleSize+l)/2)}}class hc{constructor(s,a,l,u,d,h,g){this.image=s,this.startX=a,this.startY=l,this.width=u,this.height=d,this.moduleSize=h,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,a=this.height,u=s+this.width,d=this.startY+a/2,h=new Int32Array(3),g=this.image;for(let _=0;_<a;_++){const v=d+(0==(1&_)?Math.floor((_+1)/2):-Math.floor((_+1)/2));h[0]=0,h[1]=0,h[2]=0;let C=s;for(;C<u&&!g.get(C,v);)C++;let x=0;for(;C<u;){if(g.get(C,v))if(1===x)h[1]++;else if(2===x){if(this.foundPatternCross(h)){const T=this.handlePossibleCenter(h,v,C);if(null!==T)return T}h[0]=h[2],h[1]=1,h[2]=0,x=1}else h[++x]++;else 1===x&&x++,h[x]++;C++}if(this.foundPatternCross(h)){const T=this.handlePossibleCenter(h,v,u);if(null!==T)return T}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new X}static centerFromEnd(s,a){return a-s[2]-s[1]/2}foundPatternCross(s){const a=this.moduleSize,l=a/2;for(let u=0;u<3;u++)if(Math.abs(a-s[u])>=l)return!1;return!0}crossCheckVertical(s,a,l,u){const d=this.image,h=d.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let _=s;for(;_>=0&&d.get(a,_)&&g[1]<=l;)g[1]++,_--;if(_<0||g[1]>l)return NaN;for(;_>=0&&!d.get(a,_)&&g[0]<=l;)g[0]++,_--;if(g[0]>l)return NaN;for(_=s+1;_<h&&d.get(a,_)&&g[1]<=l;)g[1]++,_++;if(_===h||g[1]>l)return NaN;for(;_<h&&!d.get(a,_)&&g[2]<=l;)g[2]++,_++;return g[2]>l||5*Math.abs(g[0]+g[1]+g[2]-u)>=2*u?NaN:this.foundPatternCross(g)?hc.centerFromEnd(g,_):NaN}handlePossibleCenter(s,a,l){const u=s[0]+s[1]+s[2],d=hc.centerFromEnd(s,l),h=this.crossCheckVertical(a,d,2*s[1],u);if(!isNaN(h)){const g=(s[0]+s[1]+s[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(g,h,d))return v.combineEstimate(h,d,g);const _=new yd(d,h,g);this.possibleCenters.push(_),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(_)}return null}}class pc extends De{constructor(s,a,l,u){super(s,a),this.estimatedModuleSize=l,this.count=u,void 0===u&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,a,l){if(Math.abs(a-this.getY())<=s&&Math.abs(l-this.getX())<=s){const u=Math.abs(s-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(s,a,l){const u=this.count+1,d=(this.count*this.getX()+a)/u,h=(this.count*this.getY()+s)/u;return new pc(d,h,(this.count*this.estimatedModuleSize+l)/u,u)}}class y_{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}let _p=(()=>{class b{constructor(a,l){this.image=a,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(a){const l=null!=a&&void 0!==a.get(Yt.TRY_HARDER),u=null!=a&&void 0!==a.get(Yt.PURE_BARCODE),d=this.image,h=d.getHeight(),g=d.getWidth();let _=Math.floor(3*h/(4*b.MAX_MODULES));(_<b.MIN_SKIP||l)&&(_=b.MIN_SKIP);let v=!1;const C=new Int32Array(5);for(let T=_-1;T<h&&!v;T+=_){C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0;let R=0;for(let k=0;k<g;k++)if(d.get(k,T))1==(1&R)&&R++,C[R]++;else if(0==(1&R))if(4===R)if(b.foundPatternCross(C)){if(!0!==this.handlePossibleCenter(C,T,k,u)){C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,R=3;continue}if(_=2,!0===this.hasSkipped)v=this.haveMultiplyConfirmedCenters();else{const H=this.findRowSkip();H>C[2]&&(T+=H-C[2]-_,k=g-1)}R=0,C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0}else C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,R=3;else C[++R]++;else C[R]++;b.foundPatternCross(C)&&!0===this.handlePossibleCenter(C,T,g,u)&&(_=C[0],this.hasSkipped&&(v=this.haveMultiplyConfirmedCenters()))}const x=this.selectBestPatterns();return De.orderBestPatterns(x),new y_(x)}static centerFromEnd(a,l){return l-a[4]-a[3]-a[2]/2}static foundPatternCross(a){let l=0;for(let h=0;h<5;h++){const g=a[h];if(0===g)return!1;l+=g}if(l<7)return!1;const u=l/7,d=u/2;return Math.abs(u-a[0])<d&&Math.abs(u-a[1])<d&&Math.abs(3*u-a[2])<3*d&&Math.abs(u-a[3])<d&&Math.abs(u-a[4])<d}getCrossCheckStateCount(){const a=this.crossCheckStateCount;return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a}crossCheckDiagonal(a,l,u,d){const h=this.getCrossCheckStateCount();let g=0;const _=this.image;for(;a>=g&&l>=g&&_.get(l-g,a-g);)h[2]++,g++;if(a<g||l<g)return!1;for(;a>=g&&l>=g&&!_.get(l-g,a-g)&&h[1]<=u;)h[1]++,g++;if(a<g||l<g||h[1]>u)return!1;for(;a>=g&&l>=g&&_.get(l-g,a-g)&&h[0]<=u;)h[0]++,g++;if(h[0]>u)return!1;const v=_.getHeight(),C=_.getWidth();for(g=1;a+g<v&&l+g<C&&_.get(l+g,a+g);)h[2]++,g++;if(a+g>=v||l+g>=C)return!1;for(;a+g<v&&l+g<C&&!_.get(l+g,a+g)&&h[3]<u;)h[3]++,g++;if(a+g>=v||l+g>=C||h[3]>=u)return!1;for(;a+g<v&&l+g<C&&_.get(l+g,a+g)&&h[4]<u;)h[4]++,g++;return!(h[4]>=u)&&Math.abs(h[0]+h[1]+h[2]+h[3]+h[4]-d)<2*d&&b.foundPatternCross(h)}crossCheckVertical(a,l,u,d){const h=this.image,g=h.getHeight(),_=this.getCrossCheckStateCount();let v=a;for(;v>=0&&h.get(l,v);)_[2]++,v--;if(v<0)return NaN;for(;v>=0&&!h.get(l,v)&&_[1]<=u;)_[1]++,v--;if(v<0||_[1]>u)return NaN;for(;v>=0&&h.get(l,v)&&_[0]<=u;)_[0]++,v--;if(_[0]>u)return NaN;for(v=a+1;v<g&&h.get(l,v);)_[2]++,v++;if(v===g)return NaN;for(;v<g&&!h.get(l,v)&&_[3]<u;)_[3]++,v++;if(v===g||_[3]>=u)return NaN;for(;v<g&&h.get(l,v)&&_[4]<u;)_[4]++,v++;return _[4]>=u||5*Math.abs(_[0]+_[1]+_[2]+_[3]+_[4]-d)>=2*d?NaN:b.foundPatternCross(_)?b.centerFromEnd(_,v):NaN}crossCheckHorizontal(a,l,u,d){const h=this.image,g=h.getWidth(),_=this.getCrossCheckStateCount();let v=a;for(;v>=0&&h.get(v,l);)_[2]++,v--;if(v<0)return NaN;for(;v>=0&&!h.get(v,l)&&_[1]<=u;)_[1]++,v--;if(v<0||_[1]>u)return NaN;for(;v>=0&&h.get(v,l)&&_[0]<=u;)_[0]++,v--;if(_[0]>u)return NaN;for(v=a+1;v<g&&h.get(v,l);)_[2]++,v++;if(v===g)return NaN;for(;v<g&&!h.get(v,l)&&_[3]<u;)_[3]++,v++;if(v===g||_[3]>=u)return NaN;for(;v<g&&h.get(v,l)&&_[4]<u;)_[4]++,v++;return _[4]>=u||5*Math.abs(_[0]+_[1]+_[2]+_[3]+_[4]-d)>=d?NaN:b.foundPatternCross(_)?b.centerFromEnd(_,v):NaN}handlePossibleCenter(a,l,u,d){const h=a[0]+a[1]+a[2]+a[3]+a[4];let g=b.centerFromEnd(a,u),_=this.crossCheckVertical(l,Math.floor(g),a[2],h);if(!isNaN(_)&&(g=this.crossCheckHorizontal(Math.floor(g),Math.floor(_),a[2],h),!isNaN(g)&&(!d||this.crossCheckDiagonal(Math.floor(_),Math.floor(g),a[2],h)))){const v=h/7;let C=!1;const x=this.possibleCenters;for(let T=0,R=x.length;T<R;T++){const k=x[T];if(k.aboutEquals(v,_,g)){x[T]=k.combineEstimate(_,g,v),C=!0;break}}if(!C){const T=new pc(g,_,v);x.push(T),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(T)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const u of this.possibleCenters)if(u.getCount()>=b.CENTER_QUORUM){if(null!=l)return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-u.getX())-Math.abs(l.getY()-u.getY()))/2);l=u}return 0}haveMultiplyConfirmedCenters(){let a=0,l=0;const u=this.possibleCenters.length;for(const g of this.possibleCenters)g.getCount()>=b.CENTER_QUORUM&&(a++,l+=g.getEstimatedModuleSize());if(a<3)return!1;const d=l/u;let h=0;for(const g of this.possibleCenters)h+=Math.abs(g.getEstimatedModuleSize()-d);return h<=.05*l}selectBestPatterns(){const a=this.possibleCenters.length;if(a<3)throw new X;const l=this.possibleCenters;let u;if(a>3){let d=0,h=0;for(const v of this.possibleCenters){const C=v.getEstimatedModuleSize();d+=C,h+=C*C}u=d/a;let g=Math.sqrt(h/a-u*u);l.sort((v,C)=>{const x=Math.abs(C.getEstimatedModuleSize()-u),T=Math.abs(v.getEstimatedModuleSize()-u);return x<T?-1:x>T?1:0});const _=Math.max(.2*u,g);for(let v=0;v<l.length&&l.length>3;v++)Math.abs(l[v].getEstimatedModuleSize()-u)>_&&(l.splice(v,1),v--)}if(l.length>3){let d=0;for(const h of l)d+=h.getEstimatedModuleSize();u=d/l.length,l.sort((h,g)=>{if(g.getCount()===h.getCount()){const _=Math.abs(g.getEstimatedModuleSize()-u),v=Math.abs(h.getEstimatedModuleSize()-u);return _<v?1:_>v?-1:0}return g.getCount()-h.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}return b.CENTER_QUORUM=2,b.MIN_SKIP=3,b.MAX_MODULES=57,b})();class Ya{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=null==s?null:s.get(Yt.NEED_RESULT_POINT_CALLBACK);const l=new _p(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(l)}processFinderPatternInfo(s){const a=s.getTopLeft(),l=s.getTopRight(),u=s.getBottomLeft(),d=this.calculateModuleSize(a,l,u);if(d<1)throw new X("No pattern found in proccess finder.");const h=Ya.computeDimension(a,l,u,d),g=Ne.getProvisionalVersionForDimension(h),_=g.getDimensionForVersion()-7;let v=null;if(g.getAlignmentPatternCenters().length>0){const R=l.getX()-a.getX()+u.getX(),k=l.getY()-a.getY()+u.getY(),L=1-3/_,H=Math.floor(a.getX()+L*(R-a.getX())),W=Math.floor(a.getY()+L*(k-a.getY()));for(let re=4;re<=16;re<<=1)try{v=this.findAlignmentInRegion(d,H,W,re);break}catch(pe){if(!(pe instanceof X))throw pe}}const C=Ya.createTransform(a,l,u,v,h),x=Ya.sampleGrid(this.image,C,h);let T;return T=null===v?[u,a,l]:[u,a,l,v],new ea(x,T)}static createTransform(s,a,l,u,d){const h=d-3.5;let g,_,v,C;return null!==u?(g=u.getX(),_=u.getY(),v=h-3,C=v):(g=a.getX()-s.getX()+l.getX(),_=a.getY()-s.getY()+l.getY(),v=h,C=h),Mi.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,v,C,3.5,h,s.getX(),s.getY(),a.getX(),a.getY(),g,_,l.getX(),l.getY())}static sampleGrid(s,a,l){return Do.getInstance().sampleGridWithTransform(s,l,l,a)}static computeDimension(s,a,l,u){const d=vt.round(De.distance(s,a)/u),h=vt.round(De.distance(s,l)/u);let g=Math.floor((d+h)/2)+7;switch(3&g){case 0:g++;break;case 2:g--;break;case 3:throw new X("Dimensions could be not found.")}return g}calculateModuleSize(s,a,l){return(this.calculateModuleSizeOneWay(s,a)+this.calculateModuleSizeOneWay(s,l))/2}calculateModuleSizeOneWay(s,a){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(a.getX()),Math.floor(a.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(l)?u/7:isNaN(u)?l/7:(l+u)/14}sizeOfBlackWhiteBlackRunBothWays(s,a,l,u){let d=this.sizeOfBlackWhiteBlackRun(s,a,l,u),h=1,g=s-(l-s);g<0?(h=s/(s-g),g=0):g>=this.image.getWidth()&&(h=(this.image.getWidth()-1-s)/(g-s),g=this.image.getWidth()-1);let _=Math.floor(a-(u-a)*h);return h=1,_<0?(h=a/(a-_),_=0):_>=this.image.getHeight()&&(h=(this.image.getHeight()-1-a)/(_-a),_=this.image.getHeight()-1),g=Math.floor(s+(g-s)*h),d+=this.sizeOfBlackWhiteBlackRun(s,a,g,_),d-1}sizeOfBlackWhiteBlackRun(s,a,l,u){const d=Math.abs(u-a)>Math.abs(l-s);if(d){let R=s;s=a,a=R,R=l,l=u,u=R}const h=Math.abs(l-s),g=Math.abs(u-a);let _=-h/2;const v=s<l?1:-1,C=a<u?1:-1;let x=0;const T=l+v;for(let R=s,k=a;R!==T;R+=v){if(1===x===this.image.get(d?k:R,d?R:k)){if(2===x)return vt.distance(R,k,s,a);x++}if(_+=g,_>0){if(k===u)break;k+=C,_-=h}}return 2===x?vt.distance(l+v,u,s,a):NaN}findAlignmentInRegion(s,a,l,u){const d=Math.floor(u*s),h=Math.max(0,a-d),g=Math.min(this.image.getWidth()-1,a+d);if(g-h<3*s)throw new X("Alignment top exceeds estimated module size.");const _=Math.max(0,l-d),v=Math.min(this.image.getHeight()-1,l+d);if(v-_<3*s)throw new X("Alignment bottom exceeds estimated module size.");return new hc(this.image,h,_,g-h,v-_,s,this.resultPointCallback).find()}}class Pn{constructor(){this.decoder=new v_}getDecoder(){return this.decoder}decode(s,a){let l,u;if(null!=a&&void 0!==a.get(Yt.PURE_BARCODE)){const _=Pn.extractPureBits(s.getBlackMatrix());l=this.decoder.decodeBitMatrix(_,a),u=Pn.NO_POINTS}else{const _=new Ya(s.getBlackMatrix()).detect(a);l=this.decoder.decodeBitMatrix(_.getBits(),a),u=_.getPoints()}l.getOther()instanceof mp&&l.getOther().applyMirroredCorrection(u);const d=new je(l.getText(),l.getRawBytes(),void 0,u,Me.QR_CODE,void 0),h=l.getByteSegments();null!==h&&d.putMetadata(Ye.BYTE_SEGMENTS,h);const g=l.getECLevel();return null!==g&&d.putMetadata(Ye.ERROR_CORRECTION_LEVEL,g),l.hasStructuredAppend()&&(d.putMetadata(Ye.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),d.putMetadata(Ye.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),d}reset(){}static extractPureBits(s){const a=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(null===a||null===l)throw new X;const u=this.moduleSize(a,s);let d=a[1],h=l[1],g=a[0],_=l[0];if(g>=_||d>=h)throw new X;if(h-d!=_-g&&(_=g+(h-d),_>=s.getWidth()))throw new X;const v=Math.round((_-g+1)/u),C=Math.round((h-d+1)/u);if(v<=0||C<=0)throw new X;if(C!==v)throw new X;const x=Math.floor(u/2);d+=x,g+=x;const T=g+Math.floor((v-1)*u)-_;if(T>0){if(T>x)throw new X;g-=T}const R=d+Math.floor((C-1)*u)-h;if(R>0){if(R>x)throw new X;d-=R}const k=new Yn(v,C);for(let L=0;L<C;L++){const H=d+Math.floor(L*u);for(let W=0;W<v;W++)s.get(g+Math.floor(W*u),H)&&k.set(W,L)}return k}static moduleSize(s,a){const l=a.getHeight(),u=a.getWidth();let d=s[0],h=s[1],g=!0,_=0;for(;d<u&&h<l;){if(g!==a.get(d,h)){if(5==++_)break;g=!g}d++,h++}if(d===u||h===l)throw new X;return(d-s[0])/7}}Pn.NO_POINTS=new Array;class de{PDF417Common(){}static getBitCountSum(s){return vt.sum(s)}static toIntArray(s){if(null==s||!s.length)return de.EMPTY_INT_ARRAY;const a=new Int32Array(s.length);let l=0;for(const u of s)a[l++]=u;return a}static getCodeword(s){const a=kn.binarySearch(de.SYMBOL_TABLE,262143&s);return a<0?-1:(de.CODEWORD_TABLE[a]-1)%de.NUMBER_OF_CODEWORDS}}de.NUMBER_OF_CODEWORDS=929,de.MAX_CODEWORDS_IN_BARCODE=de.NUMBER_OF_CODEWORDS-1,de.MIN_ROWS_IN_BARCODE=3,de.MAX_ROWS_IN_BARCODE=90,de.MODULES_IN_CODEWORD=17,de.MODULES_IN_STOP_PATTERN=18,de.BARS_IN_MODULE=8,de.EMPTY_INT_ARRAY=new Int32Array([]),de.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),de.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class b_{constructor(s,a){this.bits=s,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class rt{static detectMultiple(s,a,l){let u=s.getBlackMatrix(),d=rt.detect(l,u);return d.length||(u=u.clone(),u.rotate180(),d=rt.detect(l,u)),new b_(u,d)}static detect(s,a){const l=new Array;let u=0,d=0,h=!1;for(;u<a.getHeight();){const g=rt.findVertices(a,u,d);if(null!=g[0]||null!=g[3]){if(h=!0,l.push(g),!s)break;null!=g[2]?(d=Math.trunc(g[2].getX()),u=Math.trunc(g[2].getY())):(d=Math.trunc(g[4].getX()),u=Math.trunc(g[4].getY()))}else{if(!h)break;h=!1,d=0;for(const _ of l)null!=_[1]&&(u=Math.trunc(Math.max(u,_[1].getY()))),null!=_[3]&&(u=Math.max(u,Math.trunc(_[3].getY())));u+=rt.ROW_STEP}}return l}static findVertices(s,a,l){const u=s.getHeight(),d=s.getWidth(),h=new Array(8);return rt.copyToResult(h,rt.findRowsWithPattern(s,u,d,a,l,rt.START_PATTERN),rt.INDEXES_START_PATTERN),null!=h[4]&&(l=Math.trunc(h[4].getX()),a=Math.trunc(h[4].getY())),rt.copyToResult(h,rt.findRowsWithPattern(s,u,d,a,l,rt.STOP_PATTERN),rt.INDEXES_STOP_PATTERN),h}static copyToResult(s,a,l){for(let u=0;u<l.length;u++)s[l[u]]=a[u]}static findRowsWithPattern(s,a,l,u,d,h){const g=new Array(4);let _=!1;const v=new Int32Array(h.length);for(;u<a;u+=rt.ROW_STEP){let x=rt.findGuardPattern(s,d,u,l,!1,h,v);if(null!=x){for(;u>0;){const T=rt.findGuardPattern(s,d,--u,l,!1,h,v);if(null==T){u++;break}x=T}g[0]=new De(x[0],u),g[1]=new De(x[1],u),_=!0;break}}let C=u+1;if(_){let x=0,T=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;C<a;C++){const R=rt.findGuardPattern(s,T[0],C,l,!1,h,v);if(null!=R&&Math.abs(T[0]-R[0])<rt.MAX_PATTERN_DRIFT&&Math.abs(T[1]-R[1])<rt.MAX_PATTERN_DRIFT)T=R,x=0;else{if(x>rt.SKIPPED_ROW_COUNT_MAX)break;x++}}C-=x+1,g[2]=new De(T[0],C),g[3]=new De(T[1],C)}return C-u<rt.BARCODE_MIN_HEIGHT&&kn.fill(g,null),g}static findGuardPattern(s,a,l,u,d,h,g){kn.fillWithin(g,0,g.length,0);let _=a,v=0;for(;s.get(_,l)&&_>0&&v++<rt.MAX_PIXEL_DRIFT;)_--;let C=_,x=0,T=h.length;for(let R=d;C<u;C++)if(s.get(C,l)!==R)g[x]++;else{if(x===T-1){if(rt.patternMatchVariance(g,h,rt.MAX_INDIVIDUAL_VARIANCE)<rt.MAX_AVG_VARIANCE)return new Int32Array([_,C]);_+=g[0]+g[1],zt.arraycopy(g,2,g,0,x-1),g[x-1]=0,g[x]=0,x--}else x++;g[x]=1,R=!R}return x===T-1&&rt.patternMatchVariance(g,h,rt.MAX_INDIVIDUAL_VARIANCE)<rt.MAX_AVG_VARIANCE?new Int32Array([_,C-1]):null}static patternMatchVariance(s,a,l){let u=s.length,d=0,h=0;for(let v=0;v<u;v++)d+=s[v],h+=a[v];if(d<h)return 1/0;let g=d/h;l*=g;let _=0;for(let v=0;v<u;v++){let C=s[v],x=a[v]*g,T=C>x?C-x:x-C;if(T>l)return 1/0;_+=T}return _/d}}rt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),rt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),rt.MAX_AVG_VARIANCE=.42,rt.MAX_INDIVIDUAL_VARIANCE=.8,rt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),rt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),rt.MAX_PIXEL_DRIFT=3,rt.MAX_PATTERN_DRIFT=5,rt.SKIPPED_ROW_COUNT_MAX=25,rt.ROW_STEP=5,rt.BARCODE_MIN_HEIGHT=10;class mr{constructor(s,a){if(0===a.length)throw new be;this.field=s;let l=a.length;if(l>1&&0===a[0]){let u=1;for(;u<l&&0===a[u];)u++;u===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-u),zt.arraycopy(a,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(0===s)return this.getCoefficient(0);if(1===s){let u=0;for(let d of this.coefficients)u=this.field.add(u,d);return u}let a=this.coefficients[0],l=this.coefficients.length;for(let u=1;u<l;u++)a=this.field.add(this.field.multiply(s,a),this.coefficients[u]);return a}add(s){if(!this.field.equals(s.field))throw new be("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let a=this.coefficients,l=s.coefficients;if(a.length>l.length){let h=a;a=l,l=h}let u=new Int32Array(l.length),d=l.length-a.length;zt.arraycopy(l,0,u,0,d);for(let h=d;h<l.length;h++)u[h]=this.field.add(a[h-d],l[h]);return new mr(this.field,u)}subtract(s){if(!this.field.equals(s.field))throw new be("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof mr?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new be("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new mr(this.field,new Int32Array([0]));let a=this.coefficients,l=a.length,u=s.coefficients,d=u.length,h=new Int32Array(l+d-1);for(let g=0;g<l;g++){let _=a[g];for(let v=0;v<d;v++)h[g+v]=this.field.add(h[g+v],this.field.multiply(_,u[v]))}return new mr(this.field,h)}negative(){let s=this.coefficients.length,a=new Int32Array(s);for(let l=0;l<s;l++)a[l]=this.field.subtract(0,this.coefficients[l]);return new mr(this.field,a)}multiplyScalar(s){if(0===s)return new mr(this.field,new Int32Array([0]));if(1===s)return this;let a=this.coefficients.length,l=new Int32Array(a);for(let u=0;u<a;u++)l[u]=this.field.multiply(this.coefficients[u],s);return new mr(this.field,l)}multiplyByMonomial(s,a){if(s<0)throw new be;if(0===a)return new mr(this.field,new Int32Array([0]));let l=this.coefficients.length,u=new Int32Array(l+s);for(let d=0;d<l;d++)u[d]=this.field.multiply(this.coefficients[d],a);return new mr(this.field,u)}toString(){let s=new Tt;for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);0!==l&&(l<0?(s.append(" - "),l=-l):s.length()>0&&s.append(" + "),(0===a||1!==l)&&s.append(l),0!==a&&(1===a?s.append("x"):(s.append("x^"),s.append(a))))}return s.toString()}}class bd extends class ie{add(s,a){return(s+a)%this.modulus}subtract(s,a){return(this.modulus+s-a)%this.modulus}exp(s){return this.expTable[s]}log(s){if(0===s)throw new be;return this.logTable[s]}inverse(s){if(0===s)throw new cd;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,a){return 0===s||0===a?0:this.expTable[(this.logTable[s]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}{constructor(s,a){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let l=1;for(let u=0;u<s;u++)this.expTable[u]=l,l=l*a%s;for(let u=0;u<s-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new mr(this,new Int32Array([0])),this.one=new mr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,a){if(s<0)throw new be;if(0===a)return this.zero;let l=new Int32Array(s+1);return l[0]=a,new mr(this,l)}}bd.PDF417_GF=new bd(de.NUMBER_OF_CODEWORDS,3);class ft{constructor(){this.field=bd.PDF417_GF}decode(s,a,l){let u=new mr(this.field,s),d=new Int32Array(a),h=!1;for(let k=a;k>0;k--){let L=u.evaluateAt(this.field.exp(k));d[a-k]=L,0!==L&&(h=!0)}if(!h)return 0;let g=this.field.getOne();if(null!=l)for(const k of l){let L=this.field.exp(s.length-1-k),H=new mr(this.field,new Int32Array([this.field.subtract(0,L),1]));g=g.multiply(H)}let _=new mr(this.field,d),v=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),_,a),C=v[0],x=v[1],T=this.findErrorLocations(C),R=this.findErrorMagnitudes(x,C,T);for(let k=0;k<T.length;k++){let L=s.length-1-this.field.log(T[k]);if(L<0)throw Un.getChecksumInstance();s[L]=this.field.subtract(s[L],R[k])}return T.length}runEuclideanAlgorithm(s,a,l){if(s.getDegree()<a.getDegree()){let T=s;s=a,a=T}let u=s,d=a,h=this.field.getZero(),g=this.field.getOne();for(;d.getDegree()>=Math.round(l/2);){let T=u,R=h;if(u=d,h=g,u.isZero())throw Un.getChecksumInstance();d=T;let k=this.field.getZero(),L=u.getCoefficient(u.getDegree()),H=this.field.inverse(L);for(;d.getDegree()>=u.getDegree()&&!d.isZero();){let W=d.getDegree()-u.getDegree(),re=this.field.multiply(d.getCoefficient(d.getDegree()),H);k=k.add(this.field.buildMonomial(W,re)),d=d.subtract(u.multiplyByMonomial(W,re))}g=k.multiply(h).subtract(R).negative()}let _=g.getCoefficient(0);if(0===_)throw Un.getChecksumInstance();let v=this.field.inverse(_);return[g.multiply(v),d.multiply(v)]}findErrorLocations(s){let a=s.getDegree(),l=new Int32Array(a),u=0;for(let d=1;d<this.field.getSize()&&u<a;d++)0===s.evaluateAt(d)&&(l[u]=this.field.inverse(d),u++);if(u!==a)throw Un.getChecksumInstance();return l}findErrorMagnitudes(s,a,l){let u=a.getDegree(),d=new Int32Array(u);for(let v=1;v<=u;v++)d[u-v]=this.field.multiply(v,a.getCoefficient(v));let h=new mr(this.field,d),g=l.length,_=new Int32Array(g);for(let v=0;v<g;v++){let C=this.field.inverse(l[v]),x=this.field.subtract(0,s.evaluateAt(C)),T=this.field.inverse(h.evaluateAt(C));_[v]=this.field.multiply(x,T)}return _}}class Fi{constructor(s,a,l,u,d){s instanceof Fi?this.constructor_2(s):this.constructor_1(s,a,l,u,d)}constructor_1(s,a,l,u,d){const h=null==a||null==l,g=null==u||null==d;if(h&&g)throw new X;h?(a=new De(0,u.getY()),l=new De(0,d.getY())):g&&(u=new De(s.getWidth()-1,a.getY()),d=new De(s.getWidth()-1,l.getY())),this.image=s,this.topLeft=a,this.bottomLeft=l,this.topRight=u,this.bottomRight=d,this.minX=Math.trunc(Math.min(a.getX(),l.getX())),this.maxX=Math.trunc(Math.max(u.getX(),d.getX())),this.minY=Math.trunc(Math.min(a.getY(),u.getY())),this.maxY=Math.trunc(Math.max(l.getY(),d.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,a){return null==s?a:null==a?s:new Fi(s.image,s.topLeft,s.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(s,a,l){let u=this.topLeft,d=this.bottomLeft,h=this.topRight,g=this.bottomRight;if(s>0){let _=l?this.topLeft:this.topRight,v=Math.trunc(_.getY()-s);v<0&&(v=0);let C=new De(_.getX(),v);l?u=C:h=C}if(a>0){let _=l?this.bottomLeft:this.bottomRight,v=Math.trunc(_.getY()+a);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let C=new De(_.getX(),v);l?d=C:g=C}return new Fi(this.image,u,d,h,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class vp{constructor(s,a,l,u){this.columnCount=s,this.errorCorrectionLevel=u,this.rowCountUpperPart=a,this.rowCountLowerPart=l,this.rowCount=a+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ws{constructor(){this.buffer=""}static form(s,a){let l=-1;return s.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function u(h,g,_,v,C,x){if("%%"===h)return"%";if(void 0===a[++l])return;h=v?parseInt(v.substr(1)):void 0;let R,T=C?parseInt(C.substr(1)):void 0;switch(x){case"s":R=a[l];break;case"c":R=a[l][0];break;case"f":R=parseFloat(a[l]).toFixed(h);break;case"p":R=parseFloat(a[l]).toPrecision(h);break;case"e":R=parseFloat(a[l]).toExponential(h);break;case"x":R=parseInt(a[l]).toString(T||16);break;case"d":R=parseFloat(parseInt(a[l],T||10).toPrecision(h)).toFixed(0)}R="object"==typeof R?JSON.stringify(R):(+R).toString(T);let k=parseInt(_),L=_&&_[0]+""=="0"?"0":" ";for(;R.length<k;)R=void 0!==g?R+L:L+R;return R})}format(s,...a){this.buffer+=ws.form(s,a)}toString(){return this.buffer}}let Cd=(()=>{class b{constructor(a){this.boundingBox=new Fi(a),this.codewords=new Array(a.getMaxY()-a.getMinY()+1)}getCodewordNearby(a){let l=this.getCodeword(a);if(null!=l)return l;for(let u=1;u<b.MAX_NEARBY_DISTANCE;u++){let d=this.imageRowToCodewordIndex(a)-u;if(d>=0&&(l=this.codewords[d],null!=l)||(d=this.imageRowToCodewordIndex(a)+u,d<this.codewords.length&&(l=this.codewords[d],null!=l)))return l}return null}imageRowToCodewordIndex(a){return a-this.boundingBox.getMinY()}setCodeword(a,l){this.codewords[this.imageRowToCodewordIndex(a)]=l}getCodeword(a){return this.codewords[this.imageRowToCodewordIndex(a)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const a=new ws;let l=0;for(const u of this.codewords)null!=u?a.format("%3d: %3d|%3d%n",l++,u.getRowNumber(),u.getValue()):a.format("%3d:    |   %n",l++);return a.toString()}}return b.MAX_NEARBY_DISTANCE=5,b})();class oa{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let a=this.values.get(s);null==a&&(a=0),a++,this.values.set(s,a)}getValue(){let s=-1,a=new Array;for(const[l,u]of this.values.entries()){const d={getKey:()=>l,getValue:()=>u};d.getValue()>s?(s=d.getValue(),a=[],a.push(d.getKey())):d.getValue()===s&&a.push(d.getKey())}return de.toIntArray(a)}getConfidence(s){return this.values.get(s)}}class gc extends Cd{constructor(s,a){super(s),this._isLeft=a}setRowNumbers(){for(let s of this.getCodewords())s?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,s);let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),d=this._isLeft?l.getBottomLeft():l.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(u.getY())),g=this.imageRowToCodewordIndex(Math.trunc(d.getY())),_=-1,v=1,C=0;for(let x=h;x<g;x++){if(null==a[x])continue;let T=a[x],R=T.getRowNumber()-_;if(0===R)C++;else if(1===R)v=Math.max(v,C),C=1,_=T.getRowNumber();else if(R<0||T.getRowNumber()>=s.getRowCount()||R>x)a[x]=null;else{let k;k=v>2?(v-2)*R:R;let L=k>=x;for(let H=1;H<=k&&!L;H++)L=null!=a[x-H];L?a[x]=null:(_=T.getRowNumber(),C=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(null==s)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let a=new Int32Array(s.getRowCount());for(let l of this.getCodewords())if(null!=l){let u=l.getRowNumber();if(u>=a.length)continue;a[u]++}return a}adjustIncompleteIndicatorColumnRowNumbers(s){let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),u=this._isLeft?a.getBottomLeft():a.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.imageRowToCodewordIndex(Math.trunc(u.getY())),g=this.getCodewords(),_=-1;for(let v=d;v<h;v++){if(null==g[v])continue;let C=g[v];C.setRowNumberAsRowIndicatorColumn();let x=C.getRowNumber()-_;0===x||(1===x?_=C.getRowNumber():C.getRowNumber()>=s.getRowCount()?g[v]=null:_=C.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),a=new oa,l=new oa,u=new oa,d=new oa;for(let g of s){if(null==g)continue;g.setRowNumberAsRowIndicatorColumn();let _=g.getValue()%30,v=g.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:l.setValue(3*_+1);break;case 1:d.setValue(_/3),u.setValue(_%3);break;case 2:a.setValue(_+1)}}if(0===a.getValue().length||0===l.getValue().length||0===u.getValue().length||0===d.getValue().length||a.getValue()[0]<1||l.getValue()[0]+u.getValue()[0]<de.MIN_ROWS_IN_BARCODE||l.getValue()[0]+u.getValue()[0]>de.MAX_ROWS_IN_BARCODE)return null;let h=new vp(a.getValue()[0],l.getValue()[0],u.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(s,h),h}removeIncorrectCodewords(s,a){for(let l=0;l<s.length;l++){let u=s[l];if(null==s[l])continue;let d=u.getValue()%30,h=u.getRowNumber();if(h>a.getRowCount())s[l]=null;else switch(this._isLeft||(h+=2),h%3){case 0:3*d+1!==a.getRowCountUpperPart()&&(s[l]=null);break;case 1:(Math.trunc(d/3)!==a.getErrorCorrectionLevel()||d%3!==a.getRowCountLowerPart())&&(s[l]=null);break;case 2:d+1!==a.getColumnCount()&&(s[l]=null)}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class To{constructor(s,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let a,s=de.MAX_CODEWORDS_IN_BARCODE;do{a=s,s=this.adjustRowNumbersAndGetCount()}while(s>0&&s<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(0===s)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let l=this.detectionResultColumns[a].getCodewords();for(let u=0;u<l.length;u++)null!=l[u]&&(l[u].hasValidRowNumber()||this.adjustRowNumbers(a,u,l))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(null==this.detectionResultColumns[0]||null==this.detectionResultColumns[this.barcodeColumnCount+1])return;let s=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<s.length;l++)if(null!=s[l]&&null!=a[l]&&s[l].getRowNumber()===a[l].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let d=this.detectionResultColumns[u].getCodewords()[l];null!=d&&(d.setRowNumber(s[l].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;let s=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<a.length;l++){if(null==a[l])continue;let u=a[l].getRowNumber(),d=0;for(let h=this.barcodeColumnCount+1;h>0&&d<this.ADJUST_ROW_NUMBER_SKIP;h--){let g=this.detectionResultColumns[h].getCodewords()[l];null!=g&&(d=To.adjustRowNumberIfValid(u,d,g),g.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(null==this.detectionResultColumns[0])return 0;let s=0,a=this.detectionResultColumns[0].getCodewords();for(let l=0;l<a.length;l++){if(null==a[l])continue;let u=a[l].getRowNumber(),d=0;for(let h=1;h<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;h++){let g=this.detectionResultColumns[h].getCodewords()[l];null!=g&&(d=To.adjustRowNumberIfValid(u,d,g),g.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,a,l){return null==l||l.hasValidRowNumber()||(l.isValidRowNumber(s)?(l.setRowNumber(s),a=0):++a),a}adjustRowNumbers(s,a,l){if(!this.detectionResultColumns[s-1])return;let u=l[a],d=this.detectionResultColumns[s-1].getCodewords(),h=d;null!=this.detectionResultColumns[s+1]&&(h=this.detectionResultColumns[s+1].getCodewords());let g=new Array(14);g[2]=d[a],g[3]=h[a],a>0&&(g[0]=l[a-1],g[4]=d[a-1],g[5]=h[a-1]),a>1&&(g[8]=l[a-2],g[10]=d[a-2],g[11]=h[a-2]),a<l.length-1&&(g[1]=l[a+1],g[6]=d[a+1],g[7]=h[a+1]),a<l.length-2&&(g[9]=l[a+2],g[12]=d[a+2],g[13]=h[a+2]);for(let _ of g)if(To.adjustRowNumber(u,_))return}static adjustRowNumber(s,a){return!(null==a||!a.hasValidRowNumber()||a.getBucket()!==s.getBucket()||(s.setRowNumber(a.getRowNumber()),0))}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,a){this.detectionResultColumns[s]=a}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];null==s&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new ws;for(let l=0;l<s.getCodewords().length;l++){a.format("CW %3d:",l);for(let u=0;u<this.barcodeColumnCount+2;u++){if(null==this.detectionResultColumns[u]){a.format("    |   ");continue}let d=this.detectionResultColumns[u].getCodewords()[l];null!=d?a.format(" %3d|%3d",d.getRowNumber(),d.getValue()):a.format("    |   ")}a.format("%n")}return a.toString()}}let mc=(()=>{class b{constructor(a,l,u,d){this.rowNumber=b.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(a),this.endX=Math.trunc(l),this.bucket=Math.trunc(u),this.value=Math.trunc(d)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(a){return a!==b.BARCODE_ROW_UNKNOWN&&this.bucket===a%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(a){this.rowNumber=a}toString(){return this.rowNumber+"|"+this.value}}return b.BARCODE_ROW_UNKNOWN=-1,b})();class Sr{static initialize(){for(let s=0;s<de.SYMBOL_TABLE.length;s++){let a=de.SYMBOL_TABLE[s],l=1&a;for(let u=0;u<de.BARS_IN_MODULE;u++){let d=0;for(;(1&a)===l;)d+=1,a>>=1;l=1&a,Sr.RATIOS_TABLE[s]||(Sr.RATIOS_TABLE[s]=new Array(de.BARS_IN_MODULE)),Sr.RATIOS_TABLE[s][de.BARS_IN_MODULE-u-1]=Math.fround(d/de.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let a=Sr.getDecodedCodewordValue(Sr.sampleBitCounts(s));return-1!==a?a:Sr.getClosestDecodedValue(s)}static sampleBitCounts(s){let a=vt.sum(s),l=new Int32Array(de.BARS_IN_MODULE),u=0,d=0;for(let h=0;h<de.MODULES_IN_CODEWORD;h++)d+s[u]<=a/(2*de.MODULES_IN_CODEWORD)+h*a/de.MODULES_IN_CODEWORD&&(d+=s[u],u++),l[u]++;return l}static getDecodedCodewordValue(s){let a=Sr.getBitValue(s);return-1===de.getCodeword(a)?-1:a}static getBitValue(s){let a=0;for(let l=0;l<s.length;l++)for(let u=0;u<s[l];u++)a=a<<1|(l%2==0?1:0);return Math.trunc(a)}static getClosestDecodedValue(s){let a=vt.sum(s),l=new Array(de.BARS_IN_MODULE);if(a>1)for(let h=0;h<l.length;h++)l[h]=Math.fround(s[h]/a);let u=Js.MAX_VALUE,d=-1;this.bSymbolTableReady||Sr.initialize();for(let h=0;h<Sr.RATIOS_TABLE.length;h++){let g=0,_=Sr.RATIOS_TABLE[h];for(let v=0;v<de.BARS_IN_MODULE;v++){let C=Math.fround(_[v]-l[v]);if(g+=Math.fround(C*C),g>=u)break}g<u&&(u=g,d=de.SYMBOL_TABLE[h])}return d}}Sr.bSymbolTableReady=!1,Sr.RATIOS_TABLE=new Array(de.SYMBOL_TABLE.length).map(b=>new Array(de.BARS_IN_MODULE));class wd{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class Le{static parseLong(s,a){return parseInt(s,a)}}let _c=(()=>{class b extends pr{}return b.kind="NullPointerException",b})();class ui extends pr{}class Dd extends class yp{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,a,l){if(null==s)throw new _c;if(a<0||a>s.length||l<0||a+l>s.length||a+l<0)throw new sc;if(0!==l)for(let u=0;u<l;u++)this.write(s[a+u])}flush(){}close(){}}{constructor(s=32){if(super(),this.count=0,s<0)throw new be("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let l=this.buf.length<<1;if(l-s<0&&(l=s),l<0){if(s<0)throw new ui;l=$e.MAX_VALUE}this.buf=kn.copyOfUint8Array(this.buf,l)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,a,l){if(a<0||a>s.length||l<0||a+l-s.length>0)throw new sc;this.ensureCapacity(this.count+l),zt.arraycopy(s,a,this.buf,this.count,l),this.count+=l}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return kn.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?"string"==typeof s?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var Vt=(()=>{return(b=Vt||(Vt={}))[b.ALPHA=0]="ALPHA",b[b.LOWER=1]="LOWER",b[b.MIXED=2]="MIXED",b[b.PUNCT=3]="PUNCT",b[b.ALPHA_SHIFT=4]="ALPHA_SHIFT",b[b.PUNCT_SHIFT=5]="PUNCT_SHIFT",Vt;var b})();function no(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Lr;function qo(b){if(typeof Lr>"u"&&(Lr=no()),null===Lr)throw new Error("BigInt is not supported!");return Lr(b)}class ${static decode(s,a){let l=new Tt(""),u=le.ISO8859_1;l.enableDecoding(u);let d=1,h=s[d++],g=new wd;for(;d<s[0];){switch(h){case $.TEXT_COMPACTION_MODE_LATCH:d=$.textCompaction(s,d,l);break;case $.BYTE_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:d=$.byteCompaction(h,s,u,d,l);break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[d++]);break;case $.NUMERIC_COMPACTION_MODE_LATCH:d=$.numericCompaction(s,d,l);break;case $.ECI_CHARSET:le.getCharacterSetECIByValue(s[d++]);break;case $.ECI_GENERAL_PURPOSE:d+=2;break;case $.ECI_USER_DEFINED:d++;break;case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=$.decodeMacroBlock(s,d,g);break;case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:throw new ue;default:d--,d=$.textCompaction(s,d,l)}if(!(d<s.length))throw ue.getFormatInstance();h=s[d++]}if(0===l.length())throw ue.getFormatInstance();let _=new Ks(null,l.toString(),null,a);return _.setOther(g),_}static decodeMacroBlock(s,a,l){if(a+$.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw ue.getFormatInstance();let u=new Int32Array($.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<$.NUMBER_OF_SEQUENCE_CODEWORDS;g++,a++)u[g]=s[a];l.setSegmentIndex($e.parseInt($.decodeBase900toBase10(u,$.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new Tt;a=$.textCompaction(s,a,d),l.setFileId(d.toString());let h=-1;for(s[a]===$.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=a+1);a<s[0];)switch(s[a]){case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s[++a]){case $.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new Tt;a=$.textCompaction(s,a+1,g),l.setFileName(g.toString());break;case $.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let _=new Tt;a=$.textCompaction(s,a+1,_),l.setSender(_.toString());break;case $.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new Tt;a=$.textCompaction(s,a+1,v),l.setAddressee(v.toString());break;case $.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new Tt;a=$.numericCompaction(s,a+1,C),l.setSegmentCount($e.parseInt(C.toString()));break;case $.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let x=new Tt;a=$.numericCompaction(s,a+1,x),l.setTimestamp(Le.parseLong(x.toString()));break;case $.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let T=new Tt;a=$.numericCompaction(s,a+1,T),l.setChecksum($e.parseInt(T.toString()));break;case $.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let R=new Tt;a=$.numericCompaction(s,a+1,R),l.setFileSize(Le.parseLong(R.toString()));break;default:throw ue.getFormatInstance()}break;case $.MACRO_PDF417_TERMINATOR:a++,l.setLastSegment(!0);break;default:throw ue.getFormatInstance()}if(-1!==h){let g=a-h;l.isLastSegment()&&g--,l.setOptionalData(kn.copyOfRange(s,h,h+g))}return a}static textCompaction(s,a,l){let u=new Int32Array(2*(s[0]-a)),d=new Int32Array(2*(s[0]-a)),h=0,g=!1;for(;a<s[0]&&!g;){let _=s[a++];if(_<$.TEXT_COMPACTION_MODE_LATCH)u[h]=_/30,u[h+1]=_%30,h+=2;else switch(_){case $.TEXT_COMPACTION_MODE_LATCH:u[h++]=$.TEXT_COMPACTION_MODE_LATCH;break;case $.BYTE_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.NUMERIC_COMPACTION_MODE_LATCH:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:a--,g=!0;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[h]=$.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,_=s[a++],d[h]=_,h++}}return $.decodeTextCompaction(u,d,h,l),a}static decodeTextCompaction(s,a,l,u){let d=Vt.ALPHA,h=Vt.ALPHA,g=0;for(;g<l;){let _=s[g],v="";switch(d){case Vt.ALPHA:if(_<26)v=String.fromCharCode(65+_);else switch(_){case 26:v=" ";break;case $.LL:d=Vt.LOWER;break;case $.ML:d=Vt.MIXED;break;case $.PS:h=d,d=Vt.PUNCT_SHIFT;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[g]);break;case $.TEXT_COMPACTION_MODE_LATCH:d=Vt.ALPHA}break;case Vt.LOWER:if(_<26)v=String.fromCharCode(97+_);else switch(_){case 26:v=" ";break;case $.AS:h=d,d=Vt.ALPHA_SHIFT;break;case $.ML:d=Vt.MIXED;break;case $.PS:h=d,d=Vt.PUNCT_SHIFT;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[g]);break;case $.TEXT_COMPACTION_MODE_LATCH:d=Vt.ALPHA}break;case Vt.MIXED:if(_<$.PL)v=$.MIXED_CHARS[_];else switch(_){case $.PL:d=Vt.PUNCT;break;case 26:v=" ";break;case $.LL:d=Vt.LOWER;break;case $.AL:d=Vt.ALPHA;break;case $.PS:h=d,d=Vt.PUNCT_SHIFT;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[g]);break;case $.TEXT_COMPACTION_MODE_LATCH:d=Vt.ALPHA}break;case Vt.PUNCT:if(_<$.PAL)v=$.PUNCT_CHARS[_];else switch(_){case $.PAL:d=Vt.ALPHA;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[g]);break;case $.TEXT_COMPACTION_MODE_LATCH:d=Vt.ALPHA}break;case Vt.ALPHA_SHIFT:if(d=h,_<26)v=String.fromCharCode(65+_);else switch(_){case 26:v=" ";break;case $.TEXT_COMPACTION_MODE_LATCH:d=Vt.ALPHA}break;case Vt.PUNCT_SHIFT:if(d=h,_<$.PAL)v=$.PUNCT_CHARS[_];else switch(_){case $.PAL:d=Vt.ALPHA;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[g]);break;case $.TEXT_COMPACTION_MODE_LATCH:d=Vt.ALPHA}}""!==v&&u.append(v),g++}}static byteCompaction(s,a,l,u,d){let h=new Dd,g=0,_=0,v=!1;switch(s){case $.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),x=a[u++];for(;u<a[0]&&!v;)switch(C[g++]=x,_=900*_+x,x=a[u++],x){case $.TEXT_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH:case $.NUMERIC_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:u--,v=!0;break;default:if(g%5==0&&g>0){for(let T=0;T<6;++T)h.write(Number(qo(_)>>qo(8*(5-T))));_=0,g=0}}u===a[0]&&x<$.TEXT_COMPACTION_MODE_LATCH&&(C[g++]=x);for(let T=0;T<g;T++)h.write(C[T]);break;case $.BYTE_COMPACTION_MODE_LATCH_6:for(;u<a[0]&&!v;){let T=a[u++];if(T<$.TEXT_COMPACTION_MODE_LATCH)g++,_=900*_+T;else switch(T){case $.TEXT_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH:case $.NUMERIC_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:u--,v=!0}if(g%5==0&&g>0){for(let R=0;R<6;++R)h.write(Number(qo(_)>>qo(8*(5-R))));_=0,g=0}}}return d.append(rr.decode(h.toByteArray(),l)),u}static numericCompaction(s,a,l){let u=0,d=!1,h=new Int32Array($.MAX_NUMERIC_CODEWORDS);for(;a<s[0]&&!d;){let g=s[a++];if(a===s[0]&&(d=!0),g<$.TEXT_COMPACTION_MODE_LATCH)h[u]=g,u++;else switch(g){case $.TEXT_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:a--,d=!0}(u%$.MAX_NUMERIC_CODEWORDS==0||g===$.NUMERIC_COMPACTION_MODE_LATCH||d)&&u>0&&(l.append($.decodeBase900toBase10(h,u)),u=0)}return a}static decodeBase900toBase10(s,a){let l=qo(0);for(let d=0;d<a;d++)l+=$.EXP900[a-d-1]*qo(s[d]);let u=l.toString();if("1"!==u.charAt(0))throw new ue;return u.substring(1)}}$.TEXT_COMPACTION_MODE_LATCH=900,$.BYTE_COMPACTION_MODE_LATCH=901,$.NUMERIC_COMPACTION_MODE_LATCH=902,$.BYTE_COMPACTION_MODE_LATCH_6=924,$.ECI_USER_DEFINED=925,$.ECI_GENERAL_PURPOSE=926,$.ECI_CHARSET=927,$.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,$.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,$.MACRO_PDF417_TERMINATOR=922,$.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,$.MAX_NUMERIC_CODEWORDS=15,$.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,$.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,$.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,$.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,$.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,$.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,$.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,$.PL=25,$.LL=27,$.AS=27,$.ML=28,$.AL=28,$.PS=29,$.PAL=29,$.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",$.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",$.EXP900=no()?function C_(){let b=[];b[0]=qo(1);let s=qo(900);b[1]=s;for(let a=2;a<16;a++)b[a]=b[a-1]*s;return b}():[],$.NUMBER_OF_SEQUENCE_CODEWORDS=2;class we{constructor(){}static decode(s,a,l,u,d,h,g){let x,_=new Fi(s,a,l,u,d),v=null,C=null;for(let k=!0;;k=!1){if(null!=a&&(v=we.getRowIndicatorColumn(s,_,a,!0,h,g)),null!=u&&(C=we.getRowIndicatorColumn(s,_,u,!1,h,g)),x=we.merge(v,C),null==x)throw X.getNotFoundInstance();let L=x.getBoundingBox();if(!k||null==L||!(L.getMinY()<_.getMinY()||L.getMaxY()>_.getMaxY()))break;_=L}x.setBoundingBox(_);let T=x.getBarcodeColumnCount()+1;x.setDetectionResultColumn(0,v),x.setDetectionResultColumn(T,C);let R=null!=v;for(let k=1;k<=T;k++){let H,L=R?k:T-k;if(void 0!==x.getDetectionResultColumn(L))continue;H=0===L||L===T?new gc(_,0===L):new Cd(_),x.setDetectionResultColumn(L,H);let W=-1,re=W;for(let pe=_.getMinY();pe<=_.getMaxY();pe++){if(W=we.getStartColumn(x,L,pe,R),W<0||W>_.getMaxX()){if(-1===re)continue;W=re}let Q=we.detectCodeword(s,_.getMinX(),_.getMaxX(),R,W,pe,h,g);null!=Q&&(H.setCodeword(pe,Q),re=W,h=Math.min(h,Q.getWidth()),g=Math.max(g,Q.getWidth()))}}return we.createDecoderResult(x)}static merge(s,a){if(null==s&&null==a)return null;let l=we.getBarcodeMetadata(s,a);if(null==l)return null;let u=Fi.merge(we.adjustBoundingBox(s),we.adjustBoundingBox(a));return new To(l,u)}static adjustBoundingBox(s){if(null==s)return null;let a=s.getRowHeights();if(null==a)return null;let l=we.getMax(a),u=0;for(let g of a)if(u+=l-g,g>0)break;let d=s.getCodewords();for(let g=0;u>0&&null==d[g];g++)u--;let h=0;for(let g=a.length-1;g>=0&&(h+=l-a[g],!(a[g]>0));g--);for(let g=d.length-1;h>0&&null==d[g];g--)h--;return s.getBoundingBox().addMissingRows(u,h,s.isLeft())}static getMax(s){let a=-1;for(let l of s)a=Math.max(a,l);return a}static getBarcodeMetadata(s,a){let l,u;return null==s||null==(l=s.getBarcodeMetadata())?null==a?null:a.getBarcodeMetadata():null==a||null==(u=a.getBarcodeMetadata())?l:l.getColumnCount()!==u.getColumnCount()&&l.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&l.getRowCount()!==u.getRowCount()?null:l}static getRowIndicatorColumn(s,a,l,u,d,h){let g=new gc(a,u);for(let _=0;_<2;_++){let v=0===_?1:-1,C=Math.trunc(Math.trunc(l.getX()));for(let x=Math.trunc(Math.trunc(l.getY()));x<=a.getMaxY()&&x>=a.getMinY();x+=v){let T=we.detectCodeword(s,0,s.getWidth(),u,C,x,d,h);null!=T&&(g.setCodeword(x,T),C=u?T.getStartX():T.getEndX())}}return g}static adjustCodewordCount(s,a){let l=a[0][1],u=l.getValue(),d=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-we.getNumberOfECCodeWords(s.getBarcodeECLevel());if(0===u.length){if(d<1||d>de.MAX_CODEWORDS_IN_BARCODE)throw X.getNotFoundInstance();l.setValue(d)}else u[0]!==d&&l.setValue(d)}static createDecoderResult(s){let a=we.createBarcodeMatrix(s);we.adjustCodewordCount(s,a);let l=new Array,u=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),d=[],h=new Array;for(let _=0;_<s.getBarcodeRowCount();_++)for(let v=0;v<s.getBarcodeColumnCount();v++){let C=a[_][v+1].getValue(),x=_*s.getBarcodeColumnCount()+v;0===C.length?l.push(x):1===C.length?u[x]=C[0]:(h.push(x),d.push(C))}let g=new Array(d.length);for(let _=0;_<g.length;_++)g[_]=d[_];return we.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),u,de.toIntArray(l),de.toIntArray(h),g)}static createDecoderResultFromAmbiguousValues(s,a,l,u,d){let h=new Int32Array(u.length),g=100;for(;g-- >0;){for(let _=0;_<h.length;_++)a[u[_]]=d[_][h[_]];try{return we.decodeCodewords(a,s,l)}catch(_){if(!(_ instanceof Un))throw _}if(0===h.length)throw Un.getChecksumInstance();for(let _=0;_<h.length;_++){if(h[_]<d[_].length-1){h[_]++;break}if(h[_]=0,_===h.length-1)throw Un.getChecksumInstance()}}throw Un.getChecksumInstance()}static createBarcodeMatrix(s){let a=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let u=0;u<a.length;u++)for(let d=0;d<a[u].length;d++)a[u][d]=new oa;let l=0;for(let u of s.getDetectionResultColumns()){if(null!=u)for(let d of u.getCodewords())if(null!=d){let h=d.getRowNumber();if(h>=0){if(h>=a.length)continue;a[h][l].setValue(d.getValue())}}l++}return a}static isValidBarcodeColumn(s,a){return a>=0&&a<=s.getBarcodeColumnCount()+1}static getStartColumn(s,a,l,u){let d=u?1:-1,h=null;if(we.isValidBarcodeColumn(s,a-d)&&(h=s.getDetectionResultColumn(a-d).getCodeword(l)),null!=h)return u?h.getEndX():h.getStartX();if(h=s.getDetectionResultColumn(a).getCodewordNearby(l),null!=h)return u?h.getStartX():h.getEndX();if(we.isValidBarcodeColumn(s,a-d)&&(h=s.getDetectionResultColumn(a-d).getCodewordNearby(l)),null!=h)return u?h.getEndX():h.getStartX();let g=0;for(;we.isValidBarcodeColumn(s,a-d);){a-=d;for(let _ of s.getDetectionResultColumn(a).getCodewords())if(null!=_)return(u?_.getEndX():_.getStartX())+d*g*(_.getEndX()-_.getStartX());g++}return u?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,a,l,u,d,h,g,_){d=we.adjustCodewordStartColumn(s,a,l,u,d,h);let v=we.getModuleBitCount(s,a,l,u,d,h);if(null==v)return null;let C,x=vt.sum(v);if(u)C=d+x;else{for(let k=0;k<v.length/2;k++){let L=v[k];v[k]=v[v.length-1-k],v[v.length-1-k]=L}C=d,d=C-x}if(!we.checkCodewordSkew(x,g,_))return null;let T=Sr.getDecodedValue(v),R=de.getCodeword(T);return-1===R?null:new mc(d,C,we.getCodewordBucketNumber(T),R)}static getModuleBitCount(s,a,l,u,d,h){let g=d,_=new Int32Array(8),v=0,C=u?1:-1,x=u;for(;(u?g<l:g>=a)&&v<_.length;)s.get(g,h)===x?(_[v]++,g+=C):(v++,x=!x);return v===_.length||g===(u?l:a)&&v===_.length-1?_:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,a,l,u,d,h){let g=d,_=u?-1:1;for(let v=0;v<2;v++){for(;(u?g>=a:g<l)&&u===s.get(g,h);){if(Math.abs(d-g)>we.CODEWORD_SKEW_SIZE)return d;g+=_}_=-_,u=!u}return g}static checkCodewordSkew(s,a,l){return a-we.CODEWORD_SKEW_SIZE<=s&&s<=l+we.CODEWORD_SKEW_SIZE}static decodeCodewords(s,a,l){if(0===s.length)throw ue.getFormatInstance();let u=1<<a+1,d=we.correctErrors(s,l,u);we.verifyCodewordCount(s,u);let h=$.decode(s,""+a);return h.setErrorsCorrected(d),h.setErasures(l.length),h}static correctErrors(s,a,l){if(null!=a&&a.length>l/2+we.MAX_ERRORS||l<0||l>we.MAX_EC_CODEWORDS)throw Un.getChecksumInstance();return we.errorCorrection.decode(s,l,a)}static verifyCodewordCount(s,a){if(s.length<4)throw ue.getFormatInstance();let l=s[0];if(l>s.length)throw ue.getFormatInstance();if(0===l){if(!(a<s.length))throw ue.getFormatInstance();s[0]=s.length-a}}static getBitCountForCodeword(s){let a=new Int32Array(8),l=0,u=a.length-1;for(;!((1&s)!==l&&(l=1&s,u--,u<0));)a[u]++,s>>=1;return a}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return we.getCodewordBucketNumber(we.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let a=new ws;for(let l=0;l<s.length;l++){a.format("Row %2d: ",l);for(let u=0;u<s[l].length;u++){let d=s[l][u];0===d.getValue().length?a.format("        ",null):a.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}a.format("%n")}return a.toString()}}we.CODEWORD_SKEW_SIZE=2,we.MAX_ERRORS=3,we.MAX_EC_CODEWORDS=512,we.errorCorrection=new ft;class _r{decode(s,a=null){let l=_r.decode(s,a,!1);if(null==l||0===l.length||null==l[0])throw X.getNotFoundInstance();return l[0]}decodeMultiple(s,a=null){try{return _r.decode(s,a,!0)}catch(l){throw l instanceof ue||l instanceof Un?X.getNotFoundInstance():l}}static decode(s,a,l){const u=new Array,d=rt.detectMultiple(s,a,l);for(const h of d.getPoints()){const g=we.decode(d.getBits(),h[4],h[5],h[6],h[7],_r.getMinCodewordWidth(h),_r.getMaxCodewordWidth(h)),_=new je(g.getText(),g.getRawBytes(),void 0,h,Me.PDF_417);_.putMetadata(Ye.ERROR_CORRECTION_LEVEL,g.getECLevel());const v=g.getOther();null!=v&&_.putMetadata(Ye.PDF417_EXTRA_METADATA,v),u.push(_)}return u.map(h=>h)}static getMaxWidth(s,a){return null==s||null==a?0:Math.trunc(Math.abs(s.getX()-a.getX()))}static getMinWidth(s,a){return null==s||null==a?$e.MAX_VALUE:Math.trunc(Math.abs(s.getX()-a.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(_r.getMaxWidth(s[0],s[4]),_r.getMaxWidth(s[6],s[2])*de.MODULES_IN_CODEWORD/de.MODULES_IN_STOP_PATTERN),Math.max(_r.getMaxWidth(s[1],s[5]),_r.getMaxWidth(s[7],s[3])*de.MODULES_IN_CODEWORD/de.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(_r.getMinWidth(s[0],s[4]),_r.getMinWidth(s[6],s[2])*de.MODULES_IN_CODEWORD/de.MODULES_IN_STOP_PATTERN),Math.min(_r.getMinWidth(s[1],s[5]),_r.getMinWidth(s[7],s[3])*de.MODULES_IN_CODEWORD/de.MODULES_IN_STOP_PATTERN)))}reset(){}}let Ed=(()=>{class b extends pr{}return b.kind="ReaderException",b})();class Yo{constructor(s,a){this.verbose=!0===s,a&&this.setHints(a)}decode(s,a){return a&&this.setHints(a),this.decodeInternal(s)}decodeWithState(s){return null==this.readers&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const a=!st(s)&&!0===s.get(Yt.TRY_HARDER),l=st(s)?null:s.get(Yt.POSSIBLE_FORMATS),u=new Array;if(!st(l)){const d=l.some(h=>h===Me.UPC_A||h===Me.UPC_E||h===Me.EAN_13||h===Me.EAN_8||h===Me.CODABAR||h===Me.CODE_39||h===Me.CODE_93||h===Me.CODE_128||h===Me.ITF||h===Me.RSS_14||h===Me.RSS_EXPANDED);d&&!a&&u.push(new bs(s,this.verbose)),l.includes(Me.QR_CODE)&&u.push(new Pn),l.includes(Me.DATA_MATRIX)&&u.push(new Cs),l.includes(Me.AZTEC)&&u.push(new cc),l.includes(Me.PDF_417)&&u.push(new _r),d&&a&&u.push(new bs(s,this.verbose))}0===u.length&&(a||u.push(new bs(s,this.verbose)),u.push(new Pn),u.push(new Cs),u.push(new cc),u.push(new _r),a&&u.push(new bs(s,this.verbose))),this.readers=u}reset(){if(null!==this.readers)for(const s of this.readers)s.reset()}decodeInternal(s){if(null===this.readers)throw new Ed("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(s,this.hints)}catch(l){if(l instanceof Ed)continue}throw new X("No MultiFormat Readers were able to detect the code.")}}var Ds=(()=>{return(b=Ds||(Ds={}))[b.ERROR_CORRECTION=0]="ERROR_CORRECTION",b[b.CHARACTER_SET=1]="CHARACTER_SET",b[b.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",b[b.MIN_SIZE=3]="MIN_SIZE",b[b.MAX_SIZE=4]="MAX_SIZE",b[b.MARGIN=5]="MARGIN",b[b.PDF417_COMPACT=6]="PDF417_COMPACT",b[b.PDF417_COMPACTION=7]="PDF417_COMPACTION",b[b.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",b[b.AZTEC_LAYERS=9]="AZTEC_LAYERS",b[b.QR_VERSION=10]="QR_VERSION",Ds;var b})(),Ln=Ds;class vi{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new gr(s,Int32Array.from([1])))}buildGenerator(s){const a=this.cachedGenerators;if(s>=a.length){let l=a[a.length-1];const u=this.field;for(let d=a.length;d<=s;d++){const h=l.multiply(new gr(u,Int32Array.from([1,u.exp(d-1+u.getGeneratorBase())])));a.push(h),l=h}}return a[s]}encode(s,a){if(0===a)throw new be("No error correction bytes");const l=s.length-a;if(l<=0)throw new be("No data bytes provided");const u=this.buildGenerator(a),d=new Int32Array(l);zt.arraycopy(s,0,d,0,l);let h=new gr(this.field,d);h=h.multiplyByMonomial(a,1);const _=h.divide(u)[1].getCoefficients(),v=a-_.length;for(let C=0;C<v;C++)s[l+C]=0;zt.arraycopy(_,0,s,l+v,_.length)}}let ki=(()=>{class b{constructor(){}static applyMaskPenaltyRule1(a){return b.applyMaskPenaltyRule1Internal(a,!0)+b.applyMaskPenaltyRule1Internal(a,!1)}static applyMaskPenaltyRule2(a){let l=0;const u=a.getArray(),d=a.getWidth(),h=a.getHeight();for(let g=0;g<h-1;g++){const _=u[g];for(let v=0;v<d-1;v++){const C=_[v];C===_[v+1]&&C===u[g+1][v]&&C===u[g+1][v+1]&&l++}}return b.N2*l}static applyMaskPenaltyRule3(a){let l=0;const u=a.getArray(),d=a.getWidth(),h=a.getHeight();for(let g=0;g<h;g++)for(let _=0;_<d;_++){const v=u[g];_+6<d&&1===v[_]&&0===v[_+1]&&1===v[_+2]&&1===v[_+3]&&1===v[_+4]&&0===v[_+5]&&1===v[_+6]&&(b.isWhiteHorizontal(v,_-4,_)||b.isWhiteHorizontal(v,_+7,_+11))&&l++,g+6<h&&1===u[g][_]&&0===u[g+1][_]&&1===u[g+2][_]&&1===u[g+3][_]&&1===u[g+4][_]&&0===u[g+5][_]&&1===u[g+6][_]&&(b.isWhiteVertical(u,_,g-4,g)||b.isWhiteVertical(u,_,g+7,g+11))&&l++}return l*b.N3}static isWhiteHorizontal(a,l,u){l=Math.max(l,0),u=Math.min(u,a.length);for(let d=l;d<u;d++)if(1===a[d])return!1;return!0}static isWhiteVertical(a,l,u,d){u=Math.max(u,0),d=Math.min(d,a.length);for(let h=u;h<d;h++)if(1===a[h][l])return!1;return!0}static applyMaskPenaltyRule4(a){let l=0;const u=a.getArray(),d=a.getWidth(),h=a.getHeight();for(let v=0;v<h;v++){const C=u[v];for(let x=0;x<d;x++)1===C[x]&&l++}const g=a.getHeight()*a.getWidth();return Math.floor(10*Math.abs(2*l-g)/g)*b.N4}static getDataMaskBit(a,l,u){let d,h;switch(a){case 0:d=u+l&1;break;case 1:d=1&u;break;case 2:d=l%3;break;case 3:d=(u+l)%3;break;case 4:d=Math.floor(u/2)+Math.floor(l/3)&1;break;case 5:h=u*l,d=(1&h)+h%3;break;case 6:h=u*l,d=(1&h)+h%3&1;break;case 7:h=u*l,d=h%3+(u+l&1)&1;break;default:throw new be("Invalid mask pattern: "+a)}return 0===d}static applyMaskPenaltyRule1Internal(a,l){let u=0;const d=l?a.getHeight():a.getWidth(),h=l?a.getWidth():a.getHeight(),g=a.getArray();for(let _=0;_<d;_++){let v=0,C=-1;for(let x=0;x<h;x++){const T=l?g[_][x]:g[x][_];T===C?v++:(v>=5&&(u+=b.N1+(v-5)),v=1,C=T)}v>=5&&(u+=b.N1+(v-5))}return u}}return b.N1=3,b.N2=3,b.N3=40,b.N4=10,b})();class Xa{constructor(s,a){this.width=s,this.height=a;const l=new Array(a);for(let u=0;u!==a;u++)l[u]=new Uint8Array(s);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(s,a){return this.bytes[a][s]}getArray(){return this.bytes}setNumber(s,a,l){this.bytes[a][s]=l}setBoolean(s,a,l){this.bytes[a][s]=l?1:0}clear(s){for(const a of this.bytes)kn.fill(a,s)}equals(s){if(!(s instanceof Xa))return!1;const a=s;if(this.width!==a.width||this.height!==a.height)return!1;for(let l=0,u=this.height;l<u;++l){const d=this.bytes[l],h=a.bytes[l];for(let g=0,_=this.width;g<_;++g)if(d[g]!==h[g])return!1}return!0}toString(){const s=new Tt;for(let a=0,l=this.height;a<l;++a){const u=this.bytes[a];for(let d=0,h=this.width;d<h;++d)switch(u[d]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ")}s.append("\n")}return s.toString()}}let fe=(()=>{class b{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const a=new Tt;return a.append("<<\n"),a.append(" mode: "),a.append(this.mode?this.mode.toString():"null"),a.append("\n ecLevel: "),a.append(this.ecLevel?this.ecLevel.toString():"null"),a.append("\n version: "),a.append(this.version?this.version.toString():"null"),a.append("\n maskPattern: "),a.append(this.maskPattern.toString()),this.matrix?(a.append("\n matrix:\n"),a.append(this.matrix.toString())):a.append("\n matrix: null\n"),a.append(">>\n"),a.toString()}setMode(a){this.mode=a}setECLevel(a){this.ecLevel=a}setVersion(a){this.version=a}setMaskPattern(a){this.maskPattern=a}setMatrix(a){this.matrix=a}static isValidMaskPattern(a){return a>=0&&a<b.NUM_MASK_PATTERNS}}return b.NUM_MASK_PATTERNS=8,b})(),Qt=(()=>{class b extends pr{}return b.kind="WriterException",b})();class Re{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,a,l,u,d){Re.clearMatrix(d),Re.embedBasicPatterns(l,d),Re.embedTypeInfo(a,u,d),Re.maybeEmbedVersionInfo(l,d),Re.embedDataBits(s,u,d)}static embedBasicPatterns(s,a){Re.embedPositionDetectionPatternsAndSeparators(a),Re.embedDarkDotAtLeftBottomCorner(a),Re.maybeEmbedPositionAdjustmentPatterns(s,a),Re.embedTimingPatterns(a)}static embedTypeInfo(s,a,l){const u=new $t;Re.makeTypeInfoBits(s,a,u);for(let d=0,h=u.getSize();d<h;++d){const g=u.get(u.getSize()-1-d),_=Re.TYPE_INFO_COORDINATES[d];if(l.setBoolean(_[0],_[1],g),d<8){const x=l.getWidth()-d-1;l.setBoolean(x,8,g)}else{const T=l.getHeight()-7+(d-8);l.setBoolean(8,T,g)}}}static maybeEmbedVersionInfo(s,a){if(s.getVersionNumber()<7)return;const l=new $t;Re.makeVersionInfoBits(s,l);let u=17;for(let d=0;d<6;++d)for(let h=0;h<3;++h){const g=l.get(u);u--,a.setBoolean(d,a.getHeight()-11+h,g),a.setBoolean(a.getHeight()-11+h,d,g)}}static embedDataBits(s,a,l){let u=0,d=-1,h=l.getWidth()-1,g=l.getHeight()-1;for(;h>0;){for(6===h&&(h-=1);g>=0&&g<l.getHeight();){for(let _=0;_<2;++_){const v=h-_;if(!Re.isEmpty(l.get(v,g)))continue;let C;u<s.getSize()?(C=s.get(u),++u):C=!1,255!==a&&ki.getDataMaskBit(a,v,g)&&(C=!C),l.setBoolean(v,g,C)}g+=d}d=-d,g+=d,h-=2}if(u!==s.getSize())throw new Qt("Not all bits consumed: "+u+"/"+s.getSize())}static findMSBSet(s){return 32-$e.numberOfLeadingZeros(s)}static calculateBCHCode(s,a){if(0===a)throw new be("0 polynomial");const l=Re.findMSBSet(a);for(s<<=l-1;Re.findMSBSet(s)>=l;)s^=a<<Re.findMSBSet(s)-l;return s}static makeTypeInfoBits(s,a,l){if(!fe.isValidMaskPattern(a))throw new Qt("Invalid mask pattern");const u=s.getBits()<<3|a;l.appendBits(u,5);const d=Re.calculateBCHCode(u,Re.TYPE_INFO_POLY);l.appendBits(d,10);const h=new $t;if(h.appendBits(Re.TYPE_INFO_MASK_PATTERN,15),l.xor(h),15!==l.getSize())throw new Qt("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(s,a){a.appendBits(s.getVersionNumber(),6);const l=Re.calculateBCHCode(s.getVersionNumber(),Re.VERSION_INFO_POLY);if(a.appendBits(l,12),18!==a.getSize())throw new Qt("should not happen but we got: "+a.getSize())}static isEmpty(s){return 255===s}static embedTimingPatterns(s){for(let a=8;a<s.getWidth()-8;++a){const l=(a+1)%2;Re.isEmpty(s.get(a,6))&&s.setNumber(a,6,l),Re.isEmpty(s.get(6,a))&&s.setNumber(6,a,l)}}static embedDarkDotAtLeftBottomCorner(s){if(0===s.get(8,s.getHeight()-8))throw new Qt;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,a,l){for(let u=0;u<8;++u){if(!Re.isEmpty(l.get(s+u,a)))throw new Qt;l.setNumber(s+u,a,0)}}static embedVerticalSeparationPattern(s,a,l){for(let u=0;u<7;++u){if(!Re.isEmpty(l.get(s,a+u)))throw new Qt;l.setNumber(s,a+u,0)}}static embedPositionAdjustmentPattern(s,a,l){for(let u=0;u<5;++u){const d=Re.POSITION_ADJUSTMENT_PATTERN[u];for(let h=0;h<5;++h)l.setNumber(s+h,a+u,d[h])}}static embedPositionDetectionPattern(s,a,l){for(let u=0;u<7;++u){const d=Re.POSITION_DETECTION_PATTERN[u];for(let h=0;h<7;++h)l.setNumber(s+h,a+u,d[h])}}static embedPositionDetectionPatternsAndSeparators(s){const a=Re.POSITION_DETECTION_PATTERN[0].length;Re.embedPositionDetectionPattern(0,0,s),Re.embedPositionDetectionPattern(s.getWidth()-a,0,s),Re.embedPositionDetectionPattern(0,s.getWidth()-a,s);Re.embedHorizontalSeparationPattern(0,7,s),Re.embedHorizontalSeparationPattern(s.getWidth()-8,7,s),Re.embedHorizontalSeparationPattern(0,s.getWidth()-8,s);Re.embedVerticalSeparationPattern(7,0,s),Re.embedVerticalSeparationPattern(s.getHeight()-7-1,0,s),Re.embedVerticalSeparationPattern(7,s.getHeight()-7,s)}static maybeEmbedPositionAdjustmentPatterns(s,a){if(s.getVersionNumber()<2)return;const l=s.getVersionNumber()-1,u=Re.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let d=0,h=u.length;d!==h;d++){const g=u[d];if(g>=0)for(let _=0;_!==h;_++){const v=u[_];v>=0&&Re.isEmpty(a.get(v,g))&&Re.embedPositionAdjustmentPattern(v-2,g-2,a)}}}}Re.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Re.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Re.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Re.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Re.VERSION_INFO_POLY=7973,Re.TYPE_INFO_POLY=1335,Re.TYPE_INFO_MASK_PATTERN=21522;class xd{constructor(s,a){this.dataBytes=s,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Te{constructor(){}static calculateMaskPenalty(s){return ki.applyMaskPenaltyRule1(s)+ki.applyMaskPenaltyRule2(s)+ki.applyMaskPenaltyRule3(s)+ki.applyMaskPenaltyRule4(s)}static encode(s,a,l=null){let u=Te.DEFAULT_BYTE_MODE_ENCODING;const d=null!==l&&void 0!==l.get(Ln.CHARACTER_SET);d&&(u=l.get(Ln.CHARACTER_SET).toString());const h=this.chooseMode(s,u),g=new $t;if(h===Oe.BYTE&&(d||Te.DEFAULT_BYTE_MODE_ENCODING!==u)){const pe=le.getCharacterSetECIByName(u);void 0!==pe&&this.appendECI(pe,g)}this.appendModeInfo(h,g);const _=new $t;let v;if(this.appendBytes(s,h,_,u),null!==l&&void 0!==l.get(Ln.QR_VERSION)){const pe=Number.parseInt(l.get(Ln.QR_VERSION).toString(),10);v=Ne.getVersionForNumber(pe);const Q=this.calculateBitsNeeded(h,g,_,v);if(!this.willFit(Q,v,a))throw new Qt("Data too big for requested version")}else v=this.recommendVersion(a,h,g,_);const C=new $t;C.appendBitArray(g);const x=h===Oe.BYTE?_.getSizeInBytes():s.length;this.appendLengthInfo(x,v,h,C),C.appendBitArray(_);const T=v.getECBlocksForLevel(a),R=v.getTotalCodewords()-T.getTotalECCodewords();this.terminateBits(R,C);const k=this.interleaveWithECBytes(C,v.getTotalCodewords(),R,T.getNumBlocks()),L=new fe;L.setECLevel(a),L.setMode(h),L.setVersion(v);const H=v.getDimensionForVersion(),W=new Xa(H,H),re=this.chooseMaskPattern(k,a,v,W);return L.setMaskPattern(re),Re.buildMatrix(k,a,v,re,W),L.setMatrix(W),L}static recommendVersion(s,a,l,u){const d=this.calculateBitsNeeded(a,l,u,Ne.getVersionForNumber(1)),h=this.chooseVersion(d,s),g=this.calculateBitsNeeded(a,l,u,h);return this.chooseVersion(g,s)}static calculateBitsNeeded(s,a,l,u){return a.getSize()+s.getCharacterCountBits(u)+l.getSize()}static getAlphanumericCode(s){return s<Te.ALPHANUMERIC_TABLE.length?Te.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,a=null){if(le.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(s))return Oe.KANJI;let l=!1,u=!1;for(let d=0,h=s.length;d<h;++d){const g=s.charAt(d);if(Te.isDigit(g))l=!0;else{if(-1===this.getAlphanumericCode(g.charCodeAt(0)))return Oe.BYTE;u=!0}}return u?Oe.ALPHANUMERIC:l?Oe.NUMERIC:Oe.BYTE}static isOnlyDoubleByteKanji(s){let a;try{a=rr.encode(s,le.SJIS)}catch{return!1}const l=a.length;if(l%2!=0)return!1;for(let u=0;u<l;u+=2){const d=255&a[u];if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(s,a,l,u){let d=Number.MAX_SAFE_INTEGER,h=-1;for(let g=0;g<fe.NUM_MASK_PATTERNS;g++){Re.buildMatrix(s,a,l,g,u);let _=this.calculateMaskPenalty(u);_<d&&(d=_,h=g)}return h}static chooseVersion(s,a){for(let l=1;l<=40;l++){const u=Ne.getVersionForNumber(l);if(Te.willFit(s,u,a))return u}throw new Qt("Data too big")}static willFit(s,a,l){return a.getTotalCodewords()-a.getECBlocksForLevel(l).getTotalECCodewords()>=(s+7)/8}static terminateBits(s,a){const l=8*s;if(a.getSize()>l)throw new Qt("data bits cannot fit in the QR Code"+a.getSize()+" > "+l);for(let h=0;h<4&&a.getSize()<l;++h)a.appendBit(!1);const u=7&a.getSize();if(u>0)for(let h=u;h<8;h++)a.appendBit(!1);const d=s-a.getSizeInBytes();for(let h=0;h<d;++h)a.appendBits(0==(1&h)?236:17,8);if(a.getSize()!==l)throw new Qt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,a,l,u,d,h){if(u>=l)throw new Qt("Block ID too large");const g=s%l,_=l-g,v=Math.floor(s/l),C=v+1,x=Math.floor(a/l),T=x+1,R=v-x,k=C-T;if(R!==k)throw new Qt("EC bytes mismatch");if(l!==_+g)throw new Qt("RS blocks mismatch");if(s!==(x+R)*_+(T+k)*g)throw new Qt("Total bytes mismatch");u<_?(d[0]=x,h[0]=R):(d[0]=T,h[0]=k)}static interleaveWithECBytes(s,a,l,u){if(s.getSizeInBytes()!==l)throw new Qt("Number of bits and data bytes does not match");let d=0,h=0,g=0;const _=new Array;for(let C=0;C<u;++C){const x=new Int32Array(1),T=new Int32Array(1);Te.getNumDataBytesAndNumECBytesForBlockID(a,l,u,C,x,T);const R=x[0],k=new Uint8Array(R);s.toBytes(8*d,k,0,R);const L=Te.generateECBytes(k,T[0]);_.push(new xd(k,L)),h=Math.max(h,R),g=Math.max(g,L.length),d+=x[0]}if(l!==d)throw new Qt("Data bytes does not match offset");const v=new $t;for(let C=0;C<h;++C)for(const x of _){const T=x.getDataBytes();C<T.length&&v.appendBits(T[C],8)}for(let C=0;C<g;++C)for(const x of _){const T=x.getErrorCorrectionBytes();C<T.length&&v.appendBits(T[C],8)}if(a!==v.getSizeInBytes())throw new Qt("Interleaving error: "+a+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(s,a){const l=s.length,u=new Int32Array(l+a);for(let h=0;h<l;h++)u[h]=255&s[h];new vi(_t.QR_CODE_FIELD_256).encode(u,a);const d=new Uint8Array(a);for(let h=0;h<a;h++)d[h]=u[l+h];return d}static appendModeInfo(s,a){a.appendBits(s.getBits(),4)}static appendLengthInfo(s,a,l,u){const d=l.getCharacterCountBits(a);if(s>=1<<d)throw new Qt(s+" is bigger than "+((1<<d)-1));u.appendBits(s,d)}static appendBytes(s,a,l,u){switch(a){case Oe.NUMERIC:Te.appendNumericBytes(s,l);break;case Oe.ALPHANUMERIC:Te.appendAlphanumericBytes(s,l);break;case Oe.BYTE:Te.append8BitBytes(s,l,u);break;case Oe.KANJI:Te.appendKanjiBytes(s,l);break;default:throw new Qt("Invalid mode: "+a)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const a=Te.getDigit(s);return a>=0&&a<=9}static appendNumericBytes(s,a){const l=s.length;let u=0;for(;u<l;){const d=Te.getDigit(s.charAt(u));if(u+2<l){const h=Te.getDigit(s.charAt(u+1)),g=Te.getDigit(s.charAt(u+2));a.appendBits(100*d+10*h+g,10),u+=3}else if(u+1<l){const h=Te.getDigit(s.charAt(u+1));a.appendBits(10*d+h,7),u+=2}else a.appendBits(d,4),u++}}static appendAlphanumericBytes(s,a){const l=s.length;let u=0;for(;u<l;){const d=Te.getAlphanumericCode(s.charCodeAt(u));if(-1===d)throw new Qt;if(u+1<l){const h=Te.getAlphanumericCode(s.charCodeAt(u+1));if(-1===h)throw new Qt;a.appendBits(45*d+h,11),u+=2}else a.appendBits(d,6),u++}}static append8BitBytes(s,a,l){let u;try{u=rr.encode(s,l)}catch(d){throw new Qt(d)}for(let d=0,h=u.length;d!==h;d++)a.appendBits(u[d],8)}static appendKanjiBytes(s,a){let l;try{l=rr.encode(s,le.SJIS)}catch(d){throw new Qt(d)}const u=l.length;for(let d=0;d<u;d+=2){const _=(255&l[d])<<8&4294967295|255&l[d+1];let v=-1;if(_>=33088&&_<=40956?v=_-33088:_>=57408&&_<=60351&&(v=_-49472),-1===v)throw new Qt("Invalid byte sequence");a.appendBits(192*(v>>8)+(255&v),13)}}static appendECI(s,a){a.appendBits(Oe.ECI.getBits(),4),a.appendBits(s.getValue(),8)}}Te.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Te.DEFAULT_BYTE_MODE_ENCODING=le.UTF8.getName();let bp=(()=>{class b{write(a,l,u,d=null){if(0===a.length)throw new be("Found empty contents");if(l<0||u<0)throw new be("Requested dimensions are too small: "+l+"x"+u);let h=Bt.L,g=b.QUIET_ZONE_SIZE;null!==d&&(void 0!==d.get(Ln.ERROR_CORRECTION)&&(h=Bt.fromString(d.get(Ln.ERROR_CORRECTION).toString())),void 0!==d.get(Ln.MARGIN)&&(g=Number.parseInt(d.get(Ln.MARGIN).toString(),10)));const _=Te.encode(a,h,d);return this.renderResult(_,l,u,g)}writeToDom(a,l,u,d,h=null){"string"==typeof a&&(a=document.querySelector(a));const g=this.write(l,u,d,h);a&&a.appendChild(g)}renderResult(a,l,u,d){const h=a.getMatrix();if(null===h)throw new Co;const g=h.getWidth(),_=h.getHeight(),v=g+2*d,C=_+2*d,x=Math.max(l,v),T=Math.max(u,C),R=Math.min(Math.floor(x/v),Math.floor(T/C)),k=Math.floor((x-g*R)/2),L=Math.floor((T-_*R)/2),H=this.createSVGElement(x,T);for(let W=0,re=L;W<_;W++,re+=R)for(let pe=0,Q=k;pe<g;pe++,Q+=R)if(1===h.get(pe,W)){const lt=this.createSvgRectElement(Q,re,R,R);H.appendChild(lt)}return H}createSVGElement(a,l){const u=document.createElementNS(b.SVG_NS,"svg");return u.setAttributeNS(null,"height",a.toString()),u.setAttributeNS(null,"width",l.toString()),u}createSvgRectElement(a,l,u,d){const h=document.createElementNS(b.SVG_NS,"rect");return h.setAttributeNS(null,"x",a.toString()),h.setAttributeNS(null,"y",l.toString()),h.setAttributeNS(null,"height",u.toString()),h.setAttributeNS(null,"width",d.toString()),h.setAttributeNS(null,"fill","#000000"),h}}return b.QUIET_ZONE_SIZE=4,b.SVG_NS="http://www.w3.org/2000/svg",b})(),yc=(()=>{class b{encode(a,l,u,d,h){if(0===a.length)throw new be("Found empty contents");if(l!==Me.QR_CODE)throw new be("Can only encode QR_CODE, but got "+l);if(u<0||d<0)throw new be(`Requested dimensions are too small: ${u}x${d}`);let g=Bt.L,_=b.QUIET_ZONE_SIZE;null!==h&&(void 0!==h.get(Ln.ERROR_CORRECTION)&&(g=Bt.fromString(h.get(Ln.ERROR_CORRECTION).toString())),void 0!==h.get(Ln.MARGIN)&&(_=Number.parseInt(h.get(Ln.MARGIN).toString(),10)));const v=Te.encode(a,g,h);return b.renderResult(v,u,d,_)}static renderResult(a,l,u,d){const h=a.getMatrix();if(null===h)throw new Co;const g=h.getWidth(),_=h.getHeight(),v=g+2*d,C=_+2*d,x=Math.max(l,v),T=Math.max(u,C),R=Math.min(Math.floor(x/v),Math.floor(T/C)),k=Math.floor((x-g*R)/2),L=Math.floor((T-_*R)/2),H=new Yn(x,T);for(let W=0,re=L;W<_;W++,re+=R)for(let pe=0,Q=k;pe<g;pe++,Q+=R)1===h.get(pe,W)&&H.setRegion(Q,re,R,R);return H}}return b.QUIET_ZONE_SIZE=4,b})();let Br=(()=>{class b extends ys{constructor(a,l,u,d,h,g,_,v){if(super(g,_),this.yuvData=a,this.dataWidth=l,this.dataHeight=u,this.left=d,this.top=h,d+g>l||h+_>u)throw new be("Crop rectangle does not fit within image data.");v&&this.reverseHorizontal(g,_)}getRow(a,l){if(a<0||a>=this.getHeight())throw new be("Requested row is outside the image: "+a);const u=this.getWidth();return(null==l||l.length<u)&&(l=new Uint8ClampedArray(u)),zt.arraycopy(this.yuvData,(a+this.top)*this.dataWidth+this.left,l,0,u),l}getMatrix(){const a=this.getWidth(),l=this.getHeight();if(a===this.dataWidth&&l===this.dataHeight)return this.yuvData;const u=a*l,d=new Uint8ClampedArray(u);let h=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return zt.arraycopy(this.yuvData,h,d,0,u),d;for(let g=0;g<l;g++)zt.arraycopy(this.yuvData,h,d,g*a,a),h+=this.dataWidth;return d}isCropSupported(){return!0}crop(a,l,u,d){return new b(this.yuvData,this.dataWidth,this.dataHeight,this.left+a,this.top+l,u,d,!1)}renderThumbnail(){const a=this.getWidth()/b.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/b.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(a*l),d=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let g=0;g<l;g++){const _=g*a;for(let v=0;v<a;v++)u[_+v]=4278190080|65793*(255&d[h+v*b.THUMBNAIL_SCALE_FACTOR]);h+=this.dataWidth*b.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/b.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/b.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(a,l){const u=this.yuvData;for(let d=0,h=this.top*this.dataWidth+this.left;d<l;d++,h+=this.dataWidth){const g=h+a/2;for(let _=h,v=h+a-1;_<g;_++,v--){const C=u[_];u[_]=u[v],u[v]=C}}}invert(){return new pt(this)}}return b.THUMBNAIL_SCALE_FACTOR=2,b})();class At extends ys{constructor(s,a,l,u,d,h,g){if(super(a,l),this.dataWidth=u,this.dataHeight=d,this.left=h,this.top=g,4===s.BYTES_PER_ELEMENT){const _=a*l,v=new Uint8ClampedArray(_);for(let C=0;C<_;C++){const x=s[C];v[C]=((x>>16&255)+(x>>7&510)+(255&x))/4&255}this.luminances=v}else this.luminances=s;if(void 0===u&&(this.dataWidth=a),void 0===d&&(this.dataHeight=l),void 0===h&&(this.left=0),void 0===g&&(this.top=0),this.left+a>this.dataWidth||this.top+l>this.dataHeight)throw new be("Crop rectangle does not fit within image data.")}getRow(s,a){if(s<0||s>=this.getHeight())throw new be("Requested row is outside the image: "+s);const l=this.getWidth();return(null==a||a.length<l)&&(a=new Uint8ClampedArray(l)),zt.arraycopy(this.luminances,(s+this.top)*this.dataWidth+this.left,a,0,l),a}getMatrix(){const s=this.getWidth(),a=this.getHeight();if(s===this.dataWidth&&a===this.dataHeight)return this.luminances;const l=s*a,u=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return zt.arraycopy(this.luminances,d,u,0,l),u;for(let h=0;h<a;h++)zt.arraycopy(this.luminances,d,u,h*s,s),d+=this.dataWidth;return u}isCropSupported(){return!0}crop(s,a,l,u){return new At(this.luminances,l,u,this.dataWidth,this.dataHeight,this.left+s,this.top+a)}invert(){return new pt(this)}}class vr extends le{static forName(s){return this.getCharacterSetECIByName(s)}}class or{}or.ISO_8859_1=le.ISO8859_1;class Zo{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class Ur{static singletonList(s){return[s]}static min(s,a){return s.sort(a)[0]}}class he extends class di{constructor(s){this.previous=s}getPrevious(){return this.previous}}{constructor(s,a,l){super(s),this.value=a,this.bitCount=l}appendTo(s,a){s.appendBits(this.value,this.bitCount)}add(s,a){return new he(this,s,a)}addBinaryShift(s,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new he(this,s,a)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+$e.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class We extends he{constructor(s,a,l){super(s,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=l}appendTo(s,a){for(let l=0;l<this.binaryShiftByteCount;l++)(0===l||31===l&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):s.appendBits(0===l?Math.min(this.binaryShiftByteCount,31):this.binaryShiftByteCount-31,5)),s.appendBits(a[this.binaryShiftStart+l],8)}addBinaryShift(s,a){return new We(this,s,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function sr(b,s,a){return new he(b,s,a)}const Xo=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],et=new he(null,0,0),xs=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])];const Qa=function As(b){for(let s of b)kn.fill(s,-1);return b[0][4]=0,b[1][4]=0,b[1][0]=28,b[3][4]=0,b[2][4]=0,b[2][0]=15,b}(kn.createInt32Array(6,6));class yr{constructor(s,a,l,u){this.token=s,this.mode=a,this.binaryShiftByteCount=l,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,a){let l=this.bitCount,u=this.token;if(s!==this.mode){let h=xs[this.mode][s];u=sr(u,65535&h,h>>16),l+=h>>16}let d=2===s?4:5;return u=sr(u,a,d),new yr(u,s,0,l+d)}shiftAndAppend(s,a){let l=this.token,u=2===this.mode?4:5;return l=sr(l,Qa[this.mode][s],u),l=sr(l,a,5),new yr(l,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(s){let a=this.token,l=this.mode,u=this.bitCount;if(4===this.mode||2===this.mode){let g=xs[l][0];a=sr(a,65535&g,g>>16),u+=g>>16,l=0}let h=new yr(a,l,this.binaryShiftByteCount+1,u+(0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8));return 2078===h.binaryShiftByteCount&&(h=h.endBinaryShift(s+1)),h}endBinaryShift(s){if(0===this.binaryShiftByteCount)return this;let a=this.token;return a=function an(b,s,a){return new We(b,s,a)}(a,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new yr(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let a=this.bitCount+(xs[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?a+=yr.calculateBinaryShiftCost(s)-yr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(a+=10),a<=s.bitCount}toBitArray(s){let a=[];for(let u=this.endBinaryShift(s.length).token;null!==u;u=u.getPrevious())a.unshift(u);let l=new $t;for(const u of a)u.appendTo(l,s);return l}toString(){return ze.format("%s bits=%d bytes=%d",Xo[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}yr.INITIAL_STATE=new yr(et,0,0,0);const Qo=function br(b){const s=ze.getCharCode(" "),a=ze.getCharCode("."),l=ze.getCharCode(",");b[0][s]=1;const u=ze.getCharCode("Z"),d=ze.getCharCode("A");for(let T=d;T<=u;T++)b[0][T]=T-d+2;b[1][s]=1;const h=ze.getCharCode("z"),g=ze.getCharCode("a");for(let T=g;T<=h;T++)b[1][T]=T-g+2;b[2][s]=1;const _=ze.getCharCode("9"),v=ze.getCharCode("0");for(let T=v;T<=_;T++)b[2][T]=T-v+2;b[2][l]=12,b[2][a]=13;const C=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"];for(let T=0;T<C.length;T++)b[3][ze.getCharCode(C[T])]=T;const x=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let T=0;T<x.length;T++)ze.getCharCode(x[T])>0&&(b[4][ze.getCharCode(x[T])]=T);return b}(kn.createInt32Array(5,256));class Li{constructor(s){this.text=s}encode(){const s=ze.getCharCode(" "),a=ze.getCharCode("\n");let l=Ur.singletonList(yr.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let h,g=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case ze.getCharCode("\r"):h=g===a?2:0;break;case ze.getCharCode("."):h=g===s?3:0;break;case ze.getCharCode(","):h=g===s?4:0;break;case ze.getCharCode(":"):h=g===s?5:0;break;default:h=0}h>0?(l=Li.updateStateListForPair(l,d,h),d++):l=this.updateStateListForChar(l,d)}return Ur.min(l,(d,h)=>d.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,a){const l=[];for(let u of s)this.updateStateForChar(u,a,l);return Li.simplifyStates(l)}updateStateForChar(s,a,l){let u=255&this.text[a],d=Qo[s.getMode()][u]>0,h=null;for(let g=0;g<=4;g++){let _=Qo[g][u];if(_>0){if(null==h&&(h=s.endBinaryShift(a)),!d||g===s.getMode()||2===g){const v=h.latchAndAppend(g,_);l.push(v)}if(!d&&Qa[s.getMode()][g]>=0){const v=h.shiftAndAppend(g,_);l.push(v)}}}if(s.getBinaryShiftByteCount()>0||0===Qo[s.getMode()][u]){let g=s.addBinaryShiftChar(a);l.push(g)}}static updateStateListForPair(s,a,l){const u=[];for(let d of s)this.updateStateForPair(d,a,l,u);return this.simplifyStates(u)}static updateStateForPair(s,a,l,u){let d=s.endBinaryShift(a);if(u.push(d.latchAndAppend(4,l)),4!==s.getMode()&&u.push(d.shiftAndAppend(4,l)),3===l||4===l){let h=d.latchAndAppend(2,16-l).latchAndAppend(2,1);u.push(h)}if(s.getBinaryShiftByteCount()>0){let h=s.addBinaryShiftChar(a).addBinaryShiftChar(a+1);u.push(h)}}static simplifyStates(s){let a=[];for(const l of s){let u=!0;for(const d of a){if(d.isBetterThanOrEqualTo(l)){u=!1;break}l.isBetterThanOrEqualTo(d)&&(a=a.filter(h=>h!==d))}u&&a.push(l)}return a}}class Ze{constructor(){}static encodeBytes(s){return Ze.encode(s,Ze.DEFAULT_EC_PERCENT,Ze.DEFAULT_AZTEC_LAYERS)}static encode(s,a,l){let g,_,v,C,x,u=new Li(s).encode(),d=$e.truncDivision(u.getSize()*a,100)+11,h=u.getSize()+d;if(l!==Ze.DEFAULT_AZTEC_LAYERS){if(g=l<0,_=Math.abs(l),_>(g?Ze.MAX_NB_BITS_COMPACT:Ze.MAX_NB_BITS))throw new be(ze.format("Illegal value %s for layers",l));v=Ze.totalBitsInLayer(_,g),C=Ze.WORD_SIZE[_];let Q=v-v%C;if(x=Ze.stuffBits(u,C),x.getSize()+d>Q)throw new be("Data to large for user specified layer");if(g&&x.getSize()>64*C)throw new be("Data to large for user specified layer")}else{C=0,x=null;for(let Q=0;;Q++){if(Q>Ze.MAX_NB_BITS)throw new be("Data too large for an Aztec code");if(g=Q<=3,_=g?Q+1:Q,v=Ze.totalBitsInLayer(_,g),h>v)continue;(null==x||C!==Ze.WORD_SIZE[_])&&(C=Ze.WORD_SIZE[_],x=Ze.stuffBits(u,C));let lt=v-v%C;if(!(g&&x.getSize()>64*C)&&x.getSize()+d<=lt)break}}let W,T=Ze.generateCheckWords(x,v,C),R=x.getSize()/C,k=Ze.generateModeMessage(g,_,R),L=(g?11:14)+4*_,H=new Int32Array(L);if(g){W=L;for(let Q=0;Q<H.length;Q++)H[Q]=Q}else{W=L+1+2*$e.truncDivision($e.truncDivision(L,2)-1,15);let Q=$e.truncDivision(L,2),lt=$e.truncDivision(W,2);for(let tt=0;tt<Q;tt++){let Kr=tt+$e.truncDivision(tt,15);H[Q-tt-1]=lt-Kr-1,H[Q+tt]=lt+Kr+1}}let re=new Yn(W);for(let Q=0,lt=0;Q<_;Q++){let tt=4*(_-Q)+(g?9:12);for(let Kr=0;Kr<tt;Kr++){let Bi=2*Kr;for(let Jr=0;Jr<2;Jr++)T.get(lt+Bi+Jr)&&re.set(H[2*Q+Jr],H[2*Q+Kr]),T.get(lt+2*tt+Bi+Jr)&&re.set(H[2*Q+Kr],H[L-1-2*Q-Jr]),T.get(lt+4*tt+Bi+Jr)&&re.set(H[L-1-2*Q-Jr],H[L-1-2*Q-Kr]),T.get(lt+6*tt+Bi+Jr)&&re.set(H[L-1-2*Q-Kr],H[2*Q+Jr])}lt+=8*tt}if(Ze.drawModeMessage(re,g,W,k),g)Ze.drawBullsEye(re,$e.truncDivision(W,2),5);else{Ze.drawBullsEye(re,$e.truncDivision(W,2),7);for(let Q=0,lt=0;Q<$e.truncDivision(L,2)-1;Q+=15,lt+=16)for(let tt=1&$e.truncDivision(W,2);tt<W;tt+=2)re.set($e.truncDivision(W,2)-lt,tt),re.set($e.truncDivision(W,2)+lt,tt),re.set(tt,$e.truncDivision(W,2)-lt),re.set(tt,$e.truncDivision(W,2)+lt)}let pe=new Zo;return pe.setCompact(g),pe.setSize(W),pe.setLayers(_),pe.setCodeWords(R),pe.setMatrix(re),pe}static drawBullsEye(s,a,l){for(let u=0;u<l;u+=2)for(let d=a-u;d<=a+u;d++)s.set(d,a-u),s.set(d,a+u),s.set(a-u,d),s.set(a+u,d);s.set(a-l,a-l),s.set(a-l+1,a-l),s.set(a-l,a-l+1),s.set(a+l,a-l),s.set(a+l,a-l+1),s.set(a+l,a+l-1)}static generateModeMessage(s,a,l){let u=new $t;return s?(u.appendBits(a-1,2),u.appendBits(l-1,6),u=Ze.generateCheckWords(u,28,4)):(u.appendBits(a-1,5),u.appendBits(l-1,11),u=Ze.generateCheckWords(u,40,4)),u}static drawModeMessage(s,a,l,u){let d=$e.truncDivision(l,2);if(a)for(let h=0;h<7;h++){let g=d-3+h;u.get(h)&&s.set(g,d-5),u.get(h+7)&&s.set(d+5,g),u.get(20-h)&&s.set(g,d+5),u.get(27-h)&&s.set(d-5,g)}else for(let h=0;h<10;h++){let g=d-5+h+$e.truncDivision(h,5);u.get(h)&&s.set(g,d-7),u.get(h+10)&&s.set(d+7,g),u.get(29-h)&&s.set(g,d+7),u.get(39-h)&&s.set(d-7,g)}}static generateCheckWords(s,a,l){let u=s.getSize()/l,d=new vi(Ze.getGF(l)),h=$e.truncDivision(a,l),g=Ze.bitsToWords(s,l,h);d.encode(g,h-u);let _=a%l,v=new $t;v.appendBits(0,_);for(const C of Array.from(g))v.appendBits(C,l);return v}static bitsToWords(s,a,l){let d,h,u=new Int32Array(l);for(d=0,h=s.getSize()/a;d<h;d++){let g=0;for(let _=0;_<a;_++)g|=s.get(d*a+_)?1<<a-_-1:0;u[d]=g}return u}static getGF(s){switch(s){case 4:return _t.AZTEC_PARAM;case 6:return _t.AZTEC_DATA_6;case 8:return _t.AZTEC_DATA_8;case 10:return _t.AZTEC_DATA_10;case 12:return _t.AZTEC_DATA_12;default:throw new be("Unsupported word size "+s)}}static stuffBits(s,a){let l=new $t,u=s.getSize(),d=(1<<a)-2;for(let h=0;h<u;h+=a){let g=0;for(let _=0;_<a;_++)(h+_>=u||s.get(h+_))&&(g|=1<<a-1-_);(g&d)===d?(l.appendBits(g&d,a),h--):0==(g&d)?(l.appendBits(1|g,a),h--):l.appendBits(g,a)}return l}static totalBitsInLayer(s,a){return((a?88:112)+16*s)*s}}Ze.DEFAULT_EC_PERCENT=33,Ze.DEFAULT_AZTEC_LAYERS=0,Ze.MAX_NB_BITS=32,Ze.MAX_NB_BITS_COMPACT=4,Ze.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ro{encode(s,a,l,u){return this.encodeWithHints(s,a,l,u,null)}encodeWithHints(s,a,l,u,d){let h=or.ISO_8859_1,g=Ze.DEFAULT_EC_PERCENT,_=Ze.DEFAULT_AZTEC_LAYERS;return null!=d&&(d.has(Ln.CHARACTER_SET)&&(h=vr.forName(d.get(Ln.CHARACTER_SET).toString())),d.has(Ln.ERROR_CORRECTION)&&(g=$e.parseInt(d.get(Ln.ERROR_CORRECTION).toString())),d.has(Ln.AZTEC_LAYERS)&&(_=$e.parseInt(d.get(Ln.AZTEC_LAYERS).toString()))),ro.encodeLayers(s,a,l,u,h,g,_)}static encodeLayers(s,a,l,u,d,h,g){if(a!==Me.AZTEC)throw new be("Can only encode AZTEC, but got "+a);let _=Ze.encode(ze.getBytes(s,d),h,g);return ro.renderResult(_,l,u)}static renderResult(s,a,l){let u=s.getMatrix();if(null==u)throw new Co;let d=u.getWidth(),h=u.getHeight(),g=Math.max(a,d),_=Math.max(l,h),v=Math.min(g/d,_/h),C=(g-d*v)/2,x=(_-h*v)/2,T=new Yn(g,_);for(let R=0,k=x;R<h;R++,k+=v)for(let L=0,H=C;L<d;L++,H+=v)u.get(L,R)&&T.setRegion(H,k,v,v);return T}}te.AbstractExpandedDecoder=xo,te.ArgumentException=Zr,te.ArithmeticException=cd,te.AztecCode=Zo,te.AztecCodeReader=cc,te.AztecCodeWriter=ro,te.AztecDecoder=ac,te.AztecDetector=fd,te.AztecDetectorResult=ud,te.AztecEncoder=Ze,te.AztecHighLevelEncoder=Li,te.AztecPoint=kr,te.BarcodeFormat=Me,te.Binarizer=jo,te.BinaryBitmap=Ki,te.BitArray=$t,te.BitMatrix=Yn,te.BitSource=Lt,te.BrowserAztecCodeReader=class fp extends Go{constructor(s=500){super(new cc,s)}},te.BrowserBarcodeReader=class kt extends Go{constructor(s=500,a){super(new bs(a),s,a)}},te.BrowserCodeReader=Go,te.BrowserDatamatrixCodeReader=class __ extends Go{constructor(s=500){super(new Cs,s)}},te.BrowserMultiFormatReader=class xt extends Go{constructor(s=null,a=500){const l=new Yo;l.setHints(s),super(l,a)}decodeBitmap(s){return this.reader.decodeWithState(s)}},te.BrowserPDF417Reader=class Za extends Go{constructor(s=500){super(new _r,s)}},te.BrowserQRCodeReader=class vc extends Go{constructor(s=500){super(new Pn,s)}},te.BrowserQRCodeSvgWriter=bp,te.CharacterSetECI=le,te.ChecksumException=Un,te.Code128Reader=ce,te.Code39Reader=hd,te.DataMatrixDecodedBitStreamParser=So,te.DataMatrixReader=Cs,te.DecodeHintType=Yt,te.DecoderResult=Ks,te.DefaultGridSampler=wo,te.DetectorResult=ea,te.EAN13Reader=ta,te.EncodeHintType=Ln,te.Exception=pr,te.FormatException=ue,te.GenericGF=_t,te.GenericGFPoly=gr,te.GlobalHistogramBinarizer=Zt,te.GridSampler=dd,te.GridSamplerInstance=Do,te.HTMLCanvasElementLuminanceSource=eo,te.HybridBinarizer=nt,te.ITFReader=Xt,te.IllegalArgumentException=be,te.IllegalStateException=Co,te.InvertedLuminanceSource=pt,te.LuminanceSource=ys,te.MathUtils=vt,te.MultiFormatOneDReader=bs,te.MultiFormatReader=Yo,te.MultiFormatWriter=class me{encode(s,a,l,u,d){let h;if(a!==Me.QR_CODE)throw new be("No encoder available for format "+a);return h=new yc,h.encode(s,a,l,u,d)}},te.NotFoundException=X,te.OneDReader=Vn,te.PDF417DecodedBitStreamParser=$,te.PDF417DecoderErrorCorrection=ft,te.PDF417Reader=_r,te.PDF417ResultMetadata=wd,te.PerspectiveTransform=Mi,te.PlanarYUVLuminanceSource=Br,te.QRCodeByteMatrix=Xa,te.QRCodeDataMask=Ar,te.QRCodeDecodedBitStreamParser=Ri,te.QRCodeDecoderErrorCorrectionLevel=Bt,te.QRCodeDecoderFormatInformation=Se,te.QRCodeEncoder=Te,te.QRCodeEncoderQRCode=fe,te.QRCodeMaskUtil=ki,te.QRCodeMatrixUtil=Re,te.QRCodeMode=Oe,te.QRCodeReader=Pn,te.QRCodeVersion=Ne,te.QRCodeWriter=yc,te.RGBLuminanceSource=At,te.RSS14Reader=mn,te.RSSExpandedReader=J,te.ReaderException=Ed,te.ReedSolomonDecoder=Ha,te.ReedSolomonEncoder=vi,te.ReedSolomonException=Va,te.Result=je,te.ResultMetadataType=Ye,te.ResultPoint=De,te.StringUtils=ze,te.UnsupportedOperationException=Ji,te.VideoInputDevice=ld,te.WhiteRectangleDetector=lc,te.WriterException=Qt,te.ZXingArrays=kn,te.ZXingCharset=vr,te.ZXingInteger=$e,te.ZXingStandardCharsets=or,te.ZXingStringBuilder=Tt,te.ZXingStringEncoding=rr,te.ZXingSystem=zt,te.createAbstractExpandedDecoder=md,Object.defineProperty(te,"__esModule",{value:!0})}(od)}},id=>{id(id.s=339)}]);