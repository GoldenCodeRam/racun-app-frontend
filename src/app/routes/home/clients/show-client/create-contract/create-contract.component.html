<div
    class="h-100 d-flex justify-content-center align-items-center"
    *ngIf="loading | async; else content"
>
    <div class="text-center">
        <div class="spinner-border text-blue-700" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
        <p>Cargando...</p>
    </div>
</div>

<ng-template #content>
    <div
        class="container text-center"
        *ngIf="clientContracts.length === 0; else contracts"
    >
        <p>El usuario no tiene un contrato.</p>
        <button class="btn btn-primary" (click)="openCreateContractModal()">
            <i class="bi bi-plus-lg"></i>
            Crear nuevo contrato
        </button>
    </div>
    <ng-template #contracts>
        <div class="container">
            <div
                *ngFor="let contract of clientContracts"
                class="shadow-sm border rounded px-4 py-2"
            >
                <h3>Contrato {{ contract.id }}</h3>

                <button
                    class="btn btn-primary"
                    (click)="generateInvoice(contract.id)"
                >
                    <i class="bi bi-filetype-pdf"></i>
                    Generar factura
                </button>
            </div>
        </div>
    </ng-template>
</ng-template>
